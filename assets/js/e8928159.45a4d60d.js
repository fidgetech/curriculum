"use strict";(self.webpackChunklhtp=self.webpackChunklhtp||[]).push([[28806],{28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>o});var i=t(96540);const a={},r=i.createContext(a);function s(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),i.createElement(r.Provider,{value:n},e.children)}},82495:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"c-and-net/basic-web-applications/3-2-0-14-dynamic-views-with-razor-markup-syntax","title":"\ud83d\udcd3 3.2.0.14 Dynamic Views with Razor Markup Syntax","description":"So far, our views have only used basic HTML. In this lesson, we\'ll explore how to add logic to our views using the model we created in the last lesson with the Razor markup syntax.","source":"@site/versioned_docs/version-v1_3/3_c-and-net/2_basic-web-applications/3-2-0-14-dynamic-views-with-razor-markup-syntax.md","sourceDirName":"3_c-and-net/2_basic-web-applications","slug":"/c-and-net/basic-web-applications/3-2-0-14-dynamic-views-with-razor-markup-syntax","permalink":"/v1.3/c-and-net/basic-web-applications/3-2-0-14-dynamic-views-with-razor-markup-syntax","draft":false,"unlisted":false,"tags":[],"version":"v1_3","frontMatter":{"title":"\ud83d\udcd3 3.2.0.14 Dynamic Views with Razor Markup Syntax","day":"weekend","id":"3-2-0-14-dynamic-views-with-razor-markup-syntax","hide_table_of_contents":true},"sidebar":"c-and-net","previous":{"title":"\ud83d\udcd3 3.2.0.13 Creating a Basic Model","permalink":"/v1.3/c-and-net/basic-web-applications/3-2-0-13-creating-a-basic-model"},"next":{"title":"\ud83d\udcd3 3.2.0.15 Using Forms with MVC","permalink":"/v1.3/c-and-net/basic-web-applications/3-2-0-15-using-forms-with-mvc"}}');var a=t(74848),r=t(28453);const s={title:"\ud83d\udcd3 3.2.0.14 Dynamic Views with Razor Markup Syntax",day:"weekend",id:"3-2-0-14-dynamic-views-with-razor-markup-syntax",hide_table_of_contents:!0},o=void 0,l={},d=[{value:"Dynamic View Data with Razor",id:"dynamic-view-data-with-razor",level:2},{value:"Razor Syntax",id:"razor-syntax",level:3},{value:"Updating a Controller to Use a Model",id:"updating-a-controller-to-use-a-model",level:3},{value:"Adding a Sender",id:"adding-a-sender",level:3}];function c(e){const n={a:"a",code:"code",div:"div",em:"em",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.p,{children:["So far, our views have only used basic HTML. In this lesson, we'll explore how to add logic to our views using the model we created in the last lesson with the ",(0,a.jsx)(n.strong,{children:"Razor markup syntax"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["Let's personalize the greeting in our virtual postcard application so that our application renders specific names instead of just ",(0,a.jsx)(n.em,{children:"Dear Friend"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"dynamic-view-data-with-razor",children:"Dynamic View Data with Razor"}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsxs)(n.p,{children:["To do this, we'll use ",(0,a.jsx)(n.strong,{children:"Razor"}),", a markup syntax that allows us to add C# logic to views. It's already built into the MVC framework so we don't have to install anything special."]}),"\n",(0,a.jsxs)(n.p,{children:["We can update our ",(0,a.jsx)(n.code,{children:"Letter.cshtml"})," view to use Razor syntax like this:"]}),"\n",(0,a.jsx)(n.div,{className:"filename",children:"FriendLetter/Views/Home/Letter.cshtml"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",children:'<!DOCTYPE html>\n<html>\n  <head>\n    <title>Hello Friend!</title>\n    <link \n      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" \n      rel="stylesheet" \n      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" \n      crossorigin="anonymous">\n    <meta charset=\'utf-8\'>\n  </head>\n  <body>\n    <h1>Hello From Afar</h1>\n    <p>Dear @Model.Recipient,</p> \n    <p>How are you? I hope that you are having a nice weekend. I\'m vacationing in Iceland while I learn programming! </p>\n    <p>@Model.Recipient, you would not believe how cold it is here. I should have gone to Hawaii instead.</p>\n    <p>But I like programming a lot, so I\'ve got that going for me. </p>\n    <p>Looking forward to seeing you soon. I\'ll bring you back a souvenir. </p>\n    <p>Cheers,</p>\n    <p>Travel Enthusiast Jane</p>\n  </body>\n</html>\n'})}),"\n",(0,a.jsxs)(n.p,{children:["We've replaced two instances of the term ",(0,a.jsx)(n.em,{children:"friend"})," with the following code:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",children:"@Model.Recipient\n"})}),"\n",(0,a.jsx)(n.h3,{id:"razor-syntax",children:"Razor Syntax"}),"\n",(0,a.jsx)(n.p,{children:"Let's break down this Razor syntax further:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.code,{children:"@"})," character indicates the start of Razor code. Razor will evaluate anything following this symbol."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"Model"})," is a property that Razor provides so we can access the model that's passed into the view. We haven't passed in a model into the view yet, but we will soon. In this case, we'll be passing in an instance of the ",(0,a.jsx)(n.code,{children:"LetterVariable"})," class that we created in the last lesson."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["Since we're passing in a ",(0,a.jsx)(n.code,{children:"LetterVariable"})," object into the view as Razor's ",(0,a.jsx)(n.code,{children:"Model"})," property, that means we can access the ",(0,a.jsx)(n.code,{children:"LetterVariable"}),"'s ",(0,a.jsx)(n.code,{children:"Recipient"})," property. This will let us put a unique name in the view instead of the more generic ",(0,a.jsx)(n.em,{children:"friend"}),"."]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"updating-a-controller-to-use-a-model",children:"Updating a Controller to Use a Model"}),"\n",(0,a.jsxs)(n.p,{children:["Next, we need to make our ",(0,a.jsx)(n.code,{children:"FriendLetter"})," model available to our controller:"]}),"\n",(0,a.jsx)(n.div,{className:"filename",children:"FriendLetter/Controllers/HomeController.cs"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-csharp",children:"using FriendLetter.Models;\n\n...\n"})}),"\n",(0,a.jsxs)(n.p,{children:["We'll update our ",(0,a.jsx)(n.code,{children:"Letter()"})," route to create a new instance of our ",(0,a.jsx)(n.code,{children:"LetterVariable"})," class and provide it to the view:"]}),"\n",(0,a.jsx)(n.div,{className:"filename",children:"FriendLetter/Controllers/HomeController.cs"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-csharp",children:'...\n  public class HomeController : Controller\n  {\n    ...\n\n    [Route("/")]\n    public ActionResult Letter()\n    {\n      LetterVariable myLetterVariable = new LetterVariable();\n      myLetterVariable.Recipient = "Lina";\n      return View(myLetterVariable);\n    }\n  }\n...\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Our ",(0,a.jsx)(n.code,{children:"Letter()"})," route creates a new instance of the type ",(0,a.jsx)(n.code,{children:"LetterVariable"})," and saves it to the variable ",(0,a.jsx)(n.code,{children:"myLetterVariable"}),". We then access the the ",(0,a.jsx)(n.code,{children:"myLetterVariable.Recipient"})," property and give it a value. Finally, we pass the ",(0,a.jsx)(n.code,{children:"myLetterVariable"})," into the view. This ensures our corresponding ",(0,a.jsx)(n.code,{children:"Letter.cshtml"})," view now has access to our ",(0,a.jsx)(n.code,{children:"LetterVariable"})," object."]}),"\n",(0,a.jsxs)(n.p,{children:["Our application is using what's called ",(0,a.jsx)(n.strong,{children:"model binding"})," to pass data from one part of an application to another. Because instances of ",(0,a.jsx)(n.code,{children:"@Model"})," in the view represent the argument we've passed into the ",(0,a.jsx)(n.code,{children:"View()"})," method, ",(0,a.jsx)(n.code,{children:"@Model.Recipient"})," is the same as calling ",(0,a.jsx)(n.code,{children:"myLetterVariable.Recipient"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["If we restart the server and visit ",(0,a.jsx)(n.em,{children:(0,a.jsx)(n.a,{href:"http://localhost:5000",children:"http://localhost:5000"})}),", we'll see the name ",(0,a.jsx)(n.code,{children:'"Lina"'})," is now rendered in our view in two locations."]}),"\n",(0,a.jsxs)(n.p,{children:["With this code in place, we can easily change the name of the ",(0,a.jsx)(n.code,{children:"Recipient"})," again. We just need to update ",(0,a.jsx)(n.code,{children:'myLetterVariable.Recipient = "Lina";'})," in the ",(0,a.jsx)(n.code,{children:"HomeController"}),"'s ",(0,a.jsx)(n.code,{children:"Letter()"})," method."]}),"\n",(0,a.jsx)(n.h3,{id:"adding-a-sender",children:"Adding a Sender"}),"\n",(0,a.jsxs)(n.p,{children:["Now let's update our application to allow any ",(0,a.jsx)(n.code,{children:"Sender"})," to create a letter to their friends. To accommodate this, we'll need to make the sender of the letter dynamic, just like the recipient. We can easily do this by adding another property to the ",(0,a.jsx)(n.code,{children:"LetterVariables"})," model class:"]}),"\n",(0,a.jsx)(n.div,{className:"filename",children:"FriendLetter/Models/LetterVariable.cs"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-csharp",children:"namespace FriendLetter.Models\n{\n  public class LetterVariable\n  {\n    public string Recipient { get; set; }\n    public string Sender { get; set; }\n\n    ...\n...\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Here we've simply added a ",(0,a.jsx)(n.code,{children:"Sender"})," property to our existing class."]}),"\n",(0,a.jsx)(n.p,{children:"Now we'll make a quick update to our route method:"}),"\n",(0,a.jsx)(n.div,{className:"filename",children:"FriendLetter/Controllers/HomeController.cs"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-csharp",children:'...\n\n    [Route("/")]\n    public ActionResult Letter()\n    {\n      LetterVariable myLetterVariable = new LetterVariable();\n      myLetterVariable.Recipient = "Lina";\n      myLetterVariable.Sender = "Jasmine";\n      return View(myLetterVariable);\n    }\n\n...\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Finally, we'll add a dynamic ",(0,a.jsx)(n.code,{children:"@Model.Sender"})," variable to our existing view:"]}),"\n",(0,a.jsx)(n.div,{className:"filename",children:"FriendLetter/Views/Home/Letter.cshtml"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",children:'<!DOCTYPE html>\n<html>\n  <head>\n    <title>Hello Friend!</title>\n    <link \n      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" \n      rel="stylesheet" \n      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" \n      crossorigin="anonymous">\n    <meta charset=\'utf-8\'>\n  </head>\n  <body>\n    <h1>Hello From Afar</h1>\n    <p>Dear @Model.Recipient,</p>\n    <p>How are you? I hope that you are having a nice weekend. I\'m vacationing in Iceland while I learn programming! </p>\n    <p>@Model.Recipient, you would not believe how cold it is here. I should have gone to Hawaii instead.</p>\n    <p>But I like programming a lot, so I\'ve got that going for me. </p>\n    <p>Looking forward to seeing you soon. I\'ll bring you back a souvenir. </p>\n    <p>Cheers,</p>\n    <p>Travel Enthusiast @Model.Sender</p>\n  </body>\n</html>\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Now when we restart the server and reload the page, we'll see that both the ",(0,a.jsx)(n.code,{children:"Recipient"})," and ",(0,a.jsx)(n.code,{children:"Sender"})," are dynamically added to the HTML."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}}}]);