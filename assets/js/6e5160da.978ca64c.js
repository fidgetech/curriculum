"use strict";(self.webpackChunklhtp=self.webpackChunklhtp||[]).push([[17749],{28453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>i});var r=n(96540);const o={},a=r.createContext(o);function s(e){const t=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),r.createElement(a.Provider,{value:t},e.children)}},76819:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>l,frontMatter:()=>s,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"c-and-net/lessons-32-44-tdd-and-debugging/3-0-0-44-improving-development-by-using-a-watcher","title":"\ud83d\udcd3 3.0.0.44 Improving Development by Using a Watcher","description":"Right now our applications run until they end, but we can change that with the help of a watcher, which will run our app continuously and (in most cases) reload when our source code changes.","source":"@site/docs/3_c-and-net/0_lessons-32-44-tdd-and-debugging/3-0-0-44-improving-development-by-using-a-watcher.md","sourceDirName":"3_c-and-net/0_lessons-32-44-tdd-and-debugging","slug":"/c-and-net/lessons-32-44-tdd-and-debugging/3-0-0-44-improving-development-by-using-a-watcher","permalink":"/v1.2/c-and-net/lessons-32-44-tdd-and-debugging/3-0-0-44-improving-development-by-using-a-watcher","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"\ud83d\udcd3 3.0.0.44 Improving Development by Using a Watcher","day":"weekend","id":"3-0-0-44-improving-development-by-using-a-watcher","hide_table_of_contents":true,"pagination_next":null},"sidebar":"c-and-net","previous":{"title":"\ud83d\udcd3 3.0.0.43 Debugging Tools","permalink":"/v1.2/c-and-net/lessons-32-44-tdd-and-debugging/3-0-0-43-debugging-tools"}}');var o=n(74848),a=n(28453);const s={title:"\ud83d\udcd3 3.0.0.44 Improving Development by Using a Watcher",day:"weekend",id:"3-0-0-44-improving-development-by-using-a-watcher",hide_table_of_contents:!0,pagination_next:null},i=void 0,c={},d=[{value:"The <code>dotnet</code> Watcher",id:"the-dotnet-watcher",level:2},{value:"Errors",id:"errors",level:3},{value:"Using the Watcher with <code>dotnet build</code>",id:"using-the-watcher-with-dotnet-build",level:3}];function h(e){const t={code:"code",h2:"h2",h3:"h3",hr:"hr",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.p,{children:"Right now our applications run until they end, but we can change that with the help of a watcher, which will run our app continuously and (in most cases) reload when our source code changes."}),"\n",(0,o.jsxs)(t.h2,{id:"the-dotnet-watcher",children:["The ",(0,o.jsx)(t.code,{children:"dotnet"})," Watcher"]}),"\n",(0,o.jsx)(t.hr,{}),"\n",(0,o.jsxs)(t.p,{children:["Let's modify our ",(0,o.jsx)(t.code,{children:"dotnet run"})," command to save us some more time. .NET 6 provides a tool called a ",(0,o.jsx)(t.strong,{children:"watcher"}),". A watcher will monitor our files for us. Let's run the watcher now."]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"$ dotnet watch run\n"})}),"\n",(0,o.jsxs)(t.p,{children:["This command tells .NET to watch our application and then execute the ",(0,o.jsx)(t.code,{children:"run"})," command any time a change is made to our source code."]}),"\n",(0,o.jsxs)(t.p,{children:["Here's the output in the terminal when we run our ",(0,o.jsx)(t.code,{children:"watch"})," command:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:'dotnet watch \ud83d\udd25 Hot reload enabled. For a list of supported edits, see https://aka.ms/dotnet/hot-reload. \n  \ud83d\udca1 Press "Ctrl + R" to restart.\ndotnet watch \ud83d\udd27 Building...\n  Determining projects to restore...\n  All projects are up-to-date for restore.\n  ShapeTracker -> C:\\Users\\staff\\Desktop\\ShapeTracker.Soltuion\\ShapeTracker\\bin\\Debug\\net6.0\\ShapeTracker.dll\ndotnet watch \ud83d\ude80 Started\n'})}),"\n",(0,o.jsxs)(t.p,{children:["With console apps, usually the ",(0,o.jsx)(t.code,{children:"watch : Started"})," message will quickly be replaced by the console UI. If you make a small change to the code, .NET will automatically run our program again. Try it out!"]}),"\n",(0,o.jsx)(t.h3,{id:"errors",children:"Errors"}),"\n",(0,o.jsx)(t.p,{children:"If you have an error in your project, the output will look something like this:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"dotnet watch \ud83d\udd25 Hot reload enabled. For a list of supported edits, see https://aka.ms/dotnet/hot-reload. \n  \ud83d\udca1 Press \"Ctrl + R\" to restart.\ndotnet watch \ud83d\udd27 Building...\n  Determining projects to restore...\n  All projects are up-to-date for restore.\nC:\\Users\\staff\\Desktop\\ShapeTracker.Soltuion\\ShapeTracker\\Models\\Triangle.cs(57,14): error CS0103: The name '_instance' does not e\nxist in the current context [C:\\Users\\staff\\Desktop\\ShapeTracker.Soltuion\\ShapeTracker\\ShapeTracker.csproj]\ndotnet watch \u23f3 Waiting for a file to change before restarting dotnet...\n"})}),"\n",(0,o.jsxs)(t.p,{children:["If you have such an error, you can simply fix it, save the file(s), and .NET will reload your program. Looking at the above terminal output, the error message is \"The name '_instance' does not exist in the current context\" and the location of the error is line 57 of ",(0,o.jsx)(t.code,{children:"Triangle.cs"}),". We can fix this error message by updating ",(0,o.jsx)(t.code,{children:"_instance"})," to ",(0,o.jsx)(t.code,{children:"_instances"}),"."]}),"\n",(0,o.jsxs)(t.h3,{id:"using-the-watcher-with-dotnet-build",children:["Using the Watcher with ",(0,o.jsx)(t.code,{children:"dotnet build"})]}),"\n",(0,o.jsxs)(t.p,{children:["We can also use the watcher to run other ",(0,o.jsx)(t.code,{children:"dotnet"})," commands, like ",(0,o.jsx)(t.code,{children:"build"}),"."]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"$ dotnet watch build\n"})}),"\n",(0,o.jsxs)(t.p,{children:["Which outputs the following error message if we haven't fixed the variable ",(0,o.jsx)(t.code,{children:"_instance"})," yet."]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"dotnet watch \ud83d\ude80 Started\nMSBuild version 17.3.2+561848881 for .NET\n  Determining projects to restore...\n  All projects are up-to-date for restore.\nC:\\Users\\staff\\Desktop\\ShapeTracker.Solution\\ShapeTracker\\Models\\Triangle.cs(57,14): error CS0103: The name '_instance' does not e\nxist in the current context [C:\\Users\\staff\\Desktop\\ShapeTracker.Solution\\ShapeTracker\\ShapeTracker.csproj]\n\nBuild FAILED.\n\nC:\\Users\\staff\\Desktop\\ShapeTracker.Solution\\ShapeTracker\\Models\\Triangle.cs(57,14): error CS0103: The name '_instance' does not e \nxist in the current context [C:\\Users\\staff\\Desktop\\ShapeTracker.Solution\\ShapeTracker\\ShapeTracker.csproj]\n    0 Warning(s)\n    1 Error(s)\n\nTime Elapsed 00:00:01.83\ndotnet watch \u274c Exited with error code 1\ndotnet watch \u23f3 Waiting for a file to change before restarting dotnet...\n"})}),"\n",(0,o.jsx)(t.p,{children:"Or this output when there are no errors:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"$ dotnet watch build\ndotnet watch \ud83d\ude80 Started\nMSBuild version 17.3.2+561848881 for .NET\n  Determining projects to restore...\n  All projects are up-to-date for restore.\n  ShapeTracker -> C:\\Users\\staff\\Desktop\\ShapeTracker.Solution\\ShapeTracker\\bin\\Debug\\net6.0\\ShapeTracker.dll\n\nBuild succeeded.\n    0 Warning(s)\n    0 Error(s)\n\nTime Elapsed 00:00:01.77\ndotnet watch \u231a Exited\ndotnet watch \u23f3 Waiting for a file to change before restarting dotnet...\n"})}),"\n",(0,o.jsxs)(t.p,{children:["This is great, because we can make changes to our code, then refer to the terminal to see the build output. Let's leave ",(0,o.jsx)(t.code,{children:"dotnet watch build"})," running and make a change to our code."]})]})}function l(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}}}]);