"use strict";(self.webpackChunklhtp=self.webpackChunklhtp||[]).push([[10100],{28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>a});var s=t(96540);const o={},r=s.createContext(o);function i(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),s.createElement(r.Provider,{value:n},e.children)}},39314:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>i,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"react/react-fundamentals/4-2-3-7-reusing-components","title":"\ud83d\udcd3 4.2.3.7 Reusing Components","description":"One of React\'s advantages is its ability to reuse components. Whenever we find ourselves copying code between components, we should ask: can this be extracted into a reusable component?","source":"@site/versioned_docs/version-v1_3/4_react/2_react-fundamentals/4-2-3-07-reusing-components.md","sourceDirName":"4_react/2_react-fundamentals","slug":"/react/react-fundamentals/4-2-3-7-reusing-components","permalink":"/v1.3/react/react-fundamentals/4-2-3-7-reusing-components","draft":false,"unlisted":false,"tags":[],"version":"v1_3","frontMatter":{"title":"\ud83d\udcd3 4.2.3.7 Reusing Components","day":"wednesday","id":"4-2-3-7-reusing-components","hide_table_of_contents":true},"sidebar":"react","previous":{"title":"\ud83d\udcd3 4.2.3.6 Deleting a Ticket","permalink":"/v1.3/react/react-fundamentals/4-2-3-6-deleting-a-ticket"},"next":{"title":"\ud83d\udcd3 4.2.3.8 Updating a Ticket","permalink":"/v1.3/react/react-fundamentals/4-2-3-8-updating-a-ticket"}}');var o=t(74848),r=t(28453);const i={title:"\ud83d\udcd3 4.2.3.7 Reusing Components",day:"wednesday",id:"4-2-3-7-reusing-components",hide_table_of_contents:!0},a=void 0,c={},l=[{value:"Our Roadmap",id:"our-roadmap",level:2},{value:"Step 1: Create the <code>ReusableForm</code> Component",id:"step-1-create-the-reusableform-component",level:2},{value:"Step 2: Refactor <code>NewTicketForm</code>",id:"step-2-refactor-newticketform",level:2},{value:"Recap",id:"recap",level:2}];function d(e){const n={code:"code",h2:"h2",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"One of React's advantages is its ability to reuse components. Whenever we find ourselves copying code between components, we should ask: can this be extracted into a reusable component?"}),"\n",(0,o.jsxs)(n.p,{children:["We're almost ready to add update functionality to our Help Queue. But first, let's think ahead. Our ",(0,o.jsx)(n.code,{children:"NewTicketForm"})," component has a form. We'll need an ",(0,o.jsx)(n.code,{children:"EditTicketForm"})," with the exact same fields. Instead of copying the form code (not DRY!), let's extract it into a ",(0,o.jsx)(n.code,{children:"ReusableForm"})," component that both can use."]}),"\n",(0,o.jsx)(n.h2,{id:"our-roadmap",children:"Our Roadmap"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["Create a ",(0,o.jsx)(n.code,{children:"ReusableForm"})," component"]}),"\n",(0,o.jsxs)(n.li,{children:["Refactor ",(0,o.jsx)(n.code,{children:"NewTicketForm"})," to use it"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"That's it \u2014 just two steps. We're setting ourselves up for the next lesson."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsxs)(n.h2,{id:"step-1-create-the-reusableform-component",children:["Step 1: Create the ",(0,o.jsx)(n.code,{children:"ReusableForm"})," Component"]}),"\n",(0,o.jsx)(n.p,{children:"This component's only job is to render the form. The parent component will handle what happens on submit."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",metastring:'title="src/components/ReusableForm.js"',children:"import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nfunction ReusableForm(props) {\n  const { formSubmissionHandler, buttonText } = props;\n\n  return (\n    <React.Fragment>\n      <form onSubmit={formSubmissionHandler}>\n        <input\n          type='text'\n          name='names'\n          placeholder='Pair Names' />\n        <input\n          type='text'\n          name='location'\n          placeholder='Location' />\n        <textarea\n          name='issue'\n          placeholder='Describe your issue.' />\n        <button type='submit'>{buttonText}</button>\n      </form>\n    </React.Fragment>\n  );\n}\n\nReusableForm.propTypes = {\n  formSubmissionHandler: PropTypes.func,\n  buttonText: PropTypes.string\n};\n\nexport default ReusableForm;\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"What makes it reusable:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"formSubmissionHandler"})," \u2014 each parent component can pass its own submit function"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"buttonText"}),' \u2014 the button can say "Help!" for new tickets or "Update" for edits']}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"The form fields themselves are identical for both use cases, so we hardcode those. If your app had forms with different fields, you could pass those as props too."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsxs)(n.h2,{id:"step-2-refactor-newticketform",children:["Step 2: Refactor ",(0,o.jsx)(n.code,{children:"NewTicketForm"})]}),"\n",(0,o.jsxs)(n.p,{children:["Now update ",(0,o.jsx)(n.code,{children:"NewTicketForm"})," to use our new component:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",metastring:'title="src/components/NewTicketForm.js"',children:'import React from "react";\nimport PropTypes from "prop-types";\nimport ReusableForm from "./ReusableForm";\nimport { v4 } from \'uuid\';\n\nfunction NewTicketForm(props) {\n\n  function handleNewTicketFormSubmission(event) {\n    event.preventDefault();\n    props.onNewTicketCreation({\n      names: event.target.names.value,\n      location: event.target.location.value,\n      issue: event.target.issue.value,\n      id: v4()\n    });\n  }\n\n  return (\n    <React.Fragment>\n      <ReusableForm\n        formSubmissionHandler={handleNewTicketFormSubmission}\n        buttonText="Help!" />\n    </React.Fragment>\n  );\n}\n\nNewTicketForm.propTypes = {\n  onNewTicketCreation: PropTypes.func\n};\n\nexport default NewTicketForm;\n'})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"What changed:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["We import ",(0,o.jsx)(n.code,{children:"ReusableForm"})]}),"\n",(0,o.jsxs)(n.li,{children:["The ",(0,o.jsx)(n.code,{children:"return"})," now renders ",(0,o.jsx)(n.code,{children:"ReusableForm"})," instead of the raw form JSX"]}),"\n",(0,o.jsx)(n.li,{children:"We pass our handler function and button text as props"}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"handleNewTicketFormSubmission"})," function stays here because it's specific to creating new tickets."]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"recap",children:"Recap"}),"\n",(0,o.jsx)(n.p,{children:"We extracted shared form JSX into a reusable component:"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Component"}),(0,o.jsx)(n.th,{children:"Responsibility"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"ReusableForm"})}),(0,o.jsx)(n.td,{children:"Renders form fields and button; calls whatever submit handler it receives"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"NewTicketForm"})}),(0,o.jsxs)(n.td,{children:["Handles the logic for creating a new ticket; passes its handler to ",(0,o.jsx)(n.code,{children:"ReusableForm"})]})]})]})]}),"\n",(0,o.jsxs)(n.p,{children:["This may seem like extra work for little benefit right now. But in the next lesson, we'll create ",(0,o.jsx)(n.code,{children:"EditTicketForm"})," \u2014 and instead of copying many lines of form JSX, we'll just reuse ",(0,o.jsx)(n.code,{children:"ReusableForm"})," with a different handler."]})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}}}]);