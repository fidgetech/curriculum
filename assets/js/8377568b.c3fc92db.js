"use strict";(self.webpackChunklhtp=self.webpackChunklhtp||[]).push([[50681],{28453:(e,n,a)=>{a.d(n,{R:()=>r,x:()=>i});var t=a(96540);const s={},o=t.createContext(s);function r(e){const n=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),t.createElement(o.Provider,{value:n},e.children)}},38902:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"intermediate-javascript/asynchrony-and-apis/2-3-0-6-parsing-json","title":"\ud83d\udcd3 2.3.0.6 Parsing JSON","description":"Before we continue on to making API calls with JavaScript, let\'s take a look at an example of a potential response from the OpenWeather API. Often an API call will return complex, deeply-nested JSON. Because JSON is just a set of key-value pairs, we can navigate through it just as we would JavaScript properties of an object.","source":"@site/versioned_docs/version-v1_3/2_intermediate-javascript/3_asynchrony-and-apis/2-3-0-06-parsing-json.md","sourceDirName":"2_intermediate-javascript/3_asynchrony-and-apis","slug":"/intermediate-javascript/asynchrony-and-apis/2-3-0-6-parsing-json","permalink":"/v1.3/intermediate-javascript/asynchrony-and-apis/2-3-0-6-parsing-json","draft":false,"unlisted":false,"tags":[],"version":"v1_3","frontMatter":{"title":"\ud83d\udcd3 2.3.0.6 Parsing JSON","day":"weekend","id":"2-3-0-6-parsing-json","hide_table_of_contents":true},"sidebar":"intermediate-javascript","previous":{"title":"\ud83d\udcd3 2.3.0.5 Testing API Calls with Postman","permalink":"/v1.3/intermediate-javascript/asynchrony-and-apis/2-3-0-5-testing-api-calls-with-postman"},"next":{"title":"\ud83d\udcd3 2.3.0.7 Making API Calls with JavaScript","permalink":"/v1.3/intermediate-javascript/asynchrony-and-apis/2-3-0-7-making-api-calls-with-javascript"}}');var s=a(74848),o=a(28453);const r={title:"\ud83d\udcd3 2.3.0.6 Parsing JSON",day:"weekend",id:"2-3-0-6-parsing-json",hide_table_of_contents:!0},i=void 0,c={},l=[{value:"Parsing JSON",id:"parsing-json",level:2},{value:"Accessing Array Keys",id:"accessing-array-keys",level:3},{value:"Looping Through Arrays",id:"looping-through-arrays",level:3}];function d(e){const n={code:"code",h2:"h2",h3:"h3",hr:"hr",img:"img",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Before we continue on to making API calls with JavaScript, let's take a look at an example of a potential response from the OpenWeather API. Often an API call will return complex, deeply-nested JSON. Because JSON is just a set of key-value pairs, we can navigate through it just as we would JavaScript properties of an object."}),"\n",(0,s.jsx)(n.p,{children:"While we've already worked with JavaScript objects, actually navigating JSON can still be challenging for students at first. A big part of this is the fact that the JSON we are working with is usually more complex than anything we've worked with before. But don't worry \u2014 it's not that complex once we understand how to navigate it."}),"\n",(0,s.jsx)(n.h2,{id:"parsing-json",children:"Parsing JSON"}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:["We'll often need to get very specific properties from an API response and at the very least we'll probably want to take this JSON data and convert it to a format that looks pleasing on a website. To do that, we need to ",(0,s.jsx)(n.strong,{children:"parse"})," the data. That just means breaking it down further to extract the data we need."]}),"\n",(0,s.jsx)(n.p,{children:"We'll use a potential response from the weather API as an example:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n    "coord": {\n        "lon": -70.25,\n        "lat": 43.66\n    },\n    "weather": [\n        {\n            "id": 801,\n            "main": "Clouds",\n            "description": "few clouds",\n            "icon": "02d"\n        }\n    ],\n    "base": "stations",\n    "main": {\n        "temp": 293.48,\n        "pressure": 1019,\n        "humidity": 45,\n        "temp_min": 291.15,\n        "temp_max": 295.93\n    },\n    "visibility": 16093,\n    "wind": {\n        "speed": 2.1\n    },\n    "clouds": {\n        "all": 20\n    },\n    "dt": 1567702485,\n    "sys": {\n        "type": 1,\n        "id": 5454,\n        "message": 0.008,\n        "country": "US",\n        "sunrise": 1567678140,\n        "sunset": 1567725058\n    },\n    "timezone": -14400,\n    "id": 4975802,\n    "name": "Portland",\n    "cod": 200\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Note that this JSON object is mostly a collection of nested key-value pairs. Sometimes the value is a set of yet more key-value pairs. For instance, ",(0,s.jsx)(n.code,{children:'"lon"'})," is a key in an object. This object is itself a value of ",(0,s.jsx)(n.code,{children:'"coord"'}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["If we were to save this JSON object in a ",(0,s.jsx)(n.code,{children:"const"})," variable called ",(0,s.jsx)(n.code,{children:"jsonWeather"}),", we can access ",(0,s.jsx)(n.code,{children:'"coord"'})," using either bracket notation or dot notation \u2014 just as we would access properties of other JavaScript objects."]}),"\n",(0,s.jsxs)(n.p,{children:["Go ahead and open the DevTools console and then store the JSON data above in a variable ",(0,s.jsx)(n.code,{children:"const jsonWeather"})," so you can follow along with these examples."]}),"\n",(0,s.jsx)(n.p,{children:"Here's an example using dot notation:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"> jsonWeather.coord;\n{lon: -70.25, lat: 43.66}\n"})}),"\n",(0,s.jsx)(n.p,{children:"Here's an example using bracket notation:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'> jsonWeather["coord"];\n{lon: -70.25, lat: 43.66}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["In general, dot notation is cleaner, however if a property name uses a special character, we must use bracket notation. For example, if there were a key called ",(0,s.jsx)(n.code,{children:'"current-weather"'})," we would have to access it with bracket notation: ",(0,s.jsx)(n.code,{children:'jsonWeather["current-weather"]'}),". Otherwise, we'll get a syntax error."]}),"\n",(0,s.jsxs)(n.p,{children:["To access the ",(0,s.jsx)(n.code,{children:'"lon"'})," property that's nested inside of ",(0,s.jsx)(n.code,{children:'"coord"'}),", we'll need to do the following, assuming we are using dot notation:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"> jsonWeather.coord.lon;\n-70.25\n"})}),"\n",(0,s.jsx)(n.p,{children:"With a very deeply nested object, we might have to continue specifying properties. In pseudocode, this would look something like this:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"object.property.nested_property.deeply_nested_property\n"})}),"\n",(0,s.jsx)(n.p,{children:"Chaining dot notation in this way will allow us to access most of the properties in a JSON object."}),"\n",(0,s.jsx)(n.h3,{id:"accessing-array-keys",children:"Accessing Array Keys"}),"\n",(0,s.jsxs)(n.p,{children:["However, if we look more closely at the JSON object above, we'll see that there's an array inside of the ",(0,s.jsx)(n.code,{children:'"weather"'})," property:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'"weather": [\n        {\n            "id": 801,\n            "main": "Clouds",\n            "description": "few clouds",\n            "icon": "02d"\n        }\n    ],\n...\n'})}),"\n",(0,s.jsx)(n.p,{children:"Let's see what happens if we try to access it in the same way we'd access other key-value pairs:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"> jsonWeather.weather.id;\nundefined\n"})}),"\n",(0,s.jsxs)(n.p,{children:["As we can see, ",(0,s.jsx)(n.code,{children:"object.weather.id"})," is ",(0,s.jsx)(n.code,{children:"undefined"}),". This is because ",(0,s.jsx)(n.code,{children:'"id"'})," is not a property of ",(0,s.jsx)(n.code,{children:'"weather"'}),". Instead, it's an element in an array. We can access that element just as we'd access an element in any other JavaScript array:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'> jsonWeather.weather[0];\n{id: 801, main: "Clouds", description: "few clouds", icon: "02d"}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["We specify that we want the first (and only) element of the array by adding ",(0,s.jsx)(n.code,{children:"[0]"}),". Now we can access more deeply nested key-value pairs within that array element, just as we did before:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'> jsonWeather.weather[0].main;\n"Clouds"\n'})}),"\n",(0,s.jsx)(n.p,{children:"Pay close attention to how key-value pairs are nested inside of JSON objects. If you are having issues getting a deeply nested value, make the API call in Postman and then copy the response's JSON body and paste it into the DevTools console, saving it in a variable."}),"\n",(0,s.jsxs)(n.p,{children:["For instance, here is the process we might use to find the ",(0,s.jsx)(n.code,{children:'["id"]'})," property in the OpenWeather API's response. Remember that we can use either dot notation or bracket notation. The example below uses bracket notation \u2014 just to ensure you are familiar with both forms of notation:"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"An example of using the console to find a deeply nested property",src:a(39443).A+"",width:"1450",height:"1784"})}),"\n",(0,s.jsx)(n.h3,{id:"looping-through-arrays",children:"Looping Through Arrays"}),"\n",(0,s.jsx)(n.p,{children:"Finally, don't forget that once we reach the level of an array in JSON data, we can loop through it just like we would any other array. For instance, let's say we have some JSON that looks like this:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n    "data": [\n        {\n            "id": 1,\n            "name": "Jayne"\n        },\n        {\n            "id": 2,\n            "name": "Jasmine"\n        },\n        {\n            "id": 3,\n            "name": "Ada"\n        },\n    ]\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["If this were saved inside ",(0,s.jsx)(n.code,{children:"const json"}),", we could do the following:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"json.data.map(function(person) {\n  return person.name;\n});\n"})}),"\n",(0,s.jsxs)(n.p,{children:["This would return the array ",(0,s.jsx)(n.code,{children:'["Jayne", "Jasmine", "Ada"]'}),". We could use any other type of loop as well, such as ",(0,s.jsx)(n.code,{children:"Array.prototype.forEach()"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"If you're ever unsure of how to handle data inside JSON, just remember that the usual JavaScript rules about objects and arrays apply. And don't forget to use the console and other tools to parse JSON. That way, it will be much easier to parse JSON in your code as well."})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},39443:(e,n,a)=>{a.d(n,{A:()=>t});const t=a.p+"assets/images/exploring-json-in-console-31d168fa30ea7e60be425957b506ce56.png"}}]);