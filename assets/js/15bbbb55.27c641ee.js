"use strict";(self.webpackChunklhtp=self.webpackChunklhtp||[]).push([[39159],{28453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>a});var s=n(96540);const r={},i=s.createContext(r);function o(e){const t=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(i.Provider,{value:t},e.children)}},49360:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"intermediate-javascript/test-driven-development-and-environments-with-javascript/2-2-1-4-setting-up-jest","title":"\ud83d\udcd3 2.2.1.4 Setting Up Jest","description":"There are many JavaScript testing frameworks. Some of the most popular include Jest, Jasmine, and Mocha. These libraries have many similarities, and after learning one, you can quickly learn others. We use Jest because it is the testing framework of choice for React. It\'s also a popular testing framework for JavaScript in general.","source":"@site/versioned_docs/version-WIP/2_intermediate-javascript/2_test-driven-development-and-environments-with-javascript/2-2-1-04-setting-up-jest.md","sourceDirName":"2_intermediate-javascript/2_test-driven-development-and-environments-with-javascript","slug":"/intermediate-javascript/test-driven-development-and-environments-with-javascript/2-2-1-4-setting-up-jest","permalink":"/WIP/intermediate-javascript/test-driven-development-and-environments-with-javascript/2-2-1-4-setting-up-jest","draft":false,"unlisted":false,"tags":[],"version":"WIP","frontMatter":{"title":"\ud83d\udcd3 2.2.1.4 Setting Up Jest","day":"monday","id":"2-2-1-4-setting-up-jest","hide_table_of_contents":true},"sidebar":"intermediate-javascript","previous":{"title":"\ud83d\udcd3 2.2.1.3 Red Green Refactor Workflow","permalink":"/WIP/intermediate-javascript/test-driven-development-and-environments-with-javascript/2-2-1-3-red-green-refactor-workflow"},"next":{"title":"\ud83d\udcd3 2.2.1.5 Setting Up Babel","permalink":"/WIP/intermediate-javascript/test-driven-development-and-environments-with-javascript/2-2-1-5-setting-up-babel"}}');var r=n(74848),i=n(28453);const o={title:"\ud83d\udcd3 2.2.1.4 Setting Up Jest",day:"monday",id:"2-2-1-4-setting-up-jest",hide_table_of_contents:!0},a=void 0,c={},l=[{value:"Jest Installation and Setup",id:"jest-installation-and-setup",level:2},{value:"Adding A New Test Directory",id:"adding-a-new-test-directory",level:2},{value:"Another Way to Run Jest",id:"another-way-to-run-jest",level:3}];function d(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",hr:"hr",i:"i",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.p,{children:["There are many JavaScript testing frameworks. Some of the most popular include ",(0,r.jsx)(t.strong,{children:"Jest"}),", ",(0,r.jsx)(t.strong,{children:"Jasmine"}),", and ",(0,r.jsx)(t.strong,{children:"Mocha"}),". These libraries have many similarities, and after learning one, you can quickly learn others. We use Jest because it is the testing framework of choice for React. It's also a popular testing framework for JavaScript in general."]}),"\n",(0,r.jsx)(t.p,{children:"We'll continue building out our shape tracker application. Here's the project so far:"}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:(0,r.jsxs)(t.a,{href:"https://github.com/epicodus-lessons/section-5-shape-tracker",children:[(0,r.jsx)(t.i,{className:"glyphicon glyphicon-folder-open"}),"  Example GitHub Repo for Shape Tracker"]})})}),"\n",(0,r.jsxs)(t.p,{children:["Make sure that you are referencing the code from the branch called ",(0,r.jsx)(t.code,{children:"1_functioning_environment"}),". This is the default branch, so running ",(0,r.jsx)(t.code,{children:"git clone..."})," with the URL of the repo homepage will automatically clone down the branch called ",(0,r.jsx)(t.code,{children:"1_functioning_environment"}),". If you need a review on how to navigate between branches, review the lesson on ",(0,r.jsx)(t.a,{href:"../../intermediate-javascript/object-oriented-javascript/2-1-0-6-accessing-code-from-different-branches",children:"accessing code from different branches"}),"."]}),"\n",(0,r.jsxs)(t.p,{children:["At this point, our application has a fully functioning environment along with user interface logic. However, there's hardly any business logic other than a ",(0,r.jsx)(t.code,{children:"Triangle"})," constructor function and a ",(0,r.jsx)(t.code,{children:"Triangle.prototype.checkType*()"})," method that returns ",(0,r.jsx)(t.code,{children:'"I can\'t answer that yet!"'}),". Now we're ready to use Jest and TDD to build out our business logic."]}),"\n",(0,r.jsx)(t.h2,{id:"jest-installation-and-setup",children:"Jest Installation and Setup"}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.p,{children:"First, we'll need to add Jest to our project:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"$ npm install jest@24.9.0 --save-dev\n"})}),"\n",(0,r.jsx)(t.p,{children:"Once again, we are pinning the version so it will play nicely with our configuration. This is a development dependency because testing is part of the development process."}),"\n",(0,r.jsxs)(t.p,{children:["Next, we need to add a new npm script called ",(0,r.jsx)(t.code,{children:'"test"'})," to run Jest in our ",(0,r.jsx)(t.code,{children:"package.json"}),":"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-json",children:'"scripts": {\n  "build": "webpack --mode=development",\n  "start": "npm run build && webpack-dev-server --open --mode=development",\n  "lint": "eslint src --ext .js",\n  "test": "jest" \n}\n'})}),"\n",(0,r.jsxs)(t.p,{children:["Note that we could call our script something other than ",(0,r.jsx)(t.code,{children:'"test"'}),", but ",(0,r.jsx)(t.code,{children:'"test"'})," makes sense here, because we're invoking our test runner, Jest."]}),"\n",(0,r.jsxs)(t.p,{children:["At this point, we'll get an error if we run ",(0,r.jsx)(t.code,{children:"$ npm run test"}),". That's because we haven't added any tests yet. Before we can add tests, we need to set up a folder and file for tests that Jest can recognize."]}),"\n",(0,r.jsx)(t.h2,{id:"adding-a-new-test-directory",children:"Adding A New Test Directory"}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsxs)(t.p,{children:["All Jest tests must live inside of a directory called ",(0,r.jsx)(t.code,{children:"__tests__"})," in the root directory of our project. Go ahead and create that directory now in the Shape Tracker project. The files and folders in the root should now look like this:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"shape-tracker/\n\u251c\u2500\u2500 __tests__/\n\u251c\u2500\u2500 dist/\n\u251c\u2500\u2500 node_modules/\n\u251c\u2500\u2500 src/\n\u251c\u2500\u2500 .eslintrc\n\u251c\u2500\u2500 .gitignore\n\u251c\u2500\u2500 package-lock.json\n\u251c\u2500\u2500 package.json\n\u251c\u2500\u2500 README.md\n\u2514\u2500\u2500 webpack.config.js\n"})}),"\n",(0,r.jsxs)(t.p,{children:["It is common convention to add a double underscore ",(0,r.jsx)(t.code,{children:"__"})," at the beginning and end of ",(0,r.jsx)(t.code,{children:"__tests__"})," with Jest. We will store all our test files in this directory. For now, we just need one: ",(0,r.jsx)(t.code,{children:"triangle.test.js"}),"."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"shape-tracker/\n\u251c\u2500\u2500 __tests__/\n\u2502   \u2514\u2500\u2500 triangle.test.js\n"})}),"\n",(0,r.jsx)(t.p,{children:"With the name of the test file, we follow another common naming convention, which looks like this:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-js",children:"// This is pseudocode.\nnameOfFileToBeTested.test.js\n"})}),"\n",(0,r.jsxs)(t.p,{children:["In other words, the test file name should match the name of the file that has the code we are testing \u2014 the difference in the file naming structure is that we add ",(0,r.jsx)(t.code,{children:".test"})," to the name as well."]}),"\n",(0,r.jsxs)(t.p,{children:["Now if we run our tests with ",(0,r.jsx)(t.code,{children:"$ npm run test"}),", Jest will automatically look in the ",(0,r.jsx)(t.code,{children:"triangle.test.js"})," file:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-shell",children:"$ npm run test\n\n> shape-tracker@1.0.0 test\n> jest\n\n FAIL  __tests__/triangle.test.js\n  \u25cf Test suite failed to run\n\n    Your test suite must contain at least one test.\n\n      at node_modules/@jest/core/build/TestScheduler.js:242:24   \n      at asyncGeneratorStep (node_modules/@jest/core/build/TestScheduler.js:131:24)\n      at _next (node_modules/@jest/core/build/TestScheduler.js:151:9)\n      at node_modules/@jest/core/build/TestScheduler.js:156:7    \n      at node_modules/@jest/core/build/TestScheduler.js:148:12   \n      at onResult (node_modules/@jest/core/build/TestScheduler.js:271:25)\n\nTest Suites: 1 failed, 1 total\nTests:       0 total\nSnapshots:   0 total\nTime:        2.909s\nRan all test suites.\n"})}),"\n",(0,r.jsxs)(t.p,{children:["As you might guess, this is a bad fail because we aren't testing anything yet. Jest states the following: ",(0,r.jsx)(t.code,{children:"Your test suite must contain at least one test."})]}),"\n",(0,r.jsx)(t.h3,{id:"another-way-to-run-jest",children:"Another Way to Run Jest"}),"\n",(0,r.jsxs)(t.p,{children:["Note that we can also run ",(0,r.jsx)(t.code,{children:"jest"})," directly in the terminal to run our tests. To do this, we'll use ",(0,r.jsx)(t.a,{href:"https://nodejs.dev/learn/the-npx-nodejs-package-runner",children:"npx, which is node's package runner"}),". In the root of any directory that has a ",(0,r.jsx)(t.code,{children:"__tests__"})," folder with a test file within, we can run this command:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-shell",children:"$ npx jest@24.9.0\n"})}),"\n",(0,r.jsx)(t.p,{children:"When we enter this command, node package runner does three things:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Accesses the internet to look in its registry of all node packages."}),"\n",(0,r.jsxs)(t.li,{children:["Locates the package called ",(0,r.jsx)(t.code,{children:"jest"})," at version 24.9.0."]}),"\n",(0,r.jsxs)(t.li,{children:["Then invokes Jest in our project, which leads to the same effect as calling ",(0,r.jsx)(t.code,{children:"$ npm run test"})]}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["We can also use npx to run other packages like webpack and ESLint, as long as our project has the correct configuration files in place. For example, instead of ",(0,r.jsx)(t.code,{children:"$ npm run test"}),", we could run"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"$ npx eslint src/*.js\n"})}),"\n",(0,r.jsx)(t.p,{children:"However, we can just as easily use npm scripts to invoke the packages installed locally to our project, and we don't even need the internet to use them (as long as the packages are already installed)! Because of this, it's not necessary to use npx."}),"\n",(0,r.jsx)(t.p,{children:"We are almost ready to start writing our tests. However, before we do, we'll need to set up another tool called Babel. We'll do that in the next lesson."})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);