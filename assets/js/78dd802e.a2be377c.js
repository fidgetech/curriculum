"use strict";(self.webpackChunklhtp=self.webpackChunklhtp||[]).push([[8669],{28453:(e,t,s)=>{s.d(t,{R:()=>c,x:()=>i});var o=s(96540);const n={},a=o.createContext(n);function c(e){const t=o.useContext(a);return o.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:c(e.components),o.createElement(a.Provider,{value:t},e.children)}},63696:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>d,contentTitle:()=>i,default:()=>h,frontMatter:()=>c,metadata:()=>o,toc:()=>r});const o=JSON.parse('{"id":"intermediate-javascript/object-oriented-javascript/2-1-0-8-address-book-objects-within-objects","title":"\ud83d\udcd3 2.1.0.8 Address Book: Objects Within Objects","description":"In a real world application, we\'d save our address book\'s Contacts in a database. However, we aren\'t working with databases yet. Instead, we\'ll create a mock database (a fake database) and store its data inside a global variable.","source":"@site/versioned_docs/version-v1_3/2_intermediate-javascript/1_object-oriented-javascript/2-1-0-08-address-book-objects-within-objects.md","sourceDirName":"2_intermediate-javascript/1_object-oriented-javascript","slug":"/intermediate-javascript/object-oriented-javascript/2-1-0-8-address-book-objects-within-objects","permalink":"/v1.3/intermediate-javascript/object-oriented-javascript/2-1-0-8-address-book-objects-within-objects","draft":false,"unlisted":false,"tags":[],"version":"v1_3","frontMatter":{"title":"\ud83d\udcd3 2.1.0.8 Address Book: Objects Within Objects","day":"weekend","id":"2-1-0-8-address-book-objects-within-objects","hide_table_of_contents":true},"sidebar":"intermediate-javascript","previous":{"title":"\ud83d\udcd3 2.1.0.7 Objects Within Objects","permalink":"/v1.3/intermediate-javascript/object-oriented-javascript/2-1-0-7-objects-within-objects"},"next":{"title":"\ud83d\udcd3 2.1.0.9 Address Book: Unique IDs","permalink":"/v1.3/intermediate-javascript/object-oriented-javascript/2-1-0-9-address-book-unique-ids"}}');var n=s(74848),a=s(28453);const c={title:"\ud83d\udcd3 2.1.0.8 Address Book: Objects Within Objects",day:"weekend",id:"2-1-0-8-address-book-objects-within-objects",hide_table_of_contents:!0},i=void 0,d={},r=[{value:"<code>AddressBook</code> Constructor",id:"addressbook-constructor",level:2},{value:"Adding a Method to the <code>AddressBook</code> Prototype",id:"adding-a-method-to-the-addressbook-prototype",level:2},{value:"Adding <code>Contact</code>s to the <code>AddressBook</code>",id:"adding-contacts-to-the-addressbook",level:3},{value:"Viewing <code>Contact</code>s in the <code>AddressBook</code>",id:"viewing-contacts-in-the-addressbook",level:3}];function l(e){const t={a:"a",code:"code",div:"div",em:"em",h2:"h2",h3:"h3",hr:"hr",i:"i",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.p,{children:["In a real world application, we'd save our address book's ",(0,n.jsx)(t.code,{children:"Contact"}),"s in a database. However, we aren't working with databases yet. Instead, we'll create a mock database (a fake database) and store its data inside a global variable."]}),"\n",(0,n.jsxs)(t.p,{children:["As we discussed in ",(0,n.jsx)(t.a,{href:"../../introduction-to-programming/javascript-and-web-browsers/1-2-2-1-variable-scope",children:"Variable Scope"}),", we want to avoid global variables wherever possible. So why are we going to use one here?"]}),"\n",(0,n.jsxs)(t.p,{children:["Well, one of the biggest problems with global variables is that they never fall out of scope \u2014 and their values persist throughout an application. Generally, this is a recipe for bugs. However, we ",(0,n.jsx)(t.em,{children:"want"})," the values in a database to persist and be available all throughout an application. What is the point of a database if we can't retrieve data from it? That's why we're using a global variable here \u2014 to better imitate what a database actually does."]}),"\n",(0,n.jsx)(t.p,{children:"Take note that a mock database wouldn't actually be useful in the real world so we wouldn't use a global variable like this in a real world application, either. At this point, you might wonder why we don't just jump into using databases then. Well, they're pretty complicated! For now, we will stay focused on core JavaScript concepts. It will still be a while before we start working with actual databases."}),"\n",(0,n.jsxs)(t.p,{children:["Also, just because we are using a global variable to mock a database doesn't mean you should start adding global variables throughout your code. For the next several sections, here is a guideline: if your variable is meant to represent a potential database, a global variable is fine. Otherwise, avoid them if possible. Most of the projects we do throughout Intermediate JavaScript will ",(0,n.jsx)(t.em,{children:"not"})," need to mock a database, so think very carefully about whether or not you need to add this functionality as you build your projects."]}),"\n",(0,n.jsxs)(t.h2,{id:"addressbook-constructor",children:[(0,n.jsx)(t.code,{children:"AddressBook"})," Constructor"]}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsxs)(t.p,{children:["Much like our ",(0,n.jsx)(t.code,{children:"Contact"}),"s, our ",(0,n.jsx)(t.code,{children:"AddressBook"})," will be a JavaScript object. But instead of containing properties like ",(0,n.jsx)(t.code,{children:"firstName"})," or ",(0,n.jsx)(t.code,{children:"lastName"}),", it will contain a list of ",(0,n.jsx)(t.code,{children:"Contact"})," objects, similar to how the previous lesson depicted objects being saved within other objects."]}),"\n",(0,n.jsxs)(t.p,{children:["To do this we'll need an ",(0,n.jsx)(t.code,{children:"AddressBook"})," constructor. Let's add the following new constructor to the top of ",(0,n.jsx)(t.code,{children:"scripts.js"}),":"]}),"\n",(0,n.jsx)(t.div,{className:"filename",children:"js/scripts.js"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-javascript",children:'function AddressBook() {\n  this.contacts = {};\n}\n\nfunction Contact(firstName, lastName, phoneNumber) {\n  this.firstName = firstName;\n  this.lastName = lastName;\n  this.phoneNumber = phoneNumber;\n}\n\nContact.prototype.fullName = function() {\n  return this.firstName + " " + this.lastName;\n};\n'})}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.code,{children:"AddressBook"})," objects contain a single property: An empty object called ",(0,n.jsx)(t.code,{children:"contacts"}),". This is where we'll store entries in our address book. Each entry will be a ",(0,n.jsx)(t.code,{children:"Contact"})," object. As we can see, we'll be storing objects within an object \u2014 all of the ",(0,n.jsx)(t.code,{children:"Contact"})," objects will be stored in the ",(0,n.jsx)(t.code,{children:"contacts"})," property, an object within the ",(0,n.jsx)(t.code,{children:"AddressBook"})," object."]}),"\n",(0,n.jsxs)(t.p,{children:["If we wanted to, we could build out our application to have many instances of ",(0,n.jsx)(t.code,{children:"AddressBook"}),"s, each with their own ",(0,n.jsx)(t.code,{children:"Contact"}),"s. We could also include an ",(0,n.jsx)(t.code,{children:"owner"})," property that gives information about the owner of the ",(0,n.jsx)(t.code,{children:"AddressBook"}),". Or, we could add a ",(0,n.jsx)(t.code,{children:"lastModified"})," timestamp that tells us when the ",(0,n.jsx)(t.code,{children:"AddressBook"})," was last modified. However, we will keep this simple with just one ",(0,n.jsx)(t.code,{children:"contacts"})," property and one instance of ",(0,n.jsx)(t.code,{children:"AddressBook"}),"."]}),"\n",(0,n.jsxs)(t.p,{children:["We'll also add comments showing where ",(0,n.jsx)(t.code,{children:"AddressBook"})," and ",(0,n.jsx)(t.code,{children:"Contact"})," logic will go in ",(0,n.jsx)(t.code,{children:"scripts.js"}),". This will make it easier to follow along with the lessons."]}),"\n",(0,n.jsx)(t.div,{className:"filename",children:"js/scripts.js"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-javascript",children:'// Business Logic for AddressBook ---------\nfunction AddressBook() {\n  this.contacts = {};\n}\n\n// Business Logic for Contacts ---------\nfunction Contact(firstName, lastName, phoneNumber) {\n  this.firstName = firstName;\n  this.lastName = lastName;\n  this.phoneNumber = phoneNumber;\n}\n\nContact.prototype.fullName = function() {\n  return this.firstName + " " + this.lastName;\n};\n'})}),"\n",(0,n.jsxs)(t.h2,{id:"adding-a-method-to-the-addressbook-prototype",children:["Adding a Method to the ",(0,n.jsx)(t.code,{children:"AddressBook"})," Prototype"]}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.code,{children:"AddressBook"}),"s can only do one thing right now: store a list of contacts in key-value pairs. Let's define a few prototypes for our ",(0,n.jsx)(t.code,{children:"AddressBook"})," objects to give them more functionality."]}),"\n",(0,n.jsxs)(t.h3,{id:"adding-contacts-to-the-addressbook",children:["Adding ",(0,n.jsx)(t.code,{children:"Contact"}),"s to the ",(0,n.jsx)(t.code,{children:"AddressBook"})]}),"\n",(0,n.jsxs)(t.p,{children:["We'll create a prototype method to add new ",(0,n.jsx)(t.code,{children:"Contact"}),"s to an ",(0,n.jsx)(t.code,{children:"AddressBook"}),". This will go right below the ",(0,n.jsx)(t.code,{children:"AddressBook"})," constructor:"]}),"\n",(0,n.jsx)(t.div,{className:"filename",children:"js/scripts.js"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-javascript",children:'// Business Logic for AddressBook ---------\nfunction AddressBook() {\n  this.contacts = {};\n}\n\nAddressBook.prototype.addContact = function(contact) {\n  this.contacts[contact.firstName] = contact;\n};\n\n// Business Logic for Contacts ---------\nfunction Contact(firstName, lastName, phoneNumber) {\n  this.firstName = firstName;\n  this.lastName = lastName;\n  this.phoneNumber = phoneNumber;\n}\n\nContact.prototype.fullName = function() {\n  return this.firstName + " " + this.lastName;\n};\n'})}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["Our new ",(0,n.jsx)(t.code,{children:"AddressBook.prototype.addContact()"})," method takes a ",(0,n.jsx)(t.code,{children:"Contact"})," object as an argument. We can tell because the parameter is named ",(0,n.jsx)(t.code,{children:"contact"}),", which indicates that the method expects a ",(0,n.jsx)(t.code,{children:"Contact"})," object."]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.code,{children:"this.contacts"})," is the address book property where we're storing all of our ",(0,n.jsx)(t.code,{children:"Contact"})," objects. ",(0,n.jsx)(t.code,{children:"this"})," represents the instance of the address book, so when we write ",(0,n.jsx)(t.code,{children:"this.contacts"}),", it means we're accessing the ",(0,n.jsx)(t.code,{children:"contacts"})," property of the address book instance."]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["With ",(0,n.jsx)(t.code,{children:"this.contacts[contact.firstName] = contact;"}),",  we are creating a new key in the address book's ",(0,n.jsx)(t.code,{children:"contacts"})," property, ",(0,n.jsx)(t.em,{children:"and"})," assigning it a value:"]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["The key ",(0,n.jsx)(t.code,{children:"contact.firstName"})," will be set to the contact's first name. Here we need to use bracket notation to create the key, because ",(0,n.jsx)(t.code,{children:"contact.firstName"})," is a variable."]}),"\n",(0,n.jsxs)(t.li,{children:["The value we assign to the new key with ",(0,n.jsx)(t.code,{children:"= contact;"})," is the ",(0,n.jsx)(t.code,{children:"Contact"})," object that we pass into the method."]}),"\n",(0,n.jsxs)(t.li,{children:["Generally, a contact in a real database will have a unique ID to locate it. Soon, we'll refactor our code to do this. For now, we're using the ",(0,n.jsx)(t.code,{children:"Contact"})," object's ",(0,n.jsx)(t.code,{children:"firstName"})," property as an ID."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(t.p,{children:["That's all it takes for us to add a new ",(0,n.jsx)(t.code,{children:"Contact"})," object to our ",(0,n.jsx)(t.code,{children:"AddressBook"}),"!"]}),"\n",(0,n.jsxs)(t.p,{children:["Let's try it out. We can copy/paste the contents of ",(0,n.jsx)(t.code,{children:"scripts.js"})," into the DevTools console, and enter each of the following five lines:"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-javascript",children:'> let addressBook = new AddressBook();\n> let contact = new Contact("Ada", "Lovelace", "503-555-0100");\n> let contact2 = new Contact("Grace", "Hopper", "503-555-0199");\n> addressBook.addContact(contact);\n> addressBook.addContact(contact2);\n'})}),"\n",(0,n.jsx)(t.p,{children:"Let's walk through what each of these lines is doing:"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsxs)(t.li,{children:["We create an ",(0,n.jsx)(t.code,{children:"AddressBook"})," object."]}),"\n",(0,n.jsxs)(t.li,{children:["We create a new ",(0,n.jsx)(t.code,{children:"Contact"})," object with a ",(0,n.jsx)(t.code,{children:"firstName"})," of ",(0,n.jsx)(t.code,{children:'"Ada"'}),", saved to the variable name ",(0,n.jsx)(t.code,{children:"contact"}),"."]}),"\n",(0,n.jsxs)(t.li,{children:["We create another new ",(0,n.jsx)(t.code,{children:"Contact"})," object, this time with a ",(0,n.jsx)(t.code,{children:"firstName"})," of ",(0,n.jsx)(t.code,{children:'"Grace"'}),", saved to the variable name ",(0,n.jsx)(t.code,{children:"contact2"}),"."]}),"\n",(0,n.jsxs)(t.li,{children:["We add the first ",(0,n.jsx)(t.code,{children:"Contact"})," object to our ",(0,n.jsx)(t.code,{children:"AddressBook"}),", using our new ",(0,n.jsx)(t.code,{children:"AddressBook.prototype.addContact()"})," method."]}),"\n",(0,n.jsxs)(t.li,{children:["We add the second ",(0,n.jsx)(t.code,{children:"Contact"})," object to the ",(0,n.jsx)(t.code,{children:"AddressBook"})," using the same new method."]}),"\n"]}),"\n",(0,n.jsxs)(t.h3,{id:"viewing-contacts-in-the-addressbook",children:["Viewing ",(0,n.jsx)(t.code,{children:"Contact"}),"s in the ",(0,n.jsx)(t.code,{children:"AddressBook"})]}),"\n",(0,n.jsxs)(t.p,{children:["If we then run the following in the console, we can see the contents of our ",(0,n.jsx)(t.code,{children:"AddressBook"}),":"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-javascript",children:"> addressBook;\nAddressBook\xa0{contacts: {\u2026}}\n"})}),"\n",(0,n.jsxs)(t.p,{children:["We can see that the ",(0,n.jsx)(t.code,{children:"addressBook"})," is an object that contains another object called ",(0,n.jsx)(t.code,{children:"contacts"}),". To access these contacts, we can do the following:"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",children:"> addressBook.contacts;\n{Ada: Contact, Grace: Contact}\n"})}),"\n",(0,n.jsxs)(t.p,{children:["Both of our contacts are there! But how do we access them? Well, each object has a key. The first one has a key of ",(0,n.jsx)(t.code,{children:"Ada"})," while the second has a key of ",(0,n.jsx)(t.code,{children:"Grace"}),". So we can access them like this:"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",children:'> addressBook.contacts["Ada"];\nContact\xa0{firstName: "Ada", lastName: "Lovelace", phoneNumber: "503-555-0100"}\n'})}),"\n",(0,n.jsxs)(t.p,{children:["We can do the same for ",(0,n.jsx)(t.code,{children:'addressBook.contacts["Grace"]'}),"."]}),"\n",(0,n.jsxs)(t.p,{children:["Note that we ",(0,n.jsx)(t.strong,{children:"cannot"})," do the following:"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",children:"> addressBook.contacts[Ada];\n"})}),"\n",(0,n.jsx)(t.p,{children:"We'll get the following error if we do:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",children:"Uncaught ReferenceError: Ada is not defined\n"})}),"\n",(0,n.jsxs)(t.p,{children:["This is because JavaScript is reading this as a variable, not a string \u2014 and we haven't defined an ",(0,n.jsx)(t.code,{children:"Ada"})," variable. Instead, if the key is a string, we need to write it as a string."]}),"\n",(0,n.jsx)(t.p,{children:"If we wanted to get even more specific information about Ada \u2014 for instance, her phone number \u2014 we can do so like this:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",children:'> addressBook.contacts["Ada"].phoneNumber;\n"503-555-0100"\n'})}),"\n",(0,n.jsxs)(t.p,{children:["We just need to identify the property we want the value of \u2014 in this case, it's the ",(0,n.jsx)(t.code,{children:"phoneNumber"})," property. Sometimes objects can be very deeply nested. No matter how deeply nested an object or property is, we can keep drilling down further until we retrieve it. We will cover this further in a future lesson."]}),"\n",(0,n.jsx)(t.p,{children:"In the next lesson, we'll add a property to help us assign IDs to each contact."}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:(0,n.jsxs)(t.a,{href:"https://github.com/epicodus-lessons/oop-address-book-v2/tree/2_objects_within_objects",children:[(0,n.jsx)(t.i,{className:"glyphicon glyphicon-folder-open"}),"  Example GitHub Repo for the Address Book"]})})})]})}function h(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}}}]);