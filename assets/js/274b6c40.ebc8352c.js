"use strict";(self.webpackChunklhtp=self.webpackChunklhtp||[]).push([[2609],{28453:(e,n,o)=>{o.d(n,{R:()=>l,x:()=>i});var r=o(96540);const s={},t=r.createContext(s);function l(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),r.createElement(t.Provider,{value:n},e.children)}},39144:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>a,frontMatter:()=>l,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"c-and-net/basic-web-applications/3-2-0-10-introduction-to-controllers-routes-and-urls","title":"\ud83d\udcd3 3.2.0.10 Introduction to Controllers, Routes and URLs","description":"Now that we can successfully run a project, we\'re ready to start building our application out further. We\'ll start by adding a new controller file. This file\'s job is to receive the requests a user will send the server and return the correct corresponding information to display in the browser.","source":"@site/docs/3_c-and-net/2_basic-web-applications/3-2-0-10-introduction-to-controllers-routes-and-urls.md","sourceDirName":"3_c-and-net/2_basic-web-applications","slug":"/c-and-net/basic-web-applications/3-2-0-10-introduction-to-controllers-routes-and-urls","permalink":"/v1.2/c-and-net/basic-web-applications/3-2-0-10-introduction-to-controllers-routes-and-urls","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"\ud83d\udcd3 3.2.0.10 Introduction to Controllers, Routes and URLs","day":"weekend","id":"3-2-0-10-introduction-to-controllers-routes-and-urls","hide_table_of_contents":true},"sidebar":"c-and-net","previous":{"title":"\ud83d\udcd3 3.2.0.9 Building and Running an ASP.NET Core MVC Web App","permalink":"/v1.2/c-and-net/basic-web-applications/3-2-0-9-building-and-running-an-asp-net-core-mvc-web-app"},"next":{"title":"\ud83d\udcd3 3.2.0.11 Custom URL Paths","permalink":"/v1.2/c-and-net/basic-web-applications/3-2-0-11-custom-url-paths"}}');var s=o(74848),t=o(28453);const l={title:"\ud83d\udcd3 3.2.0.10 Introduction to Controllers, Routes and URLs",day:"weekend",id:"3-2-0-10-introduction-to-controllers-routes-and-urls",hide_table_of_contents:!0},i=void 0,c={},d=[{value:"Writing a Controller",id:"writing-a-controller",level:2},{value:"Routes",id:"routes",level:2},{value:"Invoking Routes",id:"invoking-routes",level:2},{value:"More Routes",id:"more-routes",level:2}];function h(e){const n={a:"a",blockquote:"blockquote",code:"code",div:"div",em:"em",h2:"h2",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["Now that we can successfully run a project, we're ready to start building our application out further. We'll start by adding a new ",(0,s.jsx)(n.strong,{children:"controller"})," file. This file's job is to receive the requests a user will send the server and return the correct corresponding information to display in the browser."]}),"\n",(0,s.jsx)(n.h2,{id:"writing-a-controller",children:"Writing a Controller"}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:["If you followed along with the previous lessons, you already have a subdirectory called ",(0,s.jsx)(n.code,{children:"Controllers"})," within the production directory ",(0,s.jsx)(n.code,{children:"FriendLetter"}),". If not, add one now. Having a ",(0,s.jsx)(n.code,{children:"Controllers"})," subdirectory is standard convention within Model-View-Controller (MVC) frameworks. We'll add a file called ",(0,s.jsx)(n.code,{children:"HomeController.cs"})," to within the ",(0,s.jsx)(n.code,{children:"Controllers"})," subdirectory."]}),"\n",(0,s.jsxs)(n.p,{children:["The resulting structure for our ",(0,s.jsx)(n.code,{children:"Controllers"})," directory and ",(0,s.jsx)(n.code,{children:"HomeController"})," file should look like this:"]}),"\n",(0,s.jsx)(n.pre,{children:"FriendLetter.Solution\n\u2514\u2500\u2500 FriendLetter\n    \u2514\u2500\u2500 Controllers\n        \u2514\u2500\u2500 HomeController.cs\n"}),"\n",(0,s.jsx)(n.p,{children:"Let's add code to our new controller file:"}),"\n",(0,s.jsx)(n.div,{className:"filename",children:"FriendLetter/Controllers/HomeController.cs"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:"using Microsoft.AspNetCore.Mvc;\n\nnamespace FriendLetter.Controllers\n{\n  public class HomeController : Controller\n  {\n\n  }\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:["We add a ",(0,s.jsx)(n.code,{children:"using"})," statement that imports functionality from the ASP.NET Core MVC package listed in our ",(0,s.jsx)(n.code,{children:".csproj"})," file. This line imports the ",(0,s.jsx)(n.code,{children:"Microsoft.AspNetCore.Mvc"})," namespace into our controller, so we have access to ASP.NET Core's built in ",(0,s.jsx)(n.code,{children:"Controller"})," class. We'll see ",(0,s.jsx)(n.em,{children:"why"})," we need access in just a moment."]}),"\n",(0,s.jsxs)(n.p,{children:["Then we add a ",(0,s.jsx)(n.code,{children:"FriendLetter.Controllers"})," namespace with a class called ",(0,s.jsx)(n.code,{children:"HomeController"})," inside of it."]}),"\n",(0,s.jsx)(n.p,{children:"Notice this syntax:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cs",children:"class HomeController : Controller\n"})}),"\n",(0,s.jsxs)(n.p,{children:["By adding ",(0,s.jsx)(n.code,{children:": Controller"})," to our ",(0,s.jsx)(n.code,{children:"HomeController"})," class, we tell our program that ",(0,s.jsx)(n.code,{children:"HomeController"})," should ",(0,s.jsx)(n.strong,{children:"inherit"})," or ",(0,s.jsx)(n.strong,{children:"extend"})," functionality from ASP.NET Core's built-in ",(0,s.jsx)(n.code,{children:"Controller"})," class that we import with our ",(0,s.jsx)(n.code,{children:"using"})," statement."]}),"\n",(0,s.jsx)(n.h2,{id:"routes",children:"Routes"}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:["Let's add a route to our new ",(0,s.jsx)(n.code,{children:"HomeController"})," class."]}),"\n",(0,s.jsx)(n.div,{className:"filename",children:"FriendLetter/Controllers/HomeController.cs"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:'using Microsoft.AspNetCore.Mvc;\n\nnamespace FriendLetter.Controllers\n{\n  public class HomeController : Controller\n  {\n\n    public string Hello() { return "Hello friend!"; }\n\n  }\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"Hello()"})," method represents a ",(0,s.jsx)(n.strong,{children:"route"})," in our application. As we discussed in the ",(0,s.jsx)(n.a,{href:"../../c-and-net/basic-web-applications/3-2-0-3-how-the-web-works-uniform-resource-locator",children:"Uniform Resource Locators (URLS)"})," lesson:"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.strong,{children:"path"})," consists of one or more segments separated by slashes. It provides a name for identifying the specific resource requested."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"For instance, we can see all courses on LearnHowToProgram.com by visiting this URL:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"https://old.learnhowtoprogram.com/courses\n"})}),"\n",(0,s.jsxs)(n.p,{children:["In this example, ",(0,s.jsx)(n.code,{children:"/courses"})," is the ",(0,s.jsx)(n.strong,{children:"path"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["How does this relate to our ",(0,s.jsx)(n.code,{children:"Hello()"})," method? Because the ",(0,s.jsx)(n.code,{children:"Hello()"})," method is a ",(0,s.jsx)(n.strong,{children:"route"}),", it will create a special path, or ",(0,s.jsx)(n.strong,{children:"pattern"}),", in our application. If we were to host this application at ",(0,s.jsx)(n.em,{children:"old.learnhowtoprogram.com"}),", we'd have the following route because of the ",(0,s.jsx)(n.code,{children:"Hello()"})," method in our ",(0,s.jsx)(n.code,{children:"Home"})," controller:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"old.learnhowtoprogram.com/home/hello\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.strong,{children:"path"})," is the portion appended to the end of the homepage URL:"]}),"\n",(0,s.jsx)(n.pre,{children:"/home/hello\n"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["The first part of the path ",(0,s.jsx)(n.code,{children:"/home"})," corresponds to the name of our controller ",(0,s.jsx)(n.code,{children:"HomeController"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["The second part ",(0,s.jsx)(n.code,{children:"/hello"})," corresponds to the name of our route method ",(0,s.jsx)(n.code,{children:"Hello()"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["If we were to host our application at ",(0,s.jsx)(n.em,{children:"old.learnhowtoprogram.com"}),", the ",(0,s.jsx)(n.code,{children:"Hello()"})," method in ",(0,s.jsx)(n.code,{children:"HomeController"})," will run when a user navigates to ",(0,s.jsx)(n.em,{children:"old.learnhowtoprogram.com/home/hello"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["If we revisit our ",(0,s.jsx)(n.code,{children:"/home/hello"})," route, we see it returns the string ",(0,s.jsx)(n.code,{children:'"Hello friend!"'}),". This is called the ",(0,s.jsx)(n.strong,{children:"action"}),", because it defines what the site will do when a client requests this particular ",(0,s.jsx)(n.strong,{children:"path"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"invoking-routes",children:"Invoking Routes"}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:["We can launch our application by running ",(0,s.jsx)(n.code,{children:"dotnet run"})," in the production directory of our project: ",(0,s.jsx)(n.code,{children:"FriendLetter.Solution/FriendLetter"}),". If the project doesn't have ",(0,s.jsx)(n.code,{children:"obj"})," and ",(0,s.jsx)(n.code,{children:"bin"})," subdirectories, these will be created in the process of running the app with ",(0,s.jsx)(n.code,{children:"dotnet run"}),", since that command restores and builds the project before running it."]}),"\n",(0,s.jsx)(n.p,{children:"Now we can navigate to the following URL in the browser:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"http://localhost:5000/home/hello\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The message ",(0,s.jsx)(n.code,{children:'"Hello friend!"'})," will appear. Let's discuss exactly what's happening here."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["When a ",(0,s.jsx)(n.strong,{children:"client"})," like a web browser makes a ",(0,s.jsx)(n.strong,{children:"request"})," to our server, it must include the URL it's requesting. In the example above, the URL contains a ",(0,s.jsx)(n.code,{children:"/home/hello"})," ",(0,s.jsx)(n.strong,{children:"path"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Our server looks at the ",(0,s.jsx)(n.code,{children:"HomeController"})," because it matches the first ",(0,s.jsx)(n.code,{children:"/home"})," portion of the URL path."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["In order to find the more specific ",(0,s.jsx)(n.code,{children:"/home/hello"})," data, our server looks for a ",(0,s.jsx)(n.code,{children:"Hello()"})," method in the ",(0,s.jsx)(n.code,{children:"HomeController"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["The server provides our client with a ",(0,s.jsx)(n.strong,{children:"response"}),". In this case, our ",(0,s.jsx)(n.code,{children:"Hello()"})," method returns the string ",(0,s.jsx)(n.code,{children:'"Hello friend!"'}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Our client receives the response and renders the resources in the browser. We see ",(0,s.jsx)(n.code,{children:'"Hello friend!"'})," appear on the page."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"more-routes",children:"More Routes"}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:["Let\u2019s add another route to a page that says ",(0,s.jsx)(n.code,{children:'"Goodbye friend!"'}),". Open ",(0,s.jsx)(n.code,{children:"HomeController.cs"})," and add the following:"]}),"\n",(0,s.jsx)(n.div,{className:"filename",children:"FriendLetter/Controllers/HomeController.cs"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:'using Microsoft.AspNetCore.Mvc;\n\nnamespace FriendLetter.Controllers\n{\n  public class HomeController : Controller\n  {\n\n    public string Hello() { return "Hello friend!"; }\n\n    public string Goodbye() { return "Goodbye friend."; }\n\n  }\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"Now we can navigate to:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"localhost:5000/home/goodbye\n"})}),"\n",(0,s.jsxs)(n.p,{children:["This time we should see ",(0,s.jsx)(n.code,{children:'"Goodbye friend."'})]}),"\n",(0,s.jsx)(n.p,{children:"In the next lesson, we'll discuss how to further customize the URL paths that match up with specific routes."})]})}function a(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}}}]);