"use strict";(self.webpackChunklhtp=self.webpackChunklhtp||[]).push([[38123],{28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>a});var i=t(96540);const o={},r=i.createContext(o);function s(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(r.Provider,{value:n},e.children)}},31064:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>s,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"c-and-net/basic-web-applications/5-2-0-9-building-and-running-an-asp-net-core-mvc-web-app","title":"\ud83d\udcd3 5.2.0.9 Building and Running an ASP.NET Core MVC Web App","description":"This lesson will cover building, compiling, and launching ASP.NET Core MVC projects so we can run our \\"Friend Letter\\" application in the browser.","source":"@site/versioned_docs/version-WIP/c-and-net/2_basic-web-applications/3-2-0-09-building-and-running-an-asp-net-core-mvc-web-app.md","sourceDirName":"c-and-net/2_basic-web-applications","slug":"/c-and-net/basic-web-applications/5-2-0-9-building-and-running-an-asp-net-core-mvc-web-app","permalink":"/WIP/c-and-net/basic-web-applications/5-2-0-9-building-and-running-an-asp-net-core-mvc-web-app","draft":false,"unlisted":false,"tags":[],"version":"WIP","frontMatter":{"title":"\ud83d\udcd3 5.2.0.9 Building and Running an ASP.NET Core MVC Web App","day":"weekend","id":"5-2-0-9-building-and-running-an-asp-net-core-mvc-web-app","hide_table_of_contents":true},"sidebar":"c-and-net","previous":{"title":"\ud83d\udcd3 5.2.0.8 Constructing and Configuring an ASP.NET Core MVC Web App","permalink":"/WIP/c-and-net/basic-web-applications/5-2-0-8-constructing-and-configuring-an-asp-net-core-mvc-web-app"},"next":{"title":"\ud83d\udcd3 5.2.0.10 Introduction to Controllers, Routes and URLs","permalink":"/WIP/c-and-net/basic-web-applications/5-2-0-10-introduction-to-controllers-routes-and-urls"}}');var o=t(74848),r=t(28453);const s={title:"\ud83d\udcd3 5.2.0.9 Building and Running an ASP.NET Core MVC Web App",day:"weekend",id:"5-2-0-9-building-and-running-an-asp-net-core-mvc-web-app",hide_table_of_contents:!0},a=void 0,c={},l=[{value:"Building and Running ASP.NET Core MVC Applications",id:"building-and-running-aspnet-core-mvc-applications",level:2},{value:"MSBuild",id:"msbuild",level:3},{value:"Building",id:"building",level:3},{value:"Running",id:"running",level:3},{value:"Using a Watcher",id:"using-a-watcher",level:2}];function d(e){const n={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:'This lesson will cover building, compiling, and launching ASP.NET Core MVC projects so we can run our "Friend Letter" application in the browser.'}),"\n",(0,o.jsx)(n.h2,{id:"building-and-running-aspnet-core-mvc-applications",children:"Building and Running ASP.NET Core MVC Applications"}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:"Our ASP.NET Core MVC projects are a combination of pre-existing code and custom code we write ourselves. This is the point of a framework:  it provides pre-made reusable functionality for commonly-used tasks like rendering webpages in a browser that developers can utilize to more quickly scaffold projects."}),"\n",(0,o.jsxs)(n.p,{children:["So far, we've only added framework code. Next, we'll use part of the .NET framework called ",(0,o.jsx)(n.strong,{children:"MSBuild"})," to compile and build our own custom code, as well as the framework's code."]}),"\n",(0,o.jsx)(n.h3,{id:"msbuild",children:"MSBuild"}),"\n",(0,o.jsxs)(n.p,{children:["MSBuild is also known as ",(0,o.jsx)(n.strong,{children:"Microsoft Build Engine"})," or ",(0,o.jsx)(n.strong,{children:"Microsoft Build Tools"}),'. It turns code in a project directory into a cohesive application by toggling settings, customizing how packages are introduced into the rest of the codebase, and more. We call this process "building" the project.']}),"\n",(0,o.jsxs)(n.p,{children:["If the code or project is the combination of raw ingredients, MSBuild is the oven where our ingredients become a fully-fledged meal. There's no need to worry about the technical specifics of MSBuild quite yet, but if you're curious, check out the ",(0,o.jsxs)(n.a,{href:"https://docs.microsoft.com/en-us/visualstudio/msbuild/msbuild?view=vs-2017",children:[(0,o.jsx)(n.em,{children:"MSBuild"})," section of the Microsoft documentation"]}),"."]}),"\n",(0,o.jsx)(n.h3,{id:"building",children:"Building"}),"\n",(0,o.jsxs)(n.p,{children:["Let's use MSBuild to build our project. We'll start by running ",(0,o.jsx)(n.code,{children:"dotnet restore"})," in our ",(0,o.jsx)(n.em,{children:"FriendLetter.Solution/FriendLetter"})," directory to invoke NuGet to install project dependencies."]}),"\n",(0,o.jsx)(n.p,{children:"To run MSBuild, we'll run this command from the same directory:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"$ dotnet build\n"})}),"\n",(0,o.jsx)(n.h3,{id:"running",children:"Running"}),"\n",(0,o.jsxs)(n.p,{children:["Now let's try running our project in the browser. We'll run the following command in our ",(0,o.jsx)(n.em,{children:"FriendLetter.Solution/FriendLetter"})," directory:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"$ dotnet run\n"})}),"\n",(0,o.jsx)(n.p,{children:"After running this command, we'll see a response like this:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"$ dotnet run\ninfo: Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager[63]\n      User profile is available. Using 'C:\\Users\\staff\\AppData\\Local\\ASP.NET\\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.\ninfo: Microsoft.Hosting.Lifetime[14]\n      Now listening on: http://localhost:5000\ninfo: Microsoft.Hosting.Lifetime[14]\n      Now listening on: https://localhost:5001\ninfo: Microsoft.Hosting.Lifetime[0]\n      Application started. Press Ctrl+C to shut down.\ninfo: Microsoft.Hosting.Lifetime[0]\n      Hosting environment: Production\ninfo: Microsoft.Hosting.Lifetime[0]\n      Content root path: C:\\Users\\staff\\Desktop\\net6\\csharp-friend-letter-dotnet-5\\FriendLetter\\\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Note the line ",(0,o.jsx)(n.code,{children:"Now listening on: http://localhost:5000"}),". Let's type ",(0,o.jsx)(n.em,{children:"localhost:5000"})," into our browser's URL bar. Well, we just get an error message. That's because we don't actually have any webpages built yet!"]}),"\n",(0,o.jsx)(n.p,{children:"And while it may not seem like much, but we've still successfully configured, built, and launched our first ASP.NET Core MVC application."}),"\n",(0,o.jsx)(n.h2,{id:"using-a-watcher",children:"Using a Watcher"}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:"When we make changes to a .NET application, these changes won't immediately be apparent in the browser. In order to show our updated application in the browser, we need to cycle the server."}),"\n",(0,o.jsx)(n.p,{children:"There are two ways to do this. This is the more painful way:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Make sure updated code is saved in your code editor."}),"\n",(0,o.jsxs)(n.li,{children:["Navigate to the server window in the terminal and type in ",(0,o.jsx)(n.em,{children:"Ctrl + C"}),". This quits the server."]}),"\n",(0,o.jsxs)(n.li,{children:["Run ",(0,o.jsx)(n.code,{children:"dotnet run"})," and navigate back to ",(0,o.jsx)(n.em,{children:"localhost:5000"}),"."]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"While this process works, it becomes very tedious to restart the server every time we make a change to our code."}),"\n",(0,o.jsxs)(n.p,{children:["Instead, it makes more sense to use a file watcher. A ",(0,o.jsx)(n.strong,{children:"file watcher"})," watches for changes and then automatically updates the server for us. There's no need to restart the server at all. To use a watcher we use the following command when we want to run the application:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"$ dotnet watch run\n"})}),"\n",(0,o.jsx)(n.p,{children:"Now every time we make a change, our server will automatically update."}),"\n",(0,o.jsx)(n.p,{children:"Note, however, a few cases in which you'll need to restart the server manually:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"When add or delete files or change the directory structure in any way."}),"\n",(0,o.jsxs)(n.li,{children:["When you change the contents of the ",(0,o.jsx)(n.code,{children:".csproj"})," or ",(0,o.jsx)(n.code,{children:"Program.cs"})," files."]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["To learn more about watchers and the types of files we can watch, check out the ",(0,o.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/aspnet/core/tutorials/dotnet-watch?view=aspnetcore-6.0",children:"documentation"}),"."]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}}}]);