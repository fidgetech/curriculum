"use strict";(self.webpackChunklhtp=self.webpackChunklhtp||[]).push([[86324],{28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>l});var i=t(96540);const s={},o=i.createContext(s);function r(e){const n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(o.Provider,{value:n},e.children)}},86422:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"react/react-with-nosql/4-4-0-5-help-queue-preparing-for-firebase","title":"\ud83d\udcd3 4.4.0.5 Help Queue: Preparing for Firebase","description":"We\'ve now learned useEffect for running side effects, as well as the pattern for building custom hooks. Now let\'s look at the Help Queue and plan exactly how we\'ll use these tools to connect the app to Firebase.","source":"@site/versioned_docs/version-v1_3/4_react/4_react-with-nosql/4-4-0-05-refactoring-help-queue-to-use-hooks.md","sourceDirName":"4_react/4_react-with-nosql","slug":"/react/react-with-nosql/4-4-0-5-help-queue-preparing-for-firebase","permalink":"/v1.3/react/react-with-nosql/4-4-0-5-help-queue-preparing-for-firebase","draft":false,"unlisted":false,"tags":[],"version":"v1_3","frontMatter":{"title":"\ud83d\udcd3 4.4.0.5 Help Queue: Preparing for Firebase","day":"weekend","id":"4-4-0-5-help-queue-preparing-for-firebase","hide_table_of_contents":true},"sidebar":"react","previous":{"title":"\ud83d\udcd3 4.4.0.4 The Rules of Hooks, Custom Hooks, and Why Hooks Are Awesome","permalink":"/v1.3/react/react-with-nosql/4-4-0-4-the-rules-of-hooks-custom-hooks-and-why-hooks-are-awesome"},"next":{"title":"\ud83d\udcd3 4.4.0.6 Introduction to BaaS, Firebase, and Firestore","permalink":"/v1.3/react/react-with-nosql/4-4-0-6-introduction-to-baas-firebase-and-firestore"}}');var s=t(74848),o=t(28453);const r={title:"\ud83d\udcd3 4.4.0.5 Help Queue: Preparing for Firebase",day:"weekend",id:"4-4-0-5-help-queue-preparing-for-firebase",hide_table_of_contents:!0},l=void 0,a={},c=[{value:"Opening Your Project",id:"opening-your-project",level:2},{value:"Reviewing TicketControl",id:"reviewing-ticketcontrol",level:2},{value:"What Will Change",id:"what-will-change",level:2},{value:"What&#39;s Next",id:"whats-next",level:2}];function d(e){const n={code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["We've now learned ",(0,s.jsx)(n.code,{children:"useEffect"})," for running side effects, as well as the pattern for building custom hooks. Now let's look at the Help Queue and plan exactly how we'll use these tools to connect the app to Firebase."]}),"\n",(0,s.jsx)(n.h2,{id:"opening-your-project",children:"Opening Your Project"}),"\n",(0,s.jsx)(n.p,{children:"Go ahead and open your Help Queue project from React Fundamentals."}),"\n",(0,s.jsx)(n.p,{children:"As you read through this lesson as part of your weekend homework, you are not required to code along. The first classwork of the course section will prompt you to work through these lessons with your application."}),"\n",(0,s.jsx)(n.h2,{id:"reviewing-ticketcontrol",children:"Reviewing TicketControl"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"TicketControl"})," is the component we'll be modifying the most. Here's an overview of its structure at the end of React Fundamentals:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",metastring:'title="src/components/TicketControl.js"',children:"function TicketControl() {\n  const [mainTicketList, setMainTicketList] = useState([]);\n  const [formVisibleOnPage, setFormVisibleOnPage] = useState(false);\n  const [selectedTicket, setSelectedTicket] = useState(null);\n  const [editing, setEditing] = useState(false);\n\n  const handleClick = () => { ... }\n  const handleDeletingTicket = (id) => { ... }\n  const handleEditClick = () => { ... }\n  const handleEditingTicketInList = (ticketToEdit) => { ... }\n  const handleAddingNewTicketToList = (newTicket) => { ... }\n  const handleChangingSelectedTicket = (id) => { ... }\n\n  // conditional rendering ...\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Right now, ",(0,s.jsx)(n.code,{children:"mainTicketList"})," is a local array stored in memory. When the page refreshes, it resets to ",(0,s.jsx)(n.code,{children:"[]"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"what-will-change",children:"What Will Change"}),"\n",(0,s.jsxs)(n.p,{children:["Adding Firebase will change ",(0,s.jsx)(n.strong,{children:"how tickets are stored and retrieved"})," \u2014 but it won't change the shape of the app. Here's what will stay exactly the same:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The component tree (App, Header, TicketControl, TicketList, Ticket, TicketDetail, NewTicketForm, EditTicketForm, ReusableForm)"}),"\n",(0,s.jsx)(n.li,{children:"Props and callback functions"}),"\n",(0,s.jsxs)(n.li,{children:["Conditional rendering logic in ",(0,s.jsx)(n.code,{children:"TicketControl"})]}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"formVisibleOnPage"}),", ",(0,s.jsx)(n.code,{children:"selectedTicket"}),", and ",(0,s.jsx)(n.code,{children:"editing"})," state variables"]}),"\n",(0,s.jsx)(n.li,{children:"PropTypes on all components"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Here's what will change:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"mainTicketList"})})," will be populated from Firestore instead of a local array"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsxs)(n.strong,{children:["A ",(0,s.jsx)(n.code,{children:"useEffect"})," hook"]})," will subscribe to the Firestore tickets collection when ",(0,s.jsx)(n.code,{children:"TicketControl"})," first mounts, so the component stays in sync with the database automatically:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"useEffect(() => {\n  // subscribe to Firestore \u2014 when tickets change, call setMainTicketList with the new data\n}, []);\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"The handler functions"})," (",(0,s.jsx)(n.code,{children:"handleAddingNewTicketToList"}),", ",(0,s.jsx)(n.code,{children:"handleDeletingTicket"}),", ",(0,s.jsx)(n.code,{children:"handleEditingTicketInList"}),") will write to Firestore instead of updating local state directly. The remaining handlers manage UI state only and will stay the same."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"whats-next",children:"What's Next"}),"\n",(0,s.jsx)(n.p,{children:"Before we can write any of this code, we need to understand Firebase and create a project. The upcoming lessons will cover:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"What Firebase is and why we're using it"}),"\n",(0,s.jsx)(n.li,{children:"What NoSQL databases are and how they differ from SQL"}),"\n",(0,s.jsx)(n.li,{children:"Setting up a Firebase project and Firestore database"}),"\n",(0,s.jsx)(n.li,{children:"Connecting Firebase to our React app and writing our first database calls"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);