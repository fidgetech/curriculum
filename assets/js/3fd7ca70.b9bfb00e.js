"use strict";(self.webpackChunklhtp=self.webpackChunklhtp||[]).push([[53362],{19379:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>c,frontMatter:()=>i,metadata:()=>a,toc:()=>h});const a=JSON.parse('{"id":"intermediate-javascript/asynchrony-and-apis/2-3-0-5-testing-api-calls-with-postman","title":"\ud83d\udcd3 2.3.0.5 Testing API Calls with Postman","description":"In the last lesson, we walked through the process of signing up for a developer account for the OpenWeather API and then getting an API key. We learned some general pointers for walking through API documentation and we even made an API call in the browser. In this lesson, we\'ll learn how to use a tool called Postman to test our API calls.","source":"@site/versioned_docs/version-WIP/2_intermediate-javascript/3_asynchrony-and-apis/2-3-0-05-testing-api-calls-with-postman.md","sourceDirName":"2_intermediate-javascript/3_asynchrony-and-apis","slug":"/intermediate-javascript/asynchrony-and-apis/2-3-0-5-testing-api-calls-with-postman","permalink":"/WIP/intermediate-javascript/asynchrony-and-apis/2-3-0-5-testing-api-calls-with-postman","draft":false,"unlisted":false,"tags":[],"version":"WIP","frontMatter":{"title":"\ud83d\udcd3 2.3.0.5 Testing API Calls with Postman","day":"weekend","id":"2-3-0-5-testing-api-calls-with-postman","hide_table_of_contents":true},"sidebar":"intermediate-javascript","previous":{"title":"\ud83d\udcd3 2.3.0.4 API Documentation and Keys","permalink":"/WIP/intermediate-javascript/asynchrony-and-apis/2-3-0-4-api-documentation-and-keys"},"next":{"title":"\ud83d\udcd3 2.3.0.6 Parsing JSON","permalink":"/WIP/intermediate-javascript/asynchrony-and-apis/2-3-0-6-parsing-json"}}');var s=n(74848),o=n(28453);const i={title:"\ud83d\udcd3 2.3.0.5 Testing API Calls with Postman",day:"weekend",id:"2-3-0-5-testing-api-calls-with-postman",hide_table_of_contents:!0},r=void 0,l={},h=[{value:"Installing Postman",id:"installing-postman",level:2},{value:"Using Postman",id:"using-postman",level:2},{value:"Always Test your APIs",id:"always-test-your-apis",level:3}];function d(e){const t={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.p,{children:"In the last lesson, we walked through the process of signing up for a developer account for the OpenWeather API and then getting an API key. We learned some general pointers for walking through API documentation and we even made an API call in the browser. In this lesson, we'll learn how to use a tool called Postman to test our API calls."}),"\n",(0,s.jsx)(t.h2,{id:"installing-postman",children:"Installing Postman"}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.p,{children:"Technically, we could test all of our API calls in the browser. However, Postman is a much better tool for testing API calls and it includes many features that make testing APIs a more visual and inviting process."}),"\n",(0,s.jsxs)(t.p,{children:["To download the Postman app on your personal machine, go to ",(0,s.jsx)(t.a,{href:"https://www.postman.com/downloads/",children:"the Postman downloads page"}),", and select the correct download for your operating system."]}),"\n",(0,s.jsx)(t.p,{children:"Finish your installation process and then open Postman. While Postman has a lot of nice features, we'll only use the most basic ones here."}),"\n",(0,s.jsx)(t.h2,{id:"using-postman",children:"Using Postman"}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsxs)(t.p,{children:["To make an API call, we need to create a new request. There's two ways to do this: you can open a new tab or select ",(0,s.jsx)(t.em,{children:"Create a request"})," from the overview tab. In the following image these options are highlighted by a red circle."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"This shows the Postman overview tab with the options to create a new request highlighted in red circles.",src:n(24441).A+"",width:"1082",height:"541"})}),"\n",(0,s.jsx)(t.p,{children:"Next, we need to type in our query into the URL bar."}),"\n",(0,s.jsx)(t.p,{children:"The default type of API call is a GET request (the request type is just to the left of the URL bar). You will probably only be making GET requests during this section, but if you need to make a POST or other type of request, this is where you'd update the query to reflect that."}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"In this GIF, we type in the query we want and then send it.",src:n(72620).A+"",width:"2336",height:"1600"})}),"\n",(0,s.jsxs)(t.p,{children:["In the GIF above, we paste in the query we want. The ",(0,s.jsx)(t.em,{children:"Params"})," tab is open and the parameters of the API call are automatically populated if the URL includes any parameters."]}),"\n",(0,s.jsx)(t.p,{children:"Let's take a closer look at our query:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"https://api.openweathermap.org/data/2.5/weather?q=Portland&appid=xxxx\n"})}),"\n",(0,s.jsx)(t.p,{children:"The format of this URL is exactly the same as the URL format of a webpage after we submit a form. There is:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["The protocol ",(0,s.jsx)(t.code,{children:"https"})]}),"\n",(0,s.jsxs)(t.li,{children:["The domain and path ",(0,s.jsx)(t.code,{children:"api.openweathermap.org/data/2.5/weather"})]}),"\n",(0,s.jsxs)(t.li,{children:["A ",(0,s.jsx)(t.code,{children:"?"})," to denote it's a query."]}),"\n",(0,s.jsxs)(t.li,{children:["Then finally, the parameters ",(0,s.jsx)(t.code,{children:"q"})," and ",(0,s.jsx)(t.code,{children:"appid"}),"; each parameter has a value and is separated by an ",(0,s.jsx)(t.code,{children:"&"})," symbol: ",(0,s.jsx)(t.code,{children:"q=Portland&appid=xxxx"})]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"This is a very common format, though the names of the query parameters themselves will vary between APIs."}),"\n",(0,s.jsxs)(t.p,{children:["As we can see, Postman makes it very easy to see our parameters, and also to update them if need be. We can update the parameters (or add more) either in the URL itself or by changing/adding key value pairs in the ",(0,s.jsx)(t.em,{children:"Params"})," tab. The latter is a better idea because then we won't accidentally break the rest of the URL in the process."]}),"\n",(0,s.jsxs)(t.p,{children:["Once we're ready to make our API call, we click the ",(0,s.jsx)(t.em,{children:"Send"})," button."]}),"\n",(0,s.jsx)(t.p,{children:"We intentionally put in a bogus API key here but we still get an informative response from the API. We'll see that response in the bottom tab of Postman."}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"JSON response plus information about response code.",src:n(64979).A+"",width:"750",height:"247"})}),"\n",(0,s.jsxs)(t.p,{children:["Every API response comes with a ",(0,s.jsx)(t.strong,{children:"response code"}),". If all goes well, we'll get a ",(0,s.jsx)(t.em,{children:"200 OK"}),". A 200 code means the query was successful. In this case, though, we get a ",(0,s.jsx)(t.em,{children:"401"})," code, which means the query was unauthorized. The message tells us exactly why: \"Invalid API key.\" That's to be expected. We intentionally didn't put in a valid key. We can hover over the response code in the upper right corner to see what it means. Postman also has tabs so we can look at the response in different ways \u2014 but as you can see from the GIF, the ",(0,s.jsx)(t.em,{children:"Pretty"})," option is the best way to go."]}),"\n",(0,s.jsxs)(t.p,{children:["One other really nice thing about Postman is the ",(0,s.jsx)(t.em,{children:"History"})," tab in the left-hand pane, which is highlighted in red in the image below. Just as our browser keeps a history of pages we've visited, making it easy to visit them again, Postman does the same."]}),"\n",(0,s.jsx)(t.p,{children:"We can also open a new tab (above the URL bar) if we want to be able to toggle between testing multiple requests at once."}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"This highlights the History tab in a red rectangle.",src:n(24441).A+"",width:"1082",height:"541"})}),"\n",(0,s.jsxs)(t.p,{children:["We've just scratched the surface of what Postman can do, but this functionality is likely all you'll need for making and testing API calls while you're a student at Epicodus. Feel free to explore Postman further \u2014 the ",(0,s.jsx)(t.a,{href:"https://learning.postman.com/docs/getting-started/introduction/",children:"documentation"})," is extensive."]}),"\n",(0,s.jsx)(t.h3,{id:"always-test-your-apis",children:"Always Test your APIs"}),"\n",(0,s.jsxs)(t.p,{children:["Whenever you want to integrate an API call in your code, ",(0,s.jsx)(t.strong,{children:"always"})," test it in Postman first. There are several reasons why this is important:"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["If the API endpoint doesn't work, you can verify that ",(0,s.jsx)(t.em,{children:"before"})," wasting your time building code based on it. Most API endpoints ",(0,s.jsx)(t.em,{children:"will"})," work, but if you're working with an API that might be outdated or has weak documentation, you might find that some endpoints aren't working correctly."]}),"\n",(0,s.jsxs)(t.li,{children:["More likely, and more importantly, you want to make sure that you've correctly formatted the API call before you integrate it into your code. That way, if it's not working correctly in your code, you know that your code is the problem, ",(0,s.jsx)(t.em,{children:"not"})," the API call. If you don't test the call first, you may have a hard time distinguishing whether the problem is coming from your code or the API query itself."]}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["At this point, we are ",(0,s.jsx)(t.em,{children:"almost"})," ready to start building out a JavaScript application. Before we do, though, let's take a closer look at the JSON format \u2014 and how to pull data from it."]})]})}function c(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},24441:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/postman-history-tab-82d3b1379905eab8ec225968c99cbb49.png"},28453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>r});var a=n(96540);const s={},o=a.createContext(s);function i(e){const t=a.useContext(o);return a.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),a.createElement(o.Provider,{value:t},e.children)}},64979:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/postman-response-tab-5fead30be0ef3c2c2f3fbbadd430f88f.gif"},72620:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/basic-postman-query-2022-e520e27ec30b58a0334130fd3a618968.gif"}}]);