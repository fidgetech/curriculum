"use strict";(self.webpackChunklhtp=self.webpackChunklhtp||[]).push([[71551],{28453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>a});var i=n(96540);const r={},s=i.createContext(r);function o(e){const t=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(s.Provider,{value:t},e.children)}},47923:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"c-and-net/basic-web-applications/5-2-0-15-using-forms-with-mvc","title":"\ud83d\udcd3 5.2.0.15 Using Forms with MVC","description":"In this lesson, we\'ll learn how to add forms to our virtual postcard application so anyone can create a custom postcard for their friends.","source":"@site/versioned_docs/version-WIP/c-and-net/2_basic-web-applications/3-2-0-15-using-forms-with-mvc.md","sourceDirName":"c-and-net/2_basic-web-applications","slug":"/c-and-net/basic-web-applications/5-2-0-15-using-forms-with-mvc","permalink":"/WIP/c-and-net/basic-web-applications/5-2-0-15-using-forms-with-mvc","draft":false,"unlisted":false,"tags":[],"version":"WIP","frontMatter":{"title":"\ud83d\udcd3 5.2.0.15 Using Forms with MVC","day":"weekend","id":"5-2-0-15-using-forms-with-mvc","hide_table_of_contents":true},"sidebar":"c-and-net","previous":{"title":"\ud83d\udcd3 5.2.0.14 Dynamic Views with Razor Markup Syntax","permalink":"/WIP/c-and-net/basic-web-applications/5-2-0-14-dynamic-views-with-razor-markup-syntax"},"next":{"title":"\ud83d\udcd3 5.2.0.16 Debugging Views and Configuring a Development Environment with launchSettings.json","permalink":"/WIP/c-and-net/basic-web-applications/5-2-0-16-debugging-views-and-configuring-a-development-environment-with-launchsettings-json"}}');var r=n(74848),s=n(28453);const o={title:"\ud83d\udcd3 5.2.0.15 Using Forms with MVC",day:"weekend",id:"5-2-0-15-using-forms-with-mvc",hide_table_of_contents:!0},a=void 0,l={},c=[{value:"Integrating Forms",id:"integrating-forms",level:2},{value:"Adding a New Route",id:"adding-a-new-route",level:3},{value:"Creating a Form View",id:"creating-a-form-view",level:3},{value:"Dynamically Rendering Form Data",id:"dynamically-rendering-form-data",level:2},{value:"Route",id:"route",level:3},{value:"View",id:"view",level:3}];function d(e){const t={a:"a",code:"code",div:"div",em:"em",h2:"h2",h3:"h3",hr:"hr",i:"i",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.p,{children:"In this lesson, we'll learn how to add forms to our virtual postcard application so anyone can create a custom postcard for their friends."}),"\n",(0,r.jsx)(t.h2,{id:"integrating-forms",children:"Integrating Forms"}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h3,{id:"adding-a-new-route",children:"Adding a New Route"}),"\n",(0,r.jsxs)(t.p,{children:["First, we'll add a new ",(0,r.jsx)(t.code,{children:"Form()"})," route to contain our form:"]}),"\n",(0,r.jsx)(t.div,{className:"filename",children:"FriendLetter/Controllers/HomeController.cs"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-csharp",children:'using Microsoft.AspNetCore.Mvc;\nusing FriendLetter.Models;\n\nnamespace FriendLetter.Controllers\n{\n  public class HomeController : Controller\n  {\n\n    ...\n\n    [Route("/form")]\n    public ActionResult Form() { return View(); }\n\n  }\n}\n'})}),"\n",(0,r.jsxs)(t.p,{children:["When we navigate to ",(0,r.jsx)(t.em,{children:"localhost:5000/form"}),", the code in this route will execute."]}),"\n",(0,r.jsx)(t.h3,{id:"creating-a-form-view",children:"Creating a Form View"}),"\n",(0,r.jsxs)(t.p,{children:["In our ",(0,r.jsx)(t.code,{children:"Views/Home"})," directory, we'll create a file called ",(0,r.jsx)(t.code,{children:"Form.cshtml"})," and add the following:"]}),"\n",(0,r.jsx)(t.div,{className:"filename",children:"FriendLetter/Views/Home/Form.cshtml"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-html",children:'<!DOCTYPE html>\n<html>\n  <head>\n    <title>Create a Custom Postcard!</title>\n    <link \n      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" \n      rel="stylesheet" \n      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" \n      crossorigin="anonymous">\n    <meta charset=\'utf-8\'>\n  </head>\n  <body>\n    <h1>Fill in your name and your friend\'s name to create your custom postcard!</h1>\n    <form action="/postcard" method="post">\n     <label for="sender">Sender\'s Name</label>\n     <input id="sender" name="sender" type="text">\n     <label for="recipient">Recipient\'s Name</label>\n     <input id="recipient" name="recipient" type="text">\n     <button type="submit">Go!</button>\n    </form>\n  </body>\n</html>\n'})}),"\n",(0,r.jsx)(t.p,{children:"This form looks fairly similar to ones we've worked with in the past but there are some key differences."}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Notice the ",(0,r.jsx)(t.code,{children:"<form>"})," tag includes ",(0,r.jsx)(t.code,{children:'action="/postcard"'}),". This tells ASP.NET Core MVC ",(0,r.jsx)(t.em,{children:"where"})," to submit the data provided through this form. ",(0,r.jsx)(t.strong,{children:"This attribute must be set to the path of another route in our controller."})," That means if we use a route decorator, it will be set to the path we've specified in the decorator. We'll create a ",(0,r.jsx)(t.code,{children:'"/postcard"'})," route soon."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["We create a ",(0,r.jsx)(t.code,{children:"<label>"})," and ",(0,r.jsx)(t.code,{children:"<input>"})," for each piece of info the form collects. ",(0,r.jsx)(t.code,{children:"<input>"}),"s must have 3 attributes: ",(0,r.jsx)(t.code,{children:"name"}),", ",(0,r.jsx)(t.code,{children:"id"}),", and ",(0,r.jsx)(t.code,{children:"type"}),":"]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.code,{children:"id"})," can be anything as long as it's unique on this page. Generally, the value will be the same for both ",(0,r.jsx)(t.code,{children:"name"})," and ",(0,r.jsx)(t.code,{children:"id"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.code,{children:"<input>"})," tag has many different possible values for the ",(0,r.jsx)(t.code,{children:"type"})," attribute. Examples include dates, colors, and numbers. This one is set to ",(0,r.jsx)(t.code,{children:'"text"'}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.code,{children:"<label>"})," tag provides the text to display next to the input box. It takes one attribute called ",(0,r.jsx)(t.code,{children:"for"}),", which should match the ",(0,r.jsx)(t.code,{children:"id"})," attribute of the corresponding ",(0,r.jsx)(t.code,{children:"<input>"})," tag. For example, the ",(0,r.jsx)(t.code,{children:"<input>"})," tag with attribute ",(0,r.jsx)(t.code,{children:'id="recipient"'})," should have a ",(0,r.jsx)(t.code,{children:"<label>"})," tag with the attribute ",(0,r.jsx)(t.code,{children:'for="recipient"'}),"."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.code,{children:"<button>"})," tag creates the button that submits the form. ",(0,r.jsxs)(t.strong,{children:["It has one attribute called ",(0,r.jsx)(t.code,{children:"type"}),". This attribute must be set to ",(0,r.jsx)(t.code,{children:'"submit"'}),"."]})," Otherwise, the form won't work correctly."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"Note that we haven't created the route that the new form will send it's data to. Let's do that next."}),"\n",(0,r.jsx)(t.h2,{id:"dynamically-rendering-form-data",children:"Dynamically Rendering Form Data"}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.p,{children:"Now that we have a form to submit data, we need to add a route that gathers the data, and a new view that displays the data."}),"\n",(0,r.jsx)(t.h3,{id:"route",children:"Route"}),"\n",(0,r.jsxs)(t.p,{children:["Let's first add the code to retrieve the user's form input. We'll call this new route ",(0,r.jsx)(t.code,{children:"Postcard()"}),". We need to make sure that the ",(0,r.jsx)(t.code,{children:"Postcard()"})," route has a ",(0,r.jsx)(t.code,{children:"/postcard"})," route decorator to handle this, because ",(0,r.jsxs)(t.strong,{children:["the route's path must match the form's ",(0,r.jsx)(t.code,{children:"action"})," attribute"]}),". When they match, ASP.NET Core will automatically execute the code in this route when the form is submitted."]}),"\n",(0,r.jsx)(t.p,{children:"Our new route will look like this:"}),"\n",(0,r.jsx)(t.div,{className:"filename",children:"FriendLetter/Controllers/HomeController.cs"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-csharp",children:'...\n\n[Route("/postcard")]\npublic ActionResult Postcard(string recipient, string sender)\n{\n  LetterVariable myLetterVariable = new LetterVariable();\n  myLetterVariable.Recipient = recipient;\n  myLetterVariable.Sender = sender;\n  return View(myLetterVariable);\n}\n\n...\n'})}),"\n",(0,r.jsxs)(t.p,{children:["Here we create a new ",(0,r.jsx)(t.code,{children:"Postcard()"})," route. This time, the route's method takes arguments: a ",(0,r.jsx)(t.code,{children:"string"})," for both ",(0,r.jsx)(t.code,{children:"recipient"})," and ",(0,r.jsx)(t.code,{children:"sender"}),"."]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Because we told our ",(0,r.jsx)(t.code,{children:"<form>"})," in ",(0,r.jsx)(t.code,{children:"Form.cshtml"})," to have an ",(0,r.jsx)(t.code,{children:'action="/postcard"'}),", the route matching the ",(0,r.jsx)(t.code,{children:"/postcard"})," path is automatically invoked. That's our ",(0,r.jsx)(t.code,{children:"Postcard()"})," route."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Our form has two ",(0,r.jsx)(t.code,{children:"<input>"}),"s, one with a ",(0,r.jsx)(t.code,{children:'name="sender"'})," attribute and another with a ",(0,r.jsx)(t.code,{children:'name="recipient"'})," attribute. These are the parameters we pass into the route method.  ",(0,r.jsxs)(t.strong,{children:["Note: the name of the parameters must match the value of the ",(0,r.jsx)(t.code,{children:"name"})," attribute on the form inputs. This must be an exact match or it will not work."]})]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["This route can automatically access those values via the parameters we pass into the ",(0,r.jsx)(t.code,{children:"Postcard()"})," route method."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"Next, let's create the view that will display the form data in a postcard."}),"\n",(0,r.jsx)(t.h3,{id:"view",children:"View"}),"\n",(0,r.jsxs)(t.p,{children:["Since the route name is ",(0,r.jsx)(t.code,{children:"Postcard()"}),", we need to create a view called ",(0,r.jsx)(t.code,{children:"Postcard.cshtml"}),". The new view will look like our previous friend letter in ",(0,r.jsx)(t.code,{children:"Letter.cshtml"}),", but this one will insert custom names gathered from our form."]}),"\n",(0,r.jsxs)(t.p,{children:["We'll add the following code to the ",(0,r.jsx)(t.code,{children:"Postcard.cshtml"}),":"]}),"\n",(0,r.jsx)(t.div,{className:"filename",children:"FriendLetter/Views/Home/Postcard.cshtml"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-html",children:'<!DOCTYPE html>\n<html>\n  <head>\n    <title>A Postcard For You!</title>\n    <link \n      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" \n      rel="stylesheet" \n      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" \n      crossorigin="anonymous">\n    <meta charset=\'utf-8\'>\n  </head>\n  <body>\n    <h1>Hello From Afar</h1>\n    <p>Dear @Model.Recipient,</p>\n    <p>How are you? I hope that you are having a nice weekend. I\'m vacationing in the Iceland while I learn programming!</p>\n    <p>@Model.Recipient, you would not believe how cold it is here. I should have gone to Hawaii instead.</p>\n    <p>But I like programming a lot, so I\'ve got that going for me.</p>\n    <p>Looking forward to seeing you soon. I\'ll bring you back a souvenir.</p>\n    <p>Cheers,</p>\n    <p>Travel Enthusiast @Model.Sender</p>\n  </body>\n</html>\n'})}),"\n",(0,r.jsxs)(t.p,{children:["If we launch the application and visit ",(0,r.jsx)(t.em,{children:"localhost:5000/form"}),", we'll see our form! If we fill it out and submit it, we'll automatically be taken to our letter at ",(0,r.jsx)(t.em,{children:"localhost:5000/postcard"})," with custom sender and recipient names from our form."]}),"\n",(0,r.jsx)(t.p,{children:'That\'s the end of this walkthrough on creating a basic web application with ASP.NET Core MVC. Click the link below to check out the finished example project for the "Friend Letter" project.'}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:(0,r.jsxs)(t.a,{href:"https://github.com/epicodus-lessons/section-2-friend-letter-csharp-net6",children:[(0,r.jsx)(t.i,{className:"glyphicon glyphicon-folder-open"}),"  Example GitHub Repo for Friend Letter"]})})})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);