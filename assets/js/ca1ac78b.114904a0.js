"use strict";(self.webpackChunklhtp=self.webpackChunklhtp||[]).push([[95509],{18809:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>o,toc:()=>r});const o=JSON.parse('{"id":"intermediate-javascript/object-oriented-javascript/2-1-0-10-address-book-finding-and-deleting-contacts","title":"\ud83d\udcd3 2.1.0.10 Address Book: Finding and Deleting Contacts","description":"We can now add a Contact to our AddressBook. However, this feature isn\'t very helpful unless we can also retrieve a contact later. This feature is necessary for any application that uses a real database \u2014 it\'s just as important to be able to retrieve data from the database as it is to store it. In this lesson, we\'ll create an AddressBook.prototype.findContact() method that allows us to find a Contact by its id property.","source":"@site/docs/2_intermediate-javascript/1_object-oriented-javascript/2-1-0-10-address-book-finding-and-deleting-contacts.md","sourceDirName":"2_intermediate-javascript/1_object-oriented-javascript","slug":"/intermediate-javascript/object-oriented-javascript/2-1-0-10-address-book-finding-and-deleting-contacts","permalink":"/v1.2/intermediate-javascript/object-oriented-javascript/2-1-0-10-address-book-finding-and-deleting-contacts","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"\ud83d\udcd3 2.1.0.10 Address Book: Finding and Deleting Contacts","day":"weekend","id":"2-1-0-10-address-book-finding-and-deleting-contacts","hide_table_of_contents":true},"sidebar":"intermediate-javascript","previous":{"title":"\ud83d\udcd3 2.1.0.9 Address Book: Unique IDs","permalink":"/v1.2/intermediate-javascript/object-oriented-javascript/2-1-0-9-address-book-unique-ids"},"next":{"title":"\ud83d\udcd3 2.1.0.11 VS Code: Bracket Colorization and Guides","permalink":"/v1.2/intermediate-javascript/object-oriented-javascript/2-1-0-11-vs-code-bracket-colorization-and-guides"}}');var s=n(74848),i=n(28453);const a={title:"\ud83d\udcd3 2.1.0.10 Address Book: Finding and Deleting Contacts",day:"weekend",id:"2-1-0-10-address-book-finding-and-deleting-contacts",hide_table_of_contents:!0},c=void 0,d={},r=[{value:"Finding <code>Contact</code>s",id:"finding-contacts",level:2},{value:"Testing it Out",id:"testing-it-out",level:3},{value:"Deleting <code>Contact</code>s",id:"deleting-contacts",level:2}];function l(e){const t={a:"a",code:"code",div:"div",em:"em",h2:"h2",h3:"h3",hr:"hr",i:"i",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:["We can now add a ",(0,s.jsx)(t.code,{children:"Contact"})," to our ",(0,s.jsx)(t.code,{children:"AddressBook"}),". However, this feature isn't very helpful unless we can also retrieve a contact later. This feature is necessary for any application that uses a real database \u2014 it's just as important to be able to retrieve data from the database as it is to store it. In this lesson, we'll create an ",(0,s.jsx)(t.code,{children:"AddressBook.prototype.findContact()"})," method that allows us to find a ",(0,s.jsx)(t.code,{children:"Contact"})," by its ",(0,s.jsx)(t.code,{children:"id"})," property."]}),"\n",(0,s.jsxs)(t.h2,{id:"finding-contacts",children:["Finding ",(0,s.jsx)(t.code,{children:"Contact"}),"s"]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.p,{children:"This method will actually be really easy to write \u2014 and very efficient. Here it is:"}),"\n",(0,s.jsx)(t.div,{className:"filename",children:"js/scripts.js"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-javascript",children:"...\n\nAddressBook.prototype.findContact = function(id) {\n  if (this.contacts[id] !== undefined) {\n    return this.contacts[id];\n  }\n  return false;\n};\n\n...\n"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["First, our new method takes an ",(0,s.jsx)(t.code,{children:"id"})," as an argument. This will contain the unique ID we assigned to each ",(0,s.jsx)(t.code,{children:"Contact"})," in the last lesson."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Next, we use a conditional to check if ",(0,s.jsx)(t.code,{children:"this.contacts[id] !== undefined"}),". If we try to find a property in an object that doesn't exist, JavaScript will return ",(0,s.jsx)(t.code,{children:"undefined"}),". We don't want our method to return ",(0,s.jsx)(t.code,{children:"undefined"}),", though. We want it to return a specific ",(0,s.jsx)(t.code,{children:"Contact"})," and if that ",(0,s.jsx)(t.code,{children:"Contact"})," doesn't exist, we'll return ",(0,s.jsx)(t.code,{children:"false"}),". So if this conditional isn't met, that means the contact doesn't exist in the database and the method will return ",(0,s.jsx)(t.code,{children:"false"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["So if ",(0,s.jsx)(t.code,{children:"this.contacts[id]"})," isn't ",(0,s.jsx)(t.code,{children:"undefined"}),", we'll return that specific contact (",(0,s.jsx)(t.code,{children:"this.contacts[id]"}),"). There's no need to iterate through the object. If our ",(0,s.jsx)(t.code,{children:"AddressBook"})," mock database were an array, we'd have to loop through each of the contacts until we find a matching ID \u2014 which isn't efficient at all. Finding a value by its key in a JavaScript object means it's super fast to look up a contact \u2014 no matter how big the address book gets."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["By the way, here's an interesting fact \u2014 under the hood, JavaScript stores all the properties of an object in an array. So technically, we are kind of using an array to look things up. However, JavaScript uses a very efficient ",(0,s.jsx)(t.strong,{children:"hashing algorithm"})," so that each key in an object corresponds to an index in an array. It does this because it's very fast to find an element in an array based on its index. This is more advanced stuff which we cover in our ",(0,s.jsx)(t.a,{href:"../../capstone/capstone-week-1/introduction-to-hash-tables",children:"Hash Tables"})," computer science curriculum. We don't recommend looking at this lesson yet as it's more advanced, but later in the program, you'll have an opportunity to learn about this."]}),"\n",(0,s.jsx)(t.h3,{id:"testing-it-out",children:"Testing it Out"}),"\n",(0,s.jsxs)(t.p,{children:["Let's test out our new method. Like before, we'll copy/paste the contents of ",(0,s.jsx)(t.code,{children:"scripts.js"})," into the DevTools console."]}),"\n",(0,s.jsxs)(t.p,{children:["Next, enter the following in the console to populate our ",(0,s.jsx)(t.code,{children:"AddressBook"}),":"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-javascript",children:'> let addressBook = new AddressBook();\n> let contact = new Contact("Ada", "Lovelace", "808-555-0100");\n> let contact2 = new Contact("Grace", "Hopper", "503-555-0199");\n> addressBook.addContact(contact);\n> addressBook.addContact(contact2);\n'})}),"\n",(0,s.jsxs)(t.p,{children:["Then we'll confirm our code provided each ",(0,s.jsx)(t.code,{children:"Contact"})," an ",(0,s.jsx)(t.code,{children:"id"})," by inspecting each object's ",(0,s.jsx)(t.code,{children:"id"})," property:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"> contact.id;\n1\n> contact2.id;\n2\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Once again, notice our ",(0,s.jsx)(t.code,{children:"Contact"})," object has an ",(0,s.jsx)(t.code,{children:"id"})," property even though the constructor didn't assign this property. We could update our constructor to assign an ID right away but it's not necessary to do so. Constructors are great for any properties that need to be created on initialization of an object \u2014 but it's also okay to add properties to an object later."]}),"\n",(0,s.jsxs)(t.p,{children:["Now we can test our new ",(0,s.jsx)(t.code,{children:"AddressBook.prototype.findContact()"})," method by providing it an ID number and confirming it returns the correct info. Let's try getting our second contact's information:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-javascript",children:'> addressBook.findContact(2);\nContact\xa0{firstName: "Grace", lastName: "Hopper", phoneNumber: "503-555-0199", id: 2}\n'})}),"\n",(0,s.jsxs)(t.p,{children:["Woohoo! We've confirmed that ",(0,s.jsx)(t.code,{children:"AddressBook.prototype.findContact()"})," successfully locates a ",(0,s.jsx)(t.code,{children:"Contact"})," using the corresponding ",(0,s.jsx)(t.code,{children:"id"}),"."]}),"\n",(0,s.jsxs)(t.p,{children:["There's something else to note here, something that's not really ideal about JavaScript objects. Remember how when we identified a contact by their first name, we had to do ",(0,s.jsx)(t.code,{children:'this.contacts["Ada"]'}),", not ",(0,s.jsx)(t.code,{children:"this.contacts[Ada]"}),"? We don't have to do that here. You might think that makes sense because the ",(0,s.jsx)(t.code,{children:"id"})," property is a number, but see what happens when we try this out in the console:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:'> addressBook.findContact("2");\nContact\xa0{firstName: "Grace", lastName: "Hopper", phoneNumber: "503-555-0199", id: 2}\n'})}),"\n",(0,s.jsx)(t.p,{children:"You might think this is because JavaScript is doing loose equality and converting the string into an integer, but actually it's the other way around. Object properties can be strings (or symbols) but not numbers. We can verify that the keys are actually strings by doing the following in the console:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:'> Object.keys(addressBook.contacts)[0];\n"1"\n> typeof Object.keys(addressBook.contacts)[0];\n"string"\n'})}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"Object.keys()"})," method (a ",(0,s.jsx)(t.strong,{children:"static"})," method called on the object type, and not the instance) returns all the keys in an object. Remember, object keys are object property names. We are using bracket notation to look at the first key in ",(0,s.jsx)(t.code,{children:"addressBook.contacts[0]"}),". You'll see it is ",(0,s.jsx)(t.code,{children:'"1"'})," \u2014 a string, and not a number! We can even verify this by using ",(0,s.jsx)(t.code,{children:"typeof"})," to return the type of the key, which shows that it is indeed a string."]}),"\n",(0,s.jsxs)(t.p,{children:["So, because JavaScript can do loose equality for us, we can write ",(0,s.jsx)(t.code,{children:"addressBook.findContact(2)"})," instead of ",(0,s.jsx)(t.code,{children:'addressBook.findContact("2")'}),". While this is confusing, this is just how JavaScript objects work. In the next section, we'll learn about a type of object called a Map that cleans up these issues \u2014 but for this section, we are going to stay focused on basic objects \u2014 in all their glory."]}),"\n",(0,s.jsxs)(t.h2,{id:"deleting-contacts",children:["Deleting ",(0,s.jsx)(t.code,{children:"Contact"}),"s"]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsxs)(t.p,{children:["Let's add one more prototype method for practice. What if we wanted to delete a ",(0,s.jsx)(t.code,{children:"Contact"})," from our ",(0,s.jsx)(t.code,{children:"AddressBook"}),"? Here's a method to do that. We'll add it right below ",(0,s.jsx)(t.code,{children:"addressBook.prototype.findContact()"}),":"]}),"\n",(0,s.jsx)(t.div,{className:"filename",children:"js/scripts.js"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-javascript",children:"...\n\nAddressBook.prototype.deleteContact = function(id) {\n  if (this.contacts[id] === undefined) {\n    return false;\n  }\n  delete this.contacts[id];\n  return true;\n};\n\n...\n"})}),"\n",(0,s.jsxs)(t.p,{children:["It's very similar to ",(0,s.jsx)(t.code,{children:"AddressBook.prototype.findContact()"}),". If there's no ",(0,s.jsx)(t.code,{children:"Contact"})," object at the specified ",(0,s.jsx)(t.code,{children:"id"})," (",(0,s.jsx)(t.code,{children:"this.contacts[id] === undefined"}),"), the method will return ",(0,s.jsx)(t.code,{children:"false"})," because no such contact exists and nothing was deleted."]}),"\n",(0,s.jsxs)(t.p,{children:["Otherwise, we'll use ",(0,s.jsx)(t.code,{children:"delete"})," to delete the contact based on its ",(0,s.jsx)(t.code,{children:"id"})," property:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"delete this.contacts[id];\n"})}),"\n",(0,s.jsx)(t.p,{children:"This will simply remove the key-value pair from the object. We can test it out by adding this method to our console code and then doing the following:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-javascript",children:'> let addressBook = new AddressBook();\n> let contact = new Contact("Ada", "Lovelace", "503-555-0100");\n> let contact2 = new Contact("Grace", "Hopper", "503-555-0199");\n> addressBook.addContact(contact);\n> addressBook.addContact(contact2);\n> addressBook;\n  AddressBook {contacts: {\u2026}, currentId: 2}\n  contacts: {1: Contact, 2: Contact}\n  currentId: 2\n  [[Prototype]]: Object\n> addressBook.deleteContact(1);\n> addressBook.contacts;\n  AddressBook {contacts: {\u2026}, currentId: 2}\n  contacts: {2: Contact}\n  currentId: 2\n  [[Prototype]]: Object\n'})}),"\n",(0,s.jsxs)(t.p,{children:["We'll see that that ",(0,s.jsx)(t.code,{children:"addressBook.contacts"})," now has only one contact. The ",(0,s.jsx)(t.code,{children:"currentId"})," is still ",(0,s.jsx)(t.code,{children:"2"}),", though, and ",(0,s.jsx)(t.code,{children:"1"})," will ",(0,s.jsx)(t.em,{children:"never"})," be used as an ID again even though the contact with that ID has been deleted. Once again, that's how a real database works."]}),"\n",(0,s.jsxs)(t.p,{children:["After following along with this lesson, our entire ",(0,s.jsx)(t.code,{children:"scripts.js"})," file will look like this:"]}),"\n",(0,s.jsx)(t.div,{className:"filename",children:"js/scripts.js"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-javascript",children:'// Business Logic for AddressBook ---------\nfunction AddressBook() {\n  this.contacts = {};\n  this.currentId = 0;\n}\n\nAddressBook.prototype.addContact = function(contact) {\n  contact.id = this.assignId();\n  this.contacts[contact.id] = contact;\n};\n\nAddressBook.prototype.assignId = function() {\n  this.currentId += 1;\n  return this.currentId;\n};\n\nAddressBook.prototype.findContact = function(id) {\n  if (this.contacts[id] !== undefined) {\n    return this.contacts[id];\n  }\n  return false;\n};\n\nAddressBook.prototype.deleteContact = function(id) {\n  if (this.contacts[id] === undefined) {\n    return false;\n  }\n  delete this.contacts[id];\n  return true;\n};\n\n// Business Logic for Contacts ---------\nfunction Contact(firstName, lastName, phoneNumber) {\n  this.firstName = firstName;\n  this.lastName = lastName;\n  this.phoneNumber = phoneNumber;\n}\n\nContact.prototype.fullName = function() {\n  return this.firstName + " " + this.lastName;\n};\n'})}),"\n",(0,s.jsxs)(t.p,{children:["You can also experiment with adding other methods as well. For instance, try adding an ",(0,s.jsx)(t.code,{children:"Contact.prototype.update()"})," method on the ",(0,s.jsx)(t.code,{children:"Contact"})," prototype. The main focus in this section is constructors and prototype methods so we encourage you to focus on business logic and increasing your understanding of these key concepts. When working with business logic, make sure to test it in the console before incorporating it into your UI logic."]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:(0,s.jsxs)(t.a,{href:"https://github.com/epicodus-lessons/oop-address-book-v2/tree/4_finding_and_deleting_contacts",children:[(0,s.jsx)(t.i,{className:"glyphicon glyphicon-folder-open"}),"  Example GitHub Repo for the Address Book"]})})})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>c});var o=n(96540);const s={},i=o.createContext(s);function a(e){const t=o.useContext(i);return o.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),o.createElement(i.Provider,{value:t},e.children)}}}]);