"use strict";(self.webpackChunklhtp=self.webpackChunklhtp||[]).push([[21956],{28453:(e,t,o)=>{o.d(t,{R:()=>s,x:()=>i});var a=o(96540);const n={},r=a.createContext(n);function s(e){const t=a.useContext(r);return a.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:s(e.components),a.createElement(r.Provider,{value:t},e.children)}},33995:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"intermediate-javascript/object-oriented-javascript/2-1-3-4-further-exploration-local-storage","title":"\ud83d\udcd3 2.1.3.4 Further Exploration: Local Storage","description":"This lesson is a further exploration. That means it\'s optional \u2014 and the content here is not required for the independent project.","source":"@site/docs/2_intermediate-javascript/1_object-oriented-javascript/2-1-3-04-further-exploration-local-storage.md","sourceDirName":"2_intermediate-javascript/1_object-oriented-javascript","slug":"/intermediate-javascript/object-oriented-javascript/2-1-3-4-further-exploration-local-storage","permalink":"/v1.2/intermediate-javascript/object-oriented-javascript/2-1-3-4-further-exploration-local-storage","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"\ud83d\udcd3 2.1.3.4 Further Exploration: Local Storage","day":"wednesday","id":"2-1-3-4-further-exploration-local-storage","hide_table_of_contents":true},"sidebar":"intermediate-javascript","previous":{"title":"\ud83d\udcd3 2.1.3.3 Switch Cases","permalink":"/v1.2/intermediate-javascript/object-oriented-javascript/2-1-3-3-switch-cases"},"next":{"title":"\ud83d\udcd3 2.1.3.5 Further Exploration: Aliases","permalink":"/v1.2/intermediate-javascript/object-oriented-javascript/2-1-3-5-further-exploration-aliases"}}');var n=o(74848),r=o(28453);const s={title:"\ud83d\udcd3 2.1.3.4 Further Exploration: Local Storage",day:"wednesday",id:"2-1-3-4-further-exploration-local-storage",hide_table_of_contents:!0},i=void 0,c={},l=[{value:"Using Local Storage for Persistence",id:"using-local-storage-for-persistence",level:2},{value:"Adding, Getting and Removing Items",id:"adding-getting-and-removing-items",level:3},{value:"Using Local Storage with Objects",id:"using-local-storage-with-objects",level:3},{value:"More to Explore on MDN",id:"more-to-explore-on-mdn",level:3}];function d(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.p,{children:["This lesson is a ",(0,n.jsx)(t.strong,{children:"further exploration"}),". That means it's optional \u2014 and the content here is not required for the independent project."]}),"\n",(0,n.jsx)(t.h2,{id:"using-local-storage-for-persistence",children:"Using Local Storage for Persistence"}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsx)(t.p,{children:"Currently, all of our data is being stored in a global variable. When we refresh the page, all our variables are cleared. That means our data gets cleared, too. This is frustrating, especially since we will need to refresh our page constantly as we update our code."}),"\n",(0,n.jsxs)(t.p,{children:["While we're not ready to use databases yet, we do have another solution for temporary persistence called ",(0,n.jsx)(t.strong,{children:"local storage"}),". Local storage allows us to store some data in the browser. This data will persist even when we reload our page \u2014 in fact, it will persist until we clear our browser's cache or specifically do something to clear local storage!"]}),"\n",(0,n.jsxs)(t.p,{children:["Local storage is one part of the Web Storage API, which is a part of the larger collection of browser Web APIs like ",(0,n.jsx)(t.code,{children:"document"}),", ",(0,n.jsx)(t.code,{children:"window"}),", and others. In fact, we access local storage through the ",(0,n.jsx)(t.code,{children:"window"})," object."]}),"\n",(0,n.jsxs)(t.p,{children:["Local storage is a little bit like a ",(0,n.jsx)(t.strong,{children:"cookie"})," but there are some key differences. Most of us are familiar with cookies. They are little bits of data stored in our browser. Whenever our browser navigates to a website, servers can read these cookies. Cookies are often innocuous but they can be annoying, too \u2014 they are a way for servers to track our website activity and behaviors."]}),"\n",(0,n.jsx)(t.p,{children:"Local storage is different. It can only be read client-side \u2014 by our browser. Servers can not see what's in our local storage. Local storage also has considerably more space than a cookie."}),"\n",(0,n.jsx)(t.p,{children:"We can store our mock database in local storage. Note that this has very limited utility \u2014 local storage is limited to just one domain on one machine, so if you opened the project on another machine, the data stored on the first machine would not be there."}),"\n",(0,n.jsxs)(t.p,{children:["However, local storage is a nice way to achieve temporary persistence in our projects \u2014 at least until we start using databases. It also has many real-world uses as well. It can save certain information about our preferences, for instance, that the server does not need to see. Try navigating to a few different sites you use regularly and check the ",(0,n.jsx)(t.code,{children:"window.localStorage"})," property."]}),"\n",(0,n.jsx)(t.p,{children:"Let's take a look at how we can use local storage in our own applications. Once we've learned the basics, we'll see how we can use it to store our address book."}),"\n",(0,n.jsx)(t.h3,{id:"adding-getting-and-removing-items",children:"Adding, Getting and Removing Items"}),"\n",(0,n.jsxs)(t.p,{children:["Open the DevTools console in Chrome and type in ",(0,n.jsx)(t.code,{children:"window.localStorage"}),". You'll see an object and it may even have key-value pairs in it. Just like with the ",(0,n.jsx)(t.code,{children:"document"})," object, we can also access ",(0,n.jsx)(t.code,{children:"localStorage"})," directly without first accessing the ",(0,n.jsx)(t.code,{children:"window"})," object. Which syntax to use in order to access local storage is up to personal preference."]}),"\n",(0,n.jsx)(t.p,{children:"In the following code snippet, the local storage is currently empty:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",children:"> window.localStorage;\nStorage\xa0{length: 0}\n> localStorage;\nStorage\xa0{length: 0}\n"})}),"\n",(0,n.jsx)(t.p,{children:"Local storage can only hold key-value pairs of strings. We can add a key-value pair like this:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",children:'> localStorage.setItem("name", "Jasmine");\n> localStorage;\nStorage\xa0{ name: "Jasmine", length: 1}\n'})}),"\n",(0,n.jsxs)(t.p,{children:["We can use ",(0,n.jsx)(t.code,{children:"localStorage.setItem()"})," to add a key-value pair. Then, when we check the value of ",(0,n.jsx)(t.code,{children:"localStorage"}),", we'll see our new key-value pair. Note that we'll also see a ",(0,n.jsx)(t.code,{children:"length"})," property. This is the number of items in local storage for that particular domain. So if we navigate from ",(0,n.jsx)(t.a,{href:"http://www.someimaginarysite111.com",children:"www.someimaginarysite111.com"})," (one domain) to ",(0,n.jsx)(t.a,{href:"http://www.someotherimaginarysite222.com",children:"www.someotherimaginarysite222.com"})," (a different domain), the second site will have a different local storage object."]}),"\n",(0,n.jsx)(t.p,{children:"To actually retrieve an item, we can do this:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",children:'> localStorage.getItem("name");\n"Jasmine"\n'})}),"\n",(0,n.jsx)(t.p,{children:"We can remove an item by doing the following:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",children:'> localStorage.removeItem("name");\n'})}),"\n",(0,n.jsxs)(t.p,{children:["Note that we don't need to remove an item first to add another one. We can just call ",(0,n.jsx)(t.code,{children:"localStorage.setItem()"})," to override a key-value pair that has the same key."]}),"\n",(0,n.jsx)(t.p,{children:"Finally, if we wanted to clear all the items in local storage for our particular domain, we'd use:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",children:"> localStorage.clear();\n"})}),"\n",(0,n.jsx)(t.h3,{id:"using-local-storage-with-objects",children:"Using Local Storage with Objects"}),"\n",(0,n.jsx)(t.p,{children:"Local storage has a pretty big limitation in terms of our address book. It's only for storing strings, not objects!"}),"\n",(0,n.jsx)(t.p,{children:"However, we can work around that. JavaScript provides methods to turn objects into strings and vice versa."}),"\n",(0,n.jsxs)(t.p,{children:["Here's how we can turn an object into a string. Open the DevTools console and add the following code. We'll start by using our ",(0,n.jsx)(t.code,{children:"Contact"})," constructor and create a test contact."]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",children:'> function Contact(firstName, lastName, phoneNumber) {\n  this.firstName = firstName;\n  this.lastName = lastName;\n  this.phoneNumber = phoneNumber;\n}\n> const testContact = new Contact("Ada", "Lovelace", "808-555-1111");\n'})}),"\n",(0,n.jsxs)(t.p,{children:["Next, we can use the ",(0,n.jsx)(t.code,{children:"JSON.stringify()"})," method to turn our object into a string. We've very briefly discussed JSON in previous lessons \u2014 it's short for JavaScript Object Notation and it just means storing data in JavaScript objects. So we've already been working with JSON quite a bit!"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",children:"> const stringifiedContact = JSON.stringify(testContact);\n> localStorage.setItem('contact', stringifiedContact);\n"})}),"\n",(0,n.jsxs)(t.p,{children:["If we check ",(0,n.jsx)(t.code,{children:"localStorage"}),", we'll see the value associated with the key ",(0,n.jsx)(t.code,{children:"contact"})," is the following:"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",children:'> localStorage.getItem(\'contact\');\n"{"firstName":"Ada","lastName":"Lovelace","phoneNumber":"808-555-1111"}"\n'})}),"\n",(0,n.jsxs)(t.p,{children:["Now let's say we want to retrieve this information and work with it as an object again. We can do so with ",(0,n.jsx)(t.code,{children:"JSON.parse()"}),":"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",children:'> const contactString = localStorage.getItem(\'contact\');\n> const contactObject = JSON.parse(contactString);\n> contactObject;\n{firstName: "Ada", lastName: "Lovelace", phoneNumber: "808-555-1111"}\n'})}),"\n",(0,n.jsxs)(t.p,{children:["As we can see, the value of ",(0,n.jsx)(t.code,{children:"contactObject"})," is now an object again. However, be careful. A very important piece of information has been lost in this whole translation process. Can you see what it is?"]}),"\n",(0,n.jsxs)(t.p,{children:["Well, ",(0,n.jsx)(t.code,{children:"contactObject"})," is no longer an object of the ",(0,n.jsx)(t.code,{children:"Contact"})," type. It's just a basic JavaScript object of the ",(0,n.jsx)(t.code,{children:"Object"})," type. That means none of the prototypal methods specific to ",(0,n.jsx)(t.code,{children:"Contact"})," objects can be used with a contact retrieved from local storage."]}),"\n",(0,n.jsxs)(t.p,{children:["Once again, there are ways around this. For instance, it might make sense to create a method that translates these basic objects back into ",(0,n.jsx)(t.code,{children:"Contact"})," objects."]}),"\n",(0,n.jsx)(t.p,{children:"However, we are going to leave the next steps for intrepid explorers that would like to check out local storage on their own. You can try updating the address book application or another application you're working on to use local storage \u2014 or you could try using local storage for another project in the next few sections of Intermediate JavaScript. Once again, this is completely optional \u2014 and there are more important JavaScript concepts to focus on over local storage right now. That being said, if you're feeling comfortable with the material and need more challenges, check it out."}),"\n",(0,n.jsx)(t.h3,{id:"more-to-explore-on-mdn",children:"More to Explore on MDN"}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.code,{children:"localStorage"})," is a part of the Web Storage API. This API has another storage option called ",(0,n.jsx)(t.code,{children:"sessionStorage"})," that saves data just for the duration that a web browser is open. Once closed, the data is erased. To learn more, visit MDN:"]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API",children:"Web Storage API"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage",children:(0,n.jsx)(t.code,{children:"localStorage"})})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Window/sessionStorage",children:(0,n.jsx)(t.code,{children:"sessionStorage"})})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON",children:(0,n.jsx)(t.code,{children:"JSON"})})}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}}}]);