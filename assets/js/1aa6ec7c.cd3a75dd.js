"use strict";(self.webpackChunklhtp=self.webpackChunklhtp||[]).push([[31934],{28453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>a});var o=n(96540);const i={},r=o.createContext(i);function s(e){const t=o.useContext(r);return o.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),o.createElement(r.Provider,{value:t},e.children)}},33962:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/using-debugger-statement-in-code-500f4ad518d1cd7d7a48aa1bf6dd3e0e.png"},53153:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/breakpoints-multiple-breakpoints-on-one-line-2d579c12cf1abe468a92469c47b8a217.gif"},54562:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/breakpoints-exploring-second-error-in-console-6146953c9c9b7fc330bd2e83ac5506cf.gif"},70185:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/breakpoints-using-line-25-4414559931612642dd5a26ccb887b88c.gif"},71936:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/breakpoints-stepping-through-aeaf912ed1093e83f5fb734fc4333958.gif"},75840:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/breakpoints-fixing-error-57a7f928236e9845ea7936ca7cb3a70b.gif"},78440:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/breakpoints-stepping-through-second-error-e4c2bae7f7fb78fbf07e346468067adb.gif"},86937:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>h,contentTitle:()=>a,default:()=>c,frontMatter:()=>s,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"introduction-to-programming/javascript-and-web-browsers/1-2-4-7-debugging-in-javascript-using-debugger-and-breakpoints","title":"\ud83d\udcd3 1.2.4.7 Debugging in JavaScript: Using debugger and Breakpoints","description":"This is our fourth and final lesson on basic debugging with JavaScript. In this lesson, we\'ll use DevTools debugger to pinpoint and fix two new bugs in our Calculator JS.","source":"@site/versioned_docs/version-WIP/1_introduction-to-programming/2_javascript-and-web-browsers/1-2-4-07-debugging-in-javascript-using-debugger-and-breakpoints.md","sourceDirName":"1_introduction-to-programming/2_javascript-and-web-browsers","slug":"/introduction-to-programming/javascript-and-web-browsers/1-2-4-7-debugging-in-javascript-using-debugger-and-breakpoints","permalink":"/WIP/introduction-to-programming/javascript-and-web-browsers/1-2-4-7-debugging-in-javascript-using-debugger-and-breakpoints","draft":false,"unlisted":false,"tags":[],"version":"WIP","frontMatter":{"title":"\ud83d\udcd3 1.2.4.7 Debugging in JavaScript: Using debugger and Breakpoints","day":"thursday","id":"1-2-4-7-debugging-in-javascript-using-debugger-and-breakpoints","hide_table_of_contents":true},"sidebar":"introduction-to-programming","previous":{"title":"\ud83d\udcd3 1.2.4.6 Debugging in JavaScript: Pausing on Exceptions","permalink":"/WIP/introduction-to-programming/javascript-and-web-browsers/1-2-4-6-debugging-in-javascript-pausing-on-exceptions"},"next":{"title":"\u270f\ufe0f 1.2.4.8 Practice: Triangle Tracker","permalink":"/WIP/introduction-to-programming/javascript-and-web-browsers/1-2-4-8-practice-triangle-tracker"}}');var i=n(74848),r=n(28453);const s={title:"\ud83d\udcd3 1.2.4.7 Debugging in JavaScript: Using debugger and Breakpoints",day:"thursday",id:"1-2-4-7-debugging-in-javascript-using-debugger-and-breakpoints",hide_table_of_contents:!0},a=void 0,h={},d=[{value:"Project Setup",id:"project-setup",level:2},{value:"Using Breakpoints",id:"using-breakpoints",level:2},{value:"Tips for Using Breakpoints",id:"tips-for-using-breakpoints",level:3},{value:"Solving the Second Bug",id:"solving-the-second-bug",level:3},{value:"Using <code>debugger;</code>",id:"using-debugger",level:2},{value:"Summary",id:"summary",level:2}];function l(e){const t={code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.p,{children:"This is our fourth and final lesson on basic debugging with JavaScript. In this lesson, we'll use DevTools debugger to pinpoint and fix two new bugs in our Calculator JS."}),"\n",(0,i.jsx)(t.p,{children:"Of the four debugging tools we're covering now, debugger is the most important tool to master. Pay close attention and make sure you understand the basics of using this tool. Don't worry \u2014 you will get plenty of practice with debugger. We recommend using this tool every time you are trying to solve an error in your code."}),"\n",(0,i.jsxs)(t.p,{children:["The debugger tool freezes execution of our code so that we can run our own experiments in the scope that the code is frozen in. Debugger is similar to pausing on exceptions in that we can see what variables evaluate to during mid-execution of a function. However, you don't need an exception to be thrown to use debugger to explore inside of a function. Debugger works really well with bugs that ",(0,i.jsx)(t.em,{children:"don't"})," throw errors in our code, like ",(0,i.jsx)(t.code,{children:"undefined"})," values."]}),"\n",(0,i.jsx)(t.p,{children:"There are two ways to freeze our code using debugger \u2014 a great way and a not-so-great way. We'll start exploring the great way first, and we'll continue to use the same Calculator project when we learned about pausing on exceptions."}),"\n",(0,i.jsx)(t.p,{children:"Remember that it's optional to code along with this lesson. The next lesson is a practice prompt to build a new project and try using these debugging tools. If you are coding along with this lesson, make sure to use the JS below, and the HTML from the previous lesson."}),"\n",(0,i.jsx)(t.h2,{id:"project-setup",children:"Project Setup"}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsx)(t.p,{children:"Take note that we've introduced two new bugs!"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-js",children:'// Business Logic\nfunction add(num1, num2) {\n  return num1 + num2;\n}\n\nfunction subtract(num1, num2) {\n  return num1 - num2;\n}\n\nfunction multiply(num1, num2) {\n  return num1 * num2;\n}\n\nfunction divide(num1, num2) {\n  return num1 / num2;\n}\n\n// User Interface Logic\nfunction handleCalculation(event) {\n  event.preventDefault();\n  const number1 = parseInt(document.querySelector("input#input1").value);\n  const number2 = parseInt(document.querySelector("input#input2").value);\n  const operator = document.querySelector("input[name=\'operator\']:checked").vale;\n  \n  let result;\n  if (operator === "add") {\n    result = add(number1, number2);\n  } else if (operator === "subtract") {\n    result = subtract(number1, number2);\n  } else if (operator === "multiply") {\n    result = multiply(number1, number2);\n  } else if (operator === "divide") {\n    result = divide(number1, number2);\n  }\n\n  document.getElementById("output").inerText = result;\n}\n\nwindow.addEventListener("load", function() {\n  const form = document.getElementById("calculator")\n  form.addEventListener("submit", handleCalculation);\n});\n'})}),"\n",(0,i.jsx)(t.h2,{id:"using-breakpoints",children:"Using Breakpoints"}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsxs)(t.p,{children:["With the Calculator project opened in the browser, let's submit our form. In our example, we've inputted the numbers 2 and 3, and selected to add them together. When we submit the form we get... well, nothing! No result and ",(0,i.jsx)(t.em,{children:"no error!"})," In this situation pausing on exceptions won't help us."]}),"\n",(0,i.jsxs)(t.p,{children:["Let's start our debugging process by opening our DevTools and navigating to the ",(0,i.jsx)(t.strong,{children:"Sources"})," tab."]}),"\n",(0,i.jsxs)(t.p,{children:["On the left of the Sources tab, we'll see our project's file tree. Open up the ",(0,i.jsx)(t.code,{children:"js/"})," directory and click on ",(0,i.jsx)(t.code,{children:"scripts.js"})," to open it in the window to the right. We can open up any file from our project in this way."]}),"\n",(0,i.jsx)(t.p,{children:"Check the GIF below, which walks through the whole process \u2014 including adding breakpoints, which we'll discuss further in a moment."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"First make sure you&#39;ve chosen the right file to add a breakpoint to, then add the breakpoint.",src:n(71936).A+"",width:"823",height:"583"})}),"\n",(0,i.jsxs)(t.p,{children:["In the GIF above, several things happen. After opening the Sources tab, we first ensure that we are looking at the correct file by selecting ",(0,i.jsx)(t.code,{children:"scripts.js"})," in the left-hand window (the ",(0,i.jsx)(t.em,{children:"Page"})," tab within the ",(0,i.jsx)(t.em,{children:"Sources"})," tab). When we start creating projects with more JS files, it's especially useful to be able to switch between them in this window."]}),"\n",(0,i.jsxs)(t.p,{children:["Next, we click on three lines in our code to create a blue arrow next to each line. This is a ",(0,i.jsx)(t.strong,{children:"breakpoint"}),", which means that our code will pause execution when it hits the line of code to the right of the blue arrow. In this case, our first debugging step is to make sure that we're properly getting the form values, so we're adding breakpoints next to lines 21, 22, and 23 to verify that we're correctly getting the values for the variables ",(0,i.jsx)(t.code,{children:"number1"}),", ",(0,i.jsx)(t.code,{children:"number2"}),", and ",(0,i.jsx)(t.code,{children:"operator"}),"."]}),"\n",(0,i.jsx)(t.p,{children:"Then, we submit the form. Because we've added breakpoints, the familiar \"Paused in Debugger\" message and menu pops up. In the gif we use the right-pointing arrow that's rounded over a dot (in the blue circle in the gif) to call the next function. This moves us through each breakpoint and each line of code. As we click this arrow, we can see our code running, one line at a time. The orange box highlights how the debugger tracks the value of each variable  every time we click the arrow and run the next line of code."}),"\n",(0,i.jsxs)(t.p,{children:["Notice that after we run line 23, the variable ",(0,i.jsx)(t.code,{children:"operator"})," is still ",(0,i.jsx)(t.code,{children:"undefined"}),"! That's likely where the first issue is. If we double check line 23, we should be able to spot another typo in the ",(0,i.jsx)(t.code,{children:"value"})," property, incorrectly written as ",(0,i.jsx)(t.code,{children:"vale"}),". This is our first bug!"]}),"\n",(0,i.jsxs)(t.p,{children:["We can use the ",(0,i.jsx)(t.code,{children:"scripts.js"})," in the Sources tab to verify this. Check out the gif below that demonstrates this."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"This gif shows how to edit the scripts.js in the Sources tab to try out different code to solve the first bug. Specifically, we change vale to value. Hovering over line 23 shows us the value returned from executing that code.",src:n(75840).A+"",width:"974",height:"219"})}),"\n",(0,i.jsxs)(t.p,{children:["When we first hover over ",(0,i.jsx)(t.code,{children:"document.querySelector(\"input[name='operator']:checked\").vale;"})," the DevTools debugger tells us that ",(0,i.jsx)(t.code,{children:"undefined"})," is returned (highlighted by the green square)."]}),"\n",(0,i.jsxs)(t.p,{children:["Then, when we update ",(0,i.jsx)(t.code,{children:"vale"})," to ",(0,i.jsx)(t.code,{children:"value"})," and hover over ",(0,i.jsx)(t.code,{children:"document.querySelector(\"input[name='operator']:checked\").value;"})," again, the debugger tells us that ",(0,i.jsx)(t.code,{children:'"add"'})," is returned (highlighted by the orange square)."]}),"\n",(0,i.jsxs)(t.p,{children:["Note that while the JavaScript files in the ",(0,i.jsx)(t.em,{children:"Sources"})," pane contain references to our source code, any changes we make in the ",(0,i.jsx)(t.em,{children:"Sources"})," pane won't actually change our code in VS Code. This is a good thing because we have a sandboxed environment where we can experiment with code in the browser without needing to worry about the integrity of our actual source code."]}),"\n",(0,i.jsx)(t.h3,{id:"tips-for-using-breakpoints",children:"Tips for Using Breakpoints"}),"\n",(0,i.jsx)(t.p,{children:"We've solved our first bug, and we have one more to go. Before we move onto the next bug, let's review some tips for using breakpoints."}),"\n",(0,i.jsx)(t.p,{children:"First, it's important to note that refreshing your page or exiting from the DevTools won't remove your breakpoints. Instead, you need to remove them by clicking on them to toggle them off."}),"\n",(0,i.jsxs)(t.p,{children:["Also, the breakpoint should always be added to the line right ",(0,i.jsx)(t.em,{children:"after"})," the line we actually want to evaluate. This is because we want to evaluate a line after it has run, not before \u2014 and the breakpoint will stop the code as soon as a line is reached (and before the code from that line is evaluated)."]}),"\n",(0,i.jsxs)(t.p,{children:["With this in mind, an easier way to evaluate the values of ",(0,i.jsx)(t.code,{children:"number1"}),", ",(0,i.jsx)(t.code,{children:"number2"}),", and ",(0,i.jsx)(t.code,{children:"operator"})," would be to set a breakpoint for the line afterwards. Check out the gif below that demonstrates this."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"This gif adds a breakpoint to line 25 let result;. In this case, using just one breakpoint lower in our scripts allows us to check all of the variables (number1, number2, and operator) from the code before it.",src:n(70185).A+"",width:"822",height:"512"})}),"\n",(0,i.jsxs)(t.p,{children:["As we can see in the gif, adding one breakpoint to line 25 (with ",(0,i.jsx)(t.code,{children:"let result;"}),") lets us immediately see the values of all of the variables ",(0,i.jsx)(t.code,{children:"number1"}),", ",(0,i.jsx)(t.code,{children:"number2"}),", and ",(0,i.jsx)(t.code,{children:"operator"})," (highlighted by the red square) right after we submit the form."]}),"\n",(0,i.jsx)(t.p,{children:"The last tip is that if there are multiple function calls on one line of code, we can optionally set a breakpoint for the additional function(s). Check out the gif below that demonstrates this."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"This gif shows how to add multiple breakpoints on one line.",src:n(53153).A+"",width:"593",height:"161"})}),"\n",(0,i.jsx)(t.p,{children:"This just gives you a finer grained control. There likely won't be a lot need for that extra fine grained control in the applications you build at Epicodus, but that depends how you are writing your code (for example, if you are chaining multiple method calls) and where the bug is that you are trying to locate!"}),"\n",(0,i.jsx)(t.h3,{id:"solving-the-second-bug",children:"Solving the Second Bug"}),"\n",(0,i.jsx)(t.p,{children:"We're ready to move onto the second bug. If you are coding along with this lesson and you haven't already fixed the first bug, do so now."}),"\n",(0,i.jsx)(t.p,{children:"Let's resubmit the form and see what's going on now. Well, turns out we're still experiencing the same behavior \u2014 nothing in the results and no error message. What could be going on?"}),"\n",(0,i.jsxs)(t.p,{children:["Let's continue with the breakpoint on ",(0,i.jsx)(t.code,{children:"let result;"})," on line 25 and see what happens as we step through each line of code. Watch the GIF below that demonstrates what happens, and pay attention to the values of the variables in scope as we step through each line of code."]}),"\n",(0,i.jsx)(t.p,{children:"Note that in the GIF below, we don't see the usual grayed out webpage and \"Paused in debugger\" message, even though we are in fact paused in debugger and have a breakpoint on line 25. This just seems to be an occasional glitch with DevTools. If this happens to you in your own debugging process and it's throwing you off, the best thing to do is to refresh the page and submit the form again."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"This GIF shows the process of stepping through our scripts, line by line, starting with line 25. As we click through our scripts, we can see how the different statements get processed and ultimately see the value of the result variable.",src:n(78440).A+"",width:"817",height:"600"})}),"\n",(0,i.jsxs)(t.p,{children:["When we first hit the breakpoint on line 25 ",(0,i.jsx)(t.code,{children:"let result;"}),", we can see that the three variables ",(0,i.jsx)(t.code,{children:"number1"}),", ",(0,i.jsx)(t.code,{children:"number2"}),", and ",(0,i.jsx)(t.code,{children:"operator"})," are all defined. ",(0,i.jsx)(t.code,{children:"result"})," is not defined, because we haven't worked our way through the if/else branching statements."]}),"\n",(0,i.jsx)(t.p,{children:'Then, we move through our scripts one line at a time. In total, we click the button to "step over the next function call" five times:'}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["With the first click, we are taken to line 26 ",(0,i.jsx)(t.code,{children:'if (operator === "add") {'}),", which evaluates to true. This means that on the second click to step through our code, we're taken immediately to line 27 ",(0,i.jsx)(t.code,{children:"result = add(number1, number2);"}),". Until we step through our code again, we won't know if that code works."]}),"\n",(0,i.jsxs)(t.li,{children:["With the third click, we're taken all the way down to line 36 ",(0,i.jsx)(t.code,{children:'document.getElementById("output").inerText = result;'}),". Line 36 hasn't executed yet, but we can see that ",(0,i.jsx)(t.code,{children:"result"})," now has a value of ",(0,i.jsx)(t.code,{children:"5"}),", and the rest of the if/else branching statements were skipped."]}),"\n",(0,i.jsxs)(t.li,{children:["With the fourth and fifth clicks we move to line 37 and 38, completing the execution of all of our scripts. Since we're at the end of our scripts, this kicks us out of the debugger completely! You can tell when you are no longer paused in the debugger, because all of the markup in the ",(0,i.jsx)(t.code,{children:"scripts.js"})," file (in the Sources tab) disappears, and so does the gray wash and debugger menu options on the webpage itself."]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"Since all of our variables are defined and our if/else statement is working correctly, that points to an issue on line 36. A quick review of the line should reveal the bug in our code, but, let's try something else: taking this line of code and exploring it in the DevTools console. That's right, when actively in the debugger using breakpoints, we can call on and explore the variables in our scripts directly in the DevTools console."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"This gif shows the process of solving the second bug. We first hover over variables in scripts.js when we&#39;re paused in the debugger. Then, we copy a line our scripts code and put it in the DevTools console to explore it more. In the DevTools console, we&#39;re able to spot the typo in the innerText property.",src:n(54562).A+"",width:"817",height:"600"})}),"\n",(0,i.jsxs)(t.p,{children:["As we can see from the gif, this bug is one of those tricky ones. A simple typo in the property name ",(0,i.jsx)(t.code,{children:"inerText"})," makes JavaScript think that you are creating a brand new property, instead of mistakenly trying to access the ",(0,i.jsx)(t.code,{children:"innerText"})," property of the HTML element. We can see in the debugger that JavaScript properly sets the value of the incorrect ",(0,i.jsx)(t.code,{children:"inerText"})," property to ",(0,i.jsx)(t.code,{children:"5"}),". We found that out by hovering over the variables and lines of code in ",(0,i.jsx)(t.code,{children:"scripts.js"})," in the Sources tab."]}),"\n",(0,i.jsxs)(t.p,{children:["Then, we copied line 36 and pasted it directly in our DevTools console. Here, we can explore the variable values, and try out different solutions to solve our bug. ",(0,i.jsxs)(t.strong,{children:["This is a very powerful feature of debugger: we can experiment with the value of variables and run any code we want ",(0,i.jsx)(t.em,{children:"within"})," any local scope in our application \u2014 as long as our breakpoint is paused within that scope."]})]}),"\n",(0,i.jsx)(t.p,{children:"At the very end of the gif, we see that we are able to correct the typo and correctly display the result in our webpage! Now, we can take that fix and update our codebase accordingly in VS Code."}),"\n",(0,i.jsxs)(t.h2,{id:"using-debugger",children:["Using ",(0,i.jsx)(t.code,{children:"debugger;"})]}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsxs)(t.p,{children:["The not-so-great way to use DevTools' debugger is to drop a ",(0,i.jsx)(t.code,{children:"debugger;"})," statement directly in our code where we want the code to stop. Not the code in the Source tab, but our code in VS Code! The image below shows a ",(0,i.jsx)(t.code,{children:"debugger;"})," statement added to line 26 of our scripts."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"This image shows a debugger; statement added to line 26 of our scripts.js file in VS Code.",src:n(33962).A+"",width:"584",height:"354"})}),"\n",(0,i.jsxs)(t.p,{children:["When we refresh our website, open DevTools to the Sources tab, and submit our form again, our DevTools will stop the execution of our code right when it hits the ",(0,i.jsx)(t.code,{children:"debugger;"})," statement and we'll be paused in debugger. Everything that we can do with breakpoints, we can also do via the ",(0,i.jsx)(t.code,{children:"debugger;"})," statement."]}),"\n",(0,i.jsxs)(t.p,{children:["However, using ",(0,i.jsx)(t.code,{children:"debugger;"})," is a less convenient approach, because we'll need to manually add and remove the statement from our website's codebase. While we also manually add and remove breakpoints in the Sources tab, these are not permanently in our codebase. If you forget to remove a ",(0,i.jsx)(t.code,{children:"debugger;"})," statement from your codebase, it will freeze execution of your code whenever anyone uses it. As you can imagine, that would be a disaster for a production codebase. This is why ",(0,i.jsxs)(t.strong,{children:["you absolutely can't forget to remove the ",(0,i.jsx)(t.code,{children:"debugger;"})," statement when you are done with it!"]})]}),"\n",(0,i.jsx)(t.h2,{id:"summary",children:"Summary"}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsxs)(t.p,{children:["We've now fixed all of the bugs in our code. Woohoo! If you've been coding along with this lesson, make sure to actually make the updates in VS Code. Make sure to remove any ",(0,i.jsx)(t.code,{children:"console.log()"})," or ",(0,i.jsx)(t.code,{children:"debugger;"})," statements that may be in your code as well. At this point, it should be clear how helpful breakpoints are for pausing our code mid-execution so that we can explore and debug."]}),"\n",(0,i.jsx)(t.p,{children:"Using breakpoints is hands down the most powerful of the debugging tools we've covered during this course section. However, all of the debugging tools are useful in their own way, and it's important that you get familiar with each of them. If you are a good debugger, you are well on your way to being a good coder."})]})}function c(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}}}]);