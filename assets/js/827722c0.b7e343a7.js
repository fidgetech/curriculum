"use strict";(self.webpackChunklhtp=self.webpackChunklhtp||[]).push([[21946],{28453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>r});var s=n(96540);const i={},o=s.createContext(i);function a(e){const t=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(o.Provider,{value:t},e.children)}},83486:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>a,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"react/react-with-nosql/4-4-0-2-review-help-queue-and-whats-next","title":"\ud83d\udcd3 4.4.0.2 Review: Help Queue and What\'s Next","description":"In React Fundamentals, you built the Help Queue from scratch: a full CRUD application with components, props, state, event handlers, forms, and callbacks. Before we add new features, let\'s take stock of where we left off \u2014 and identify the one thing the app still can\'t do.","source":"@site/versioned_docs/version-v1_3/4_react/4_react-with-nosql/4-4-0-02-introduction-to-hooks-with-the-usestate-hook.md","sourceDirName":"4_react/4_react-with-nosql","slug":"/react/react-with-nosql/4-4-0-2-review-help-queue-and-whats-next","permalink":"/v1.3/react/react-with-nosql/4-4-0-2-review-help-queue-and-whats-next","draft":false,"unlisted":false,"tags":[],"version":"v1_3","frontMatter":{"title":"\ud83d\udcd3 4.4.0.2 Review: Help Queue and What\'s Next","day":"weekend","id":"4-4-0-2-review-help-queue-and-whats-next","hide_table_of_contents":true},"sidebar":"react","previous":{"title":"\ud83d\udcd3 4.4.0.1 React with NoSQL Objectives","permalink":"/v1.3/react/react-with-nosql/4-4-0-1-react-with-nosql-objectives"},"next":{"title":"\ud83d\udcd3 4.4.0.3 Running Side Effects with the useEffect Hook","permalink":"/v1.3/react/react-with-nosql/4-4-0-3-running-side-effects-with-the-useeffect-hook"}}');var i=n(74848),o=n(28453);const a={title:"\ud83d\udcd3 4.4.0.2 Review: Help Queue and What's Next",day:"weekend",id:"4-4-0-2-review-help-queue-and-whats-next",hide_table_of_contents:!0},r=void 0,c={},l=[{value:"The Help Queue Component Tree",id:"the-help-queue-component-tree",level:2},{value:"State in TicketControl",id:"state-in-ticketcontrol",level:2},{value:"The Missing Piece: Persistence",id:"the-missing-piece-persistence",level:2},{value:"The Solution: Firebase and Firestore",id:"the-solution-firebase-and-firestore",level:2},{value:"A New Tool: <code>useEffect</code>",id:"a-new-tool-useeffect",level:2},{value:"Getting Your Help Queue Ready",id:"getting-your-help-queue-ready",level:2}];function h(e){const t={code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.p,{children:"In React Fundamentals, you built the Help Queue from scratch: a full CRUD application with components, props, state, event handlers, forms, and callbacks. Before we add new features, let's take stock of where we left off \u2014 and identify the one thing the app still can't do."}),"\n",(0,i.jsx)(t.h2,{id:"the-help-queue-component-tree",children:"The Help Queue Component Tree"}),"\n",(0,i.jsx)(t.p,{children:"Here's the full component tree \u2014 this is the hierarchy you built up piece by piece in React Fundamentals:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:"App\n\u251c\u2500\u2500 Header\n\u2514\u2500\u2500 TicketControl\n    \u251c\u2500\u2500 TicketList\n    \u2502   \u2514\u2500\u2500 Ticket (one for each ticket)\n    \u251c\u2500\u2500 NewTicketForm\n    \u2502   \u2514\u2500\u2500 ReusableForm\n    \u251c\u2500\u2500 TicketDetail\n    \u2502   \u2514\u2500\u2500 ReusableForm (when editing)\n    \u2514\u2500\u2500 EditTicketForm\n        \u2514\u2500\u2500 ReusableForm\n"})}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.code,{children:"TicketControl"})," is the center of the app. It holds all shared state and decides which view to render."]}),"\n",(0,i.jsx)(t.h2,{id:"state-in-ticketcontrol",children:"State in TicketControl"}),"\n",(0,i.jsxs)(t.p,{children:["Here's the state in ",(0,i.jsx)(t.code,{children:"TicketControl"})," at the end of React Fundamentals:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-js",children:"const [mainTicketList, setMainTicketList] = useState([]);\nconst [formVisibleOnPage, setFormVisibleOnPage] = useState(false);\nconst [selectedTicket, setSelectedTicket] = useState(null);\nconst [editing, setEditing] = useState(false);\n"})}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"mainTicketList"})," holds all the tickets"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"formVisibleOnPage"})," tracks whether the new ticket form is visible"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"selectedTicket"})," holds the ticket the user has clicked on (for the detail and edit views)"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"editing"})," tracks whether the edit form is showing"]}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:["Data flows from ",(0,i.jsx)(t.code,{children:"TicketControl"})," down to child components via props. When a child needs to communicate back \u2014 to create, update, or delete a ticket \u2014 it calls a callback function that was passed down from ",(0,i.jsx)(t.code,{children:"TicketControl"}),"."]}),"\n",(0,i.jsx)(t.h2,{id:"the-missing-piece-persistence",children:"The Missing Piece: Persistence"}),"\n",(0,i.jsxs)(t.p,{children:["The app works well, but there's a problem: ",(0,i.jsx)(t.strong,{children:"the data doesn't survive a page refresh."})]}),"\n",(0,i.jsxs)(t.p,{children:["The ",(0,i.jsx)(t.code,{children:"mainTicketList"})," array only exists in JavaScript memory. Close the browser tab, refresh the page, or open the app on a different device \u2014 and all tickets are gone. That's because there's no database storing them anywhere."]}),"\n",(0,i.jsxs)(t.p,{children:["For a real application, we need data to ",(0,i.jsx)(t.strong,{children:"persist"}),": to be saved somewhere so it survives page refreshes and can be shared across users and devices."]}),"\n",(0,i.jsx)(t.h2,{id:"the-solution-firebase-and-firestore",children:"The Solution: Firebase and Firestore"}),"\n",(0,i.jsxs)(t.p,{children:["We're going to connect Help Queue to a real database using ",(0,i.jsx)(t.strong,{children:"Firebase"}),", a cloud service from Google. Specifically, we'll use ",(0,i.jsx)(t.strong,{children:"Firestore"}),", Firebase's NoSQL database, to store our tickets."]}),"\n",(0,i.jsx)(t.p,{children:"With Firestore:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Tickets will be stored in a collection in the cloud, not in a local JavaScript array"}),"\n",(0,i.jsx)(t.li,{children:"Creating, updating, or deleting a ticket will write to the database"}),"\n",(0,i.jsx)(t.li,{children:"The UI will update automatically whenever the database changes"}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"From a user's perspective, the app will look and work the same. But the data will now persist across refreshes and be accessible from anywhere."}),"\n",(0,i.jsxs)(t.h2,{id:"a-new-tool-useeffect",children:["A New Tool: ",(0,i.jsx)(t.code,{children:"useEffect"})]}),"\n",(0,i.jsxs)(t.p,{children:["To connect to Firestore, we'll set up a live connection \u2014 something that listens for changes in the database and updates the component when tickets change. Setting up this kind of connection is called a ",(0,i.jsx)(t.strong,{children:"side effect"}),": code that reaches outside the component to interact with an external system."]}),"\n",(0,i.jsxs)(t.p,{children:["React has a hook for running side effects: ",(0,i.jsx)(t.code,{children:"useEffect"}),". You already know ",(0,i.jsx)(t.code,{children:"useState"})," for managing state inside a component. ",(0,i.jsx)(t.code,{children:"useEffect"})," is the companion hook for everything that happens ",(0,i.jsx)(t.em,{children:"around"})," a render \u2014 connecting to databases, setting up subscriptions, updating the page title, and so on."]}),"\n",(0,i.jsxs)(t.p,{children:["We'll learn exactly how ",(0,i.jsx)(t.code,{children:"useEffect"})," works in the next lesson."]}),"\n",(0,i.jsx)(t.h2,{id:"getting-your-help-queue-ready",children:"Getting Your Help Queue Ready"}),"\n",(0,i.jsx)(t.p,{children:"You'll continue building on the Help Queue you completed in React Fundamentals."}),"\n",(0,i.jsx)(t.p,{children:"As you read through these lessons as part of your weekend homework, know that you are not required to code along. The first classwork of the course section will prompt you to work through these lessons with your Help Queue project."})]})}function d(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}}}]);