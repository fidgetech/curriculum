"use strict";(self.webpackChunklhtp=self.webpackChunklhtp||[]).push([[33142],{28453:(e,t,n)=>{n.d(t,{R:()=>l,x:()=>r});var s=n(96540);const o={},i=s.createContext(o);function l(e){const t=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),s.createElement(i.Provider,{value:t},e.children)}},45419:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"c-and-net/basic-web-applications/3-2-1-6-lists-and-redirects-in-a-controller","title":"\ud83d\udcd3 3.2.1.6 Lists and Redirects in a Controller","description":"We can display a single item in our To Do List but that\'s not very helpful in itself. After all, this is a list of things to do, not a single item.","source":"@site/versioned_docs/version-v1_3/3_c-and-net/2_basic-web-applications/3-2-1-06-lists-and-redirects-in-a-controller.md","sourceDirName":"3_c-and-net/2_basic-web-applications","slug":"/c-and-net/basic-web-applications/3-2-1-6-lists-and-redirects-in-a-controller","permalink":"/v1.3/c-and-net/basic-web-applications/3-2-1-6-lists-and-redirects-in-a-controller","draft":false,"unlisted":false,"tags":[],"version":"v1_3","frontMatter":{"title":"\ud83d\udcd3 3.2.1.6 Lists and Redirects in a Controller","day":"monday","id":"3-2-1-6-lists-and-redirects-in-a-controller","hide_table_of_contents":true},"sidebar":"c-and-net","previous":{"title":"\ud83d\udcd3 3.2.1.5 Request-Response Loop and HTTP Methods with ASP.NET Core MVC","permalink":"/v1.3/c-and-net/basic-web-applications/3-2-1-5-request-response-loop-and-http-methods-with-asp-net-core-mvc"},"next":{"title":"\ud83d\udcd3 3.2.1.7 Loops and Conditionals with Razor","permalink":"/v1.3/c-and-net/basic-web-applications/3-2-1-7-loops-and-conditionals-with-razor"}}');var o=n(74848),i=n(28453);const l={title:"\ud83d\udcd3 3.2.1.6 Lists and Redirects in a Controller",day:"monday",id:"3-2-1-6-lists-and-redirects-in-a-controller",hide_table_of_contents:!0},r=void 0,c={},d=[];function a(e){const t={code:"code",div:"div",em:"em",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(t.p,{children:["We can display a single item in our To Do List but that's not very helpful in itself. After all, this is a ",(0,o.jsx)(t.em,{children:"list"})," of things to do, not a single item."]}),"\n",(0,o.jsxs)(t.p,{children:["In this lesson, we'll update our controller to return a list of to dos. In the process, we'll also cover using redirects to DRY up our code. In the next lesson, we'll update our ",(0,o.jsx)(t.code,{children:"index.cshtml"})," view to display our list."]}),"\n",(0,o.jsxs)(t.p,{children:["Let's change our controller code to pass in multiple ",(0,o.jsx)(t.code,{children:"Item"}),"s to the view, not just a single ",(0,o.jsx)(t.code,{children:"Item"}),". Note that this will not compile until we update our views, in the next lesson:"]}),"\n",(0,o.jsx)(t.div,{className:"filename",children:"HomeController.cs"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-csharp",children:'...\nusing System.Collections.Generic;\n\nnamespace ToDoList.Controllers\n{\n  public class HomeController : Controller\n  {\n\n    [HttpGet("/")]\n    public ActionResult Index()\n    {\n\n      List<Item> allItems = Item.GetAll();\n      return View(allItems);\n    }\n\n    ...\n\n    [HttpPost("/items")]\n    public ActionResult Create(string description)\n    {\n      Item myItem = new Item(description);\n      return RedirectToAction("Index");\n    }\n  }\n}\n'})}),"\n",(0,o.jsxs)(t.p,{children:["First, we need to update our ",(0,o.jsx)(t.code,{children:"Index()"})," route method so that the route has access to all ",(0,o.jsx)(t.code,{children:"Item"}),"s. We'll use the static ",(0,o.jsx)(t.code,{children:"GetAll()"})," method to store a ",(0,o.jsx)(t.code,{children:"List"})," of ",(0,o.jsx)(t.code,{children:"Item"}),"s in the variable ",(0,o.jsx)(t.code,{children:"allItems"}),". We then pass ",(0,o.jsx)(t.code,{children:"allItems"})," to the view."]}),"\n",(0,o.jsxs)(t.p,{children:["Note that we also need to add ",(0,o.jsx)(t.code,{children:"using System.Collections.Generic;"})," to our file now that we've added a ",(0,o.jsx)(t.code,{children:"List"})," to our controller."]}),"\n",(0,o.jsxs)(t.p,{children:["We also make an update to our ",(0,o.jsx)(t.code,{children:"Create()"})," route method as well. As we discussed in the last lesson, this route only needs to create a new ",(0,o.jsx)(t.code,{children:"Item"}),". It doesn't care about updating a view. While we could add ",(0,o.jsx)(t.code,{children:"List<Item> allItems = Item.GetAll();"})," to our ",(0,o.jsx)(t.code,{children:"Create()"})," method, it wouldn't be very DRY."]}),"\n",(0,o.jsxs)(t.p,{children:["Instead, we can use a method called ",(0,o.jsx)(t.code,{children:"RedirectToAction()"})," to redirect to another route. ",(0,o.jsx)(t.code,{children:"RedirectToAction()"})," takes a route method as an argument. ",(0,o.jsx)(t.code,{children:'RedirectToAction("Index");'})," tells the server to invoke the ",(0,o.jsx)(t.code,{children:"Index()"})," route after the ",(0,o.jsx)(t.code,{children:"Create()"})," route has been invoked. This means we don't have to repeat the code in ",(0,o.jsx)(t.code,{children:"Index()"}),". We can just tell ",(0,o.jsx)(t.code,{children:"Create()"})," to redirect to ",(0,o.jsx)(t.code,{children:"Index()"})," instead."]}),"\n",(0,o.jsxs)(t.p,{children:["In the next lesson, we'll update our view to display a ",(0,o.jsx)(t.code,{children:"List"})," of ",(0,o.jsx)(t.code,{children:"Item"}),"s with loops and conditionals."]})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}}}]);