"use strict";(self.webpackChunklhtp=self.webpackChunklhtp||[]).push([[20790],{28453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>r});var i=t(96540);const s={},o=i.createContext(s);function l(e){const n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),i.createElement(o.Provider,{value:n},e.children)}},68876:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"c-and-net/basic-web-applications/3-2-2-6-applying-restful-routing","title":"\ud83d\udcd3 3.2.2.6 Applying RESTful Routing","description":"In the last lesson, we covered RESTful principles. In this lesson, we\'ll continue developing our application following RESTful routing best practices. First, we\'ll update our existing CreateForm() route to follow RESTful convention. Then we\'ll add a Show() route to display a detail page for individual Items.","source":"@site/versioned_docs/version-v1_3/3_c-and-net/2_basic-web-applications/3-2-2-06-applying-restful-routing.md","sourceDirName":"3_c-and-net/2_basic-web-applications","slug":"/c-and-net/basic-web-applications/3-2-2-6-applying-restful-routing","permalink":"/v1.3/c-and-net/basic-web-applications/3-2-2-6-applying-restful-routing","draft":false,"unlisted":false,"tags":[],"version":"v1_3","frontMatter":{"title":"\ud83d\udcd3 3.2.2.6 Applying RESTful Routing","day":"tuesday","id":"3-2-2-6-applying-restful-routing","hide_table_of_contents":true},"sidebar":"c-and-net","previous":{"title":"\ud83d\udcd3 3.2.2.5 Introduction to RESTful Routing","permalink":"/v1.3/c-and-net/basic-web-applications/3-2-2-5-introduction-to-restful-routing"},"next":{"title":"\u270f\ufe0f 3.2.3.1 To Do List, Places You\'ve Been, Packer Tracker, Tamagotchi","permalink":"/v1.3/c-and-net/basic-web-applications/3-2-3-1-to-do-list-places-youve-been-packer-tracker-tamagotchi"}}');var s=t(74848),o=t(28453);const l={title:"\ud83d\udcd3 3.2.2.6 Applying RESTful Routing",day:"tuesday",id:"3-2-2-6-applying-restful-routing",hide_table_of_contents:!0},r=void 0,d={},c=[{value:"<code>New()</code> Route",id:"new-route",level:2},{value:"Item Detail Page",id:"item-detail-page",level:2},{value:"<em>The RESTful <code>Show()</code> Route</em>",id:"the-restful-show-route",level:4},{value:"Navigating to the Route",id:"navigating-to-the-route",level:3},{value:"Route Method",id:"route-method",level:3},{value:"Dynamic Routing",id:"dynamic-routing",level:3},{value:"Note on Dynamic Route Segment Names",id:"note-on-dynamic-route-segment-names",level:4},{value:"Detail View",id:"detail-view",level:3},{value:"Repository Reference",id:"repository-reference",level:3}];function a(e){const n={a:"a",code:"code",div:"div",em:"em",h2:"h2",h3:"h3",h4:"h4",hr:"hr",i:"i",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["In the last lesson, we covered RESTful principles. In this lesson, we'll continue developing our application following RESTful routing best practices. First, we'll update our existing ",(0,s.jsx)(n.code,{children:"CreateForm()"})," route to follow RESTful convention. Then we'll add a ",(0,s.jsx)(n.code,{children:"Show()"})," route to display a detail page for individual ",(0,s.jsx)(n.code,{children:"Item"}),"s."]}),"\n",(0,s.jsxs)(n.h2,{id:"new-route",children:[(0,s.jsx)(n.code,{children:"New()"})," Route"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:["Existing ",(0,s.jsx)(n.code,{children:"Index()"})," and ",(0,s.jsx)(n.code,{children:"Create()"})," routes in our ",(0,s.jsx)(n.code,{children:"ItemsController"})," already match RESTful convention, as we can see by comparing our controller code to the table in the previous lesson. However, ",(0,s.jsx)(n.code,{children:"CreateForm()"})," does not. It currently looks like this:"]}),"\n",(0,s.jsx)(n.div,{className:"filename",children:"ToDoList/Controllers/ItemsController.cs"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:'...\n\n  [HttpGet("/items/new")]\n  public ActionResult CreateForm()\n  {\n    return View();\n  }\n\n...\n'})}),"\n",(0,s.jsx)(n.p,{children:"Let's also compare it to the table in the last lesson:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Route Name"}),": This method is called ",(0,s.jsx)(n.code,{children:"CreateForm()"}),". In order to adhere to RESTful convention, it should be named ",(0,s.jsx)(n.code,{children:"New()"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"URL Path"}),": The path is ",(0,s.jsx)(n.code,{children:'"items/new"'}),". This already follows RESTful convention because it lists the plural model name (",(0,s.jsx)(n.code,{children:"Item"}),"s), alongside ",(0,s.jsx)(n.code,{children:"/new"}),", which indicates to others that this route contains the necessary materials (a form) to create a new instance of the model (",(0,s.jsx)(n.code,{children:"Item"}),")."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"HTTP Method"}),": ",(0,s.jsx)(n.code,{children:"HttpGet()"})," is used in the route decorator, which properly signifies that this route handles GET requests."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Purpose"}),": Our route returns a view with a form to create a new instance of the ",(0,s.jsx)(n.code,{children:"Item"})," model."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["The only thing we need to change is the route name. We'll rename ",(0,s.jsx)(n.code,{children:"CreateForm()"})," to ",(0,s.jsx)(n.code,{children:"New()"}),":"]}),"\n",(0,s.jsx)(n.div,{className:"filename",children:"ToDoList/Controllers/ItemsController.cs"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:'...\n\n  [HttpGet("/items/new")]\n  public ActionResult New()\n  {\n    return View();\n  }\n\n...\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Because the ",(0,s.jsx)(n.code,{children:"View()"})," method will automatically look for a ",(0,s.jsx)(n.code,{children:".cshtml"})," view with the same name, we must also rename our existing ",(0,s.jsx)(n.code,{children:"CreateForm.cshtml"})," file to ",(0,s.jsx)(n.code,{children:"New.cshtml"}),":"]}),"\n",(0,s.jsx)(n.div,{className:"filename",children:"ToDoList/Views/Items/New.cshtml"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'<!DOCTYPE html>\n<html>\n  <head>\n    <meta charset="utf-8">\n    <title>My To-Do List!</title>\n    <link \n      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" \n      rel="stylesheet" \n      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" \n      crossorigin="anonymous">\n  </head>\n  <body>\n    <form action="/items" method="post">\n      <label for="description">Add a new item</label>\n      <input id="description" name="description" type="text">\n      <button type="submit">Submit</button>\n    </form>\n  </body>\n</html>\n'})}),"\n",(0,s.jsx)(n.h2,{id:"item-detail-page",children:"Item Detail Page"}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h4,{id:"the-restful-show-route",children:(0,s.jsxs)(n.em,{children:["The RESTful ",(0,s.jsx)(n.code,{children:"Show()"})," Route"]})}),"\n",(0,s.jsxs)(n.p,{children:["Now let's add a detail page so users can click an individual ",(0,s.jsx)(n.code,{children:"Item"})," in our ",(0,s.jsx)(n.code,{children:"Items/Index.cshtml"})," view to navigate to a page displaying details about that ",(0,s.jsx)(n.code,{children:"Item"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"navigating-to-the-route",children:"Navigating to the Route"}),"\n",(0,s.jsxs)(n.p,{children:["First, we'll ensure users have a way to access this page. Let's update our existing ",(0,s.jsx)(n.code,{children:"Items/Index.cshtml"})," view so each ",(0,s.jsx)(n.code,{children:"Item"})," in our list is a link to that ",(0,s.jsx)(n.code,{children:"Item"}),"'s detail page:"]}),"\n",(0,s.jsx)(n.div,{className:"filename",children:"ToDoList/Views/Items/Index.cshtml"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:"...\n\n  <li><a href='/items/@item.Id'>@item.Description</a></li>\n\n...\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Here we're creating a link. Since this link needs to work for all ",(0,s.jsx)(n.code,{children:"Item"}),"s, we use the Razor statement ",(0,s.jsx)(n.code,{children:"@item.Id"})," directly in the ",(0,s.jsx)(n.code,{children:"href"})," property of the ",(0,s.jsx)(n.code,{children:"<a>"})," tag. If an ",(0,s.jsx)(n.code,{children:"Item"})," has an ",(0,s.jsx)(n.code,{children:"Id"})," of ",(0,s.jsx)(n.code,{children:"565"}),", the link will read ",(0,s.jsx)(n.code,{children:"/items/565"}),", and so on."]}),"\n",(0,s.jsx)(n.p,{children:"The entire updated file looks like this:"}),"\n",(0,s.jsx)(n.div,{className:"filename",children:"ToDoList/Views/Items/Index.cshtml"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'<!DOCTYPE html>\n<html>\n  <head>\n    <meta charset="utf-8">\n    <title>My To-Do List!</title>\n    <link \n      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" \n      rel="stylesheet" \n      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" \n      crossorigin="anonymous">\n  </head>\n  <body>\n    @using ToDoList.Models;\n\n    <h1>To Do List</h1>\n    @if (Model.Count == 0)\n    {\n      <p>There are no items in the list.</p>\n    }\n    <ul>\n      @foreach (Item item in Model)\n      {\n        <li><a href=\'/items/@item.Id\'>@item.Description</a></li>\n      }\n    </ul>\n\n    <a href="/items/new">Add a new item.</a>\n\n    <form action="/items/delete" method="post">\n      <button type="submit" name="button">Clear All Items</button>\n    </form>\n  </body>\n</html>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"route-method",children:"Route Method"}),"\n",(0,s.jsx)(n.p,{children:"Now we need to create our route to handle these requests. Let's plan how we'll make our new route RESTful:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Route Name"}),": It will be called ",(0,s.jsx)(n.code,{children:"Show()"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"URL Path"}),": The path should be ",(0,s.jsx)(n.code,{children:'"items/{id}"'}),", where ",(0,s.jsx)(n.code,{children:"{id}"})," is a placeholder for the specific ",(0,s.jsx)(n.code,{children:"Item"})," we're currently looking at. We'll discuss this further in a moment."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"HTTP Method"}),": The request to view the detail page will be a GET request, so it will  use ",(0,s.jsx)(n.code,{children:"HttpGet()"})," in its route decorator."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Purpose"}),": It will be responsible for rendering a detail page for a specific ",(0,s.jsx)(n.code,{children:"Item"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Now that we've created a plan, we're ready to add the code for our route."}),"\n",(0,s.jsx)(n.div,{className:"filename",children:"ToDoList/Controllers/ItemsController.cs"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:'...\n\n    [HttpGet("/items/{id}")]\n    public ActionResult Show(int id)\n    {\n      Item foundItem = Item.Find(id);\n      return View(foundItem);\n    }\n\n...\n'})}),"\n",(0,s.jsx)(n.p,{children:"We have some new syntax: curly braces in the URL path in our route decorator. Our route is now utilizing dynamic routing."}),"\n",(0,s.jsx)(n.h3,{id:"dynamic-routing",children:"Dynamic Routing"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Dynamic Routing"})," refers to routes and their URL paths that can dynamically ",(0,s.jsx)(n.em,{children:"change"})," depending on circumstances. A common example is an ",(0,s.jsx)(n.code,{children:"id"})," like in the example above."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"{id}"})," portion of the path is a placeholder. Remember, this route will be invoked for viewing ",(0,s.jsx)(n.em,{children:"any"})," ",(0,s.jsx)(n.code,{children:"Item"}),"'s detail page."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Our link in ",(0,s.jsx)(n.code,{children:"Index.cshtml"})," looks like this: ",(0,s.jsx)(n.code,{children:"<a href='/items/@item.Id'>"}),". For example, if we click on an ",(0,s.jsx)(n.code,{children:"Item"})," with an ",(0,s.jsx)(n.code,{children:"id"})," of 42, the path will be ",(0,s.jsx)(n.code,{children:'"/items/42"'}),". When that occurs, ",(0,s.jsx)(n.code,{children:"{id}"})," will represent ",(0,s.jsx)(n.code,{children:"42"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["This same ",(0,s.jsx)(n.code,{children:"id"})," is passed into the ",(0,s.jsx)(n.code,{children:"Show()"})," route method as a parameter. The method takes an ",(0,s.jsx)(n.code,{children:"int"})," argument named ",(0,s.jsx)(n.code,{children:"id"}),", which is the same ",(0,s.jsx)(n.code,{children:"id"})," from the path."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Once ",(0,s.jsx)(n.code,{children:"Show()"})," has access to the ",(0,s.jsx)(n.code,{children:"id"})," as a parameter, it can pass this value into ",(0,s.jsx)(n.code,{children:"Find()"})," to locate the ",(0,s.jsx)(n.code,{children:"Item"})," matching this ",(0,s.jsx)(n.code,{children:"id"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["The route can then pass this entire ",(0,s.jsx)(n.code,{children:"Item"})," object into ",(0,s.jsx)(n.code,{children:"View()"}),", so the corresponding view may access and render its information."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"note-on-dynamic-route-segment-names",children:"Note on Dynamic Route Segment Names"}),"\n",(0,s.jsxs)(n.p,{children:["Note that the term ",(0,s.jsx)(n.code,{children:"id"})," is nothing magical here. We could rewrite the route like this:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:' [HttpGet("/items/{aReallyExcitingOneOfAKindIdNumber}")]\n public ActionResult Show(int aReallyExcitingOneOfAKindIdNumber)\n {\n   Item foundItem = Item.Find(aReallyExcitingOneOfAKindIdNumber);\n   return View(foundItem);\n }\n'})}),"\n",(0,s.jsxs)(n.p,{children:["This would still work as long as the named segment in the URL path and parameter provided to the route match. However, ",(0,s.jsx)(n.code,{children:"id"})," is standard and our variable names should always be concise and descriptive."]}),"\n",(0,s.jsx)(n.h3,{id:"detail-view",children:"Detail View"}),"\n",(0,s.jsxs)(n.p,{children:["Because our new dynamic route returns ",(0,s.jsx)(n.code,{children:"View(foundItem)"}),", it will look for a view file with the same name as our route method. Our ",(0,s.jsx)(n.code,{children:"Show()"})," method exists on the ",(0,s.jsx)(n.code,{children:"ItemsController"}),", so we'll create a ",(0,s.jsx)(n.code,{children:"Show.cshtml"})," view file in the ",(0,s.jsx)(n.code,{children:"Views/Items"})," directory with the following code:"]}),"\n",(0,s.jsx)(n.div,{className:"filename",children:"ToDoList/Views/Items/Show.cshtml"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'<!DOCTYPE html>\n<html>\n  <head>\n    <meta charset="utf-8">\n    <title>My To-Do List!</title>\n    <link \n      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" \n      rel="stylesheet" \n      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" \n      crossorigin="anonymous">\n  </head>\n  <body>\n    <h1>To Do List Item Details: </h1>\n\n    <h2>@Model.Description</h2>\n\n    <a href=\'/items/new\'>Add another item</a>\n    <a href=\'/items\'>View all items</a>\n  </body>\n</html>\n'})}),"\n",(0,s.jsxs)(n.p,{children:["When we run our application now, we can populate it with several ",(0,s.jsx)(n.code,{children:"Item"}),"s and click an ",(0,s.jsx)(n.code,{children:"Item"})," from the ",(0,s.jsx)(n.em,{children:"/items"})," page to navigate to a detail page with that item's specific information."]}),"\n",(0,s.jsx)(n.h3,{id:"repository-reference",children:"Repository Reference"}),"\n",(0,s.jsx)(n.p,{children:"Follow the link below to view how a sample version of the project should look at this point. Note that this is a link to a specific branch in the repository."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:(0,s.jsxs)(n.a,{href:"https://github.com/epicodus-lessons/section-2-to-do-list-csharp-net6/tree/6_applying_restful_routing",children:[(0,s.jsx)(n.i,{className:"glyphicon glyphicon-folder-open"})," Example GitHub Repo for To Do List: 6_applying_restful_routing"]})})})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}}}]);