"use strict";(self.webpackChunklhtp=self.webpackChunklhtp||[]).push([[29910],{28453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>i});var o=n(96540);const a={},r=o.createContext(a);function s(e){const t=o.useContext(r);return o.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),o.createElement(r.Provider,{value:t},e.children)}},45543:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>s,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"introduction-to-programming/arrays-looping/1-3-1-6-gathering-data-with-checkboxes","title":"\ud83d\udcd3 1.3.1.6 Gathering Data with Checkboxes","description":"We\'ve learned how to use a variety of HTML form inputs. We held off on learning about checkboxes because we needed to learn about arrays first. Now that we have a basic understanding of arrays, let\'s learn how to use checkboxes. In this lesson, we\'ll also learn how to use Array.prototype.forEach() on an array of checkbox elements.","source":"@site/docs/1_introduction-to-programming/3_arrays-looping/1-3-1-06-gathering-data-with-checkboxes.md","sourceDirName":"1_introduction-to-programming/3_arrays-looping","slug":"/introduction-to-programming/arrays-looping/1-3-1-6-gathering-data-with-checkboxes","permalink":"/v1.2/introduction-to-programming/arrays-looping/1-3-1-6-gathering-data-with-checkboxes","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"\ud83d\udcd3 1.3.1.6 Gathering Data with Checkboxes","day":"monday","id":"1-3-1-6-gathering-data-with-checkboxes","hide_table_of_contents":true},"sidebar":"introduction-to-programming","previous":{"title":"\u270f\ufe0f 1.3.1.5 Practice: Looping","permalink":"/v1.2/introduction-to-programming/arrays-looping/1-3-1-5-practice-looping"},"next":{"title":"\u270f\ufe0f 1.3.1.7 Practice: forEach loops","permalink":"/v1.2/introduction-to-programming/arrays-looping/1-3-1-7-practice-foreach-loops"}}');var a=n(74848),r=n(28453);const s={title:"\ud83d\udcd3 1.3.1.6 Gathering Data with Checkboxes",day:"monday",id:"1-3-1-6-gathering-data-with-checkboxes",hide_table_of_contents:!0},i=void 0,l={},c=[{value:"Transportation Survey",id:"transportation-survey",level:2},{value:"Retrieving Checkbox Values",id:"retrieving-checkbox-values",level:2},{value:"Using Breakpoints To Verify <code>userSelections</code> Data Type",id:"using-breakpoints-to-verify-userselections-data-type",level:3},{value:"Looping through Checkbox Selections",id:"looping-through-checkbox-selections",level:3},{value:"Why Use a Loop?",id:"why-use-a-loop",level:3},{value:"Adding a Heading to the Survey Results",id:"adding-a-heading-to-the-survey-results",level:3}];function h(e){const t={a:"a",code:"code",div:"div",em:"em",h2:"h2",h3:"h3",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(t.p,{children:["We've learned how to use a ",(0,a.jsx)(t.a,{href:"../../introduction-to-programming/javascript-and-web-browsers/1-2-4-2-form-input-types",children:"variety of HTML form inputs"}),". We held off on learning about checkboxes because we needed to learn about arrays first. Now that we have a basic understanding of arrays, let's learn how to use checkboxes. In this lesson, we'll also learn how to use ",(0,a.jsx)(t.code,{children:"Array.prototype.forEach()"})," on an array of checkbox elements."]}),"\n",(0,a.jsx)(t.h2,{id:"transportation-survey",children:"Transportation Survey"}),"\n",(0,a.jsx)(t.hr,{}),"\n",(0,a.jsx)(t.p,{children:"In this lesson, we'll build a small website that contains a survey. Our survey will ask users which methods of transportation they have used to travel to work or school in the past year. For now, the site will simply display a user's responses back to them after the form has been submitted."}),"\n",(0,a.jsxs)(t.p,{children:["Checkboxes differ from radio buttons because they allow ",(0,a.jsx)(t.em,{children:"multiple"})," options to be selected at once while radio buttons are for selecting a ",(0,a.jsx)(t.em,{children:"single"})," option.  Since many people have likely used more than one mode of transportation in the past year, we'll use checkboxes to collect our survey answers. This will allow users to select ",(0,a.jsx)(t.em,{children:"all"})," answers that apply to them."]}),"\n",(0,a.jsx)(t.p,{children:"Here's the HTML for our form:"}),"\n",(0,a.jsx)(t.div,{className:"filename",children:"transportation_survey/index.html"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-html",children:'<!DOCTYPE html>\n<html lang="en-US">\n<head>\n  <title>Transportation Survey</title>\n  <link href="css/styles.css" rel="stylesheet" type="text/css">\n  <script src="js/scripts.js"><\/script>\n</head>\n<body>\n  <h2>Transportation Survey</h2>\n  <form id="transportation_survey">\n    <p>In the past year, I have used the following modes of transportation to travel to work or school:</p>\n    <label>\n      <input type="checkbox" name="transportation-option" value="bike">\n      Riding a bike.\n    </label><br />\n    <label>\n      <input type="checkbox" name="transportation-option" value="car">\n      Driving a car.\n    </label><br />\n    <label>\n      <input type="checkbox" name="transportation-option" value="carpool">\n      Carpooling with others.\n    </label><br />\n    <label>\n      <input type="checkbox" name="transportation-option" value="walk">\n      Walking.\n    </label><br />\n    <label>\n      <input type="checkbox" name="transportation-option" value="bus">\n      Riding the bus.\n    </label><br />\n    <label>\n      <input type="checkbox" name="transportation-option" value="train">\n      Riding the train.\n    </label><br />\n    <label>\n      <input type="checkbox" name="transportation-option" value="streetcar">\n      Riding the streetcar.\n    </label><br />\n    <label>\n      <input type="checkbox" name="transportation-option" value="taxi">\n      Taking a taxi.\n    </label><br />\n    <label>\n      <input type="checkbox" name="transportation-option" value="rideshare">\n      Using a rideshare service like Lyft or Uber.\n    </label><br />\n    <label>\n      <input type="checkbox" name="transportation-option" value="skateboard">\n      Skateboarding.\n    </label><br />\n    <label>\n      <input type="checkbox" name="transportation-option" value="rollerblade">\n      Rollerblading.\n    </label><br />\n    <label>\n      <input type="checkbox" name="transportation-option" value="scooter">\n      Riding a scooter.\n    </label><br />\n    <label>\n      <input type="checkbox" name="transportation-option" value="other">\n      Another mode of transportation not listed here.\n    </label><br />\n    <button type="submit">Submit Survey</button>\n  </form>\n</body>\n</html>\n'})}),"\n",(0,a.jsxs)(t.p,{children:["We've already linked a custom stylesheet and a ",(0,a.jsx)(t.code,{children:"scripts.js"})," file in the ",(0,a.jsx)(t.code,{children:"<head>"})," tag. If you want to add Bootstrap, remember that you'll have to either download it or use a CDN, and then link to Bootstrap in the head."]}),"\n",(0,a.jsxs)(t.p,{children:["Just like with radio buttons, checkboxes all should share the same value for its ",(0,a.jsx)(t.code,{children:"name"})," attribute. This relates every checkbox to one another and ensures that every checkbox gets submitted to the server when the form gets submitted. Right now, we're not submitting our checkbox values to any server, so this isn't vital, but instead good practice."]}),"\n",(0,a.jsxs)(t.p,{children:["Also, just like with radio buttons, we can nest the input inside of the label. This makes it so we can click on the label to check the box, as well as the checkbox. It's not required, but it sure is nice from a user experience point of view. We can also make enable this feature without nesting the HTML elements by using the setting the same value for the ",(0,a.jsx)(t.code,{children:"for"})," attribute on the ",(0,a.jsx)(t.code,{children:"<label>"})," and the ",(0,a.jsx)(t.code,{children:"id"})," attribute on the ",(0,a.jsx)(t.code,{children:"<input>"}),":"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-html",children:'<label for="bike">Riding a bike.</label><br />\n<input type="checkbox" name="transportation-option" value="car" id="car">\n<label for="car">Driving a car.</label><br />\n<input type="checkbox" name="transportation-option" value="carpool" id="carpool">\n<label for="carpool">Carpooling with others.</label><br />\n<input type="checkbox" name="transportation-option" value="walk" id="walk">\n<label for="walk">Walking.</label><br />\n<input type="checkbox" name="transportation-option" value="bus" id="bus">\n<label for="bus">Riding the bus.</label><br />\n<input type="checkbox" name="transportation-option" value="train" id="train">\n<label for="train">Riding the train.</label><br />\n<input type="checkbox" name="transportation-option" value="streetcar" id="streetcar">\n<label for="streetcar">Riding the streetcar.</label><br />\n<input type="checkbox" name="transportation-option" value="taxi" id="taxi">\n<label for="taxi">Taking a taxi.</label><br />\n<input type="checkbox" name="transportation-option" value="rideshare" id="rideshare">\n<label for="rideshare">Using a rideshare service like Lyft or Uber.</label><br />\n<input type="checkbox" name="transportation-option" value="skateboard" id="skateboard">\n<label for="skateboard">Skateboarding.</label><br />\n<input type="checkbox" name="transportation-option" value="rollerblade" id="rollerblade">\n<label for="rollerblade">Rollerblading.</label><br />\n<input type="checkbox" name="transportation-option" value="scooter" id="scooter">\n<label for="scooter">Riding a scooter.</label><br />\n<input type="checkbox" name="transportation-option" value="other" id="other">\n<label for="other">Another mode of transportation not listed here.</label><br />\n'})}),"\n",(0,a.jsxs)(t.p,{children:["Right now there's no obvious area in our HTML where we'll show the results of the transportation survey. That's because we'll use the ",(0,a.jsx)(t.code,{children:"document.createElement()"})," and ",(0,a.jsx)(t.code,{children:"Element.append()"})," methods to add the results of the survey from our scripts!"]}),"\n",(0,a.jsx)(t.h2,{id:"retrieving-checkbox-values",children:"Retrieving Checkbox Values"}),"\n",(0,a.jsx)(t.hr,{}),"\n",(0,a.jsx)(t.p,{children:"In order to determine which checkboxes the user has selected, we can fetch the form data in our user interface logic like this:"}),"\n",(0,a.jsx)(t.div,{className:"filename",children:"transportation_survey/js/scripts.js"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-javascript",children:'// User Interface Logic\nfunction handleForm(event) {\n  event.preventDefault();\n  const userSelections = document.querySelectorAll("input[name=transportation-option]:checked");\n  // we\'ll add more code to display results here!\n}\n\nwindow.addEventListener("load", function() {\n  document.querySelector("form#transportation_survey").addEventListener("submit", handleForm);\n});\n'})}),"\n",(0,a.jsxs)(t.p,{children:["Towards the bottom of our scripts we have the familiar load event handler attached to the ",(0,a.jsx)(t.code,{children:"window"})," object, and directly inside of it we target the form element and attach an event listener for the 'submit' event, passing in the callback ",(0,a.jsx)(t.code,{children:"handleForm"}),"."]}),"\n",(0,a.jsxs)(t.p,{children:["The ",(0,a.jsx)(t.code,{children:"handleForm()"})," function is at the top of our scripts, and this function handles getting the form values and displaying the results on the webpage. Right now we have two lines of code:"]}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.code,{children:"event.preventDefault();"})," is added to prevent the 'submit' event's default action of refreshing the page."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.code,{children:'const userSelections = document.querySelectorAll("input[name=transportation-option]:checked");'})," is added to get all of the checkbox inputs that have been checked. We could instead pass in these arguments to the ",(0,a.jsx)(t.code,{children:"document.querySelectorAll()"})," method:\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:(0,a.jsx)(t.code,{children:'"[name=transportation-option]:checked"'})}),"\n",(0,a.jsx)(t.li,{children:(0,a.jsx)(t.code,{children:'"input:checked"'})}),"\n",(0,a.jsx)(t.li,{children:"Whatever you choose really depends on what's easiest to read so that your code is easy to understand, and what other inputs and forms you have in your webpage."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(t.p,{children:"Next, let's add code that will print all of the user's selections to the webpage. To do this, we'll need to loop through all of the checkbox selections and print each one as a result on the page."}),"\n",(0,a.jsxs)(t.p,{children:["We'll use ",(0,a.jsx)(t.code,{children:"Array.prototype.forEach()"})," to loop through the checkbox selections. But is ",(0,a.jsx)(t.code,{children:"userSelections"})," an array? This is unclear. Let's add a breakpoint to our code to verify what data type ",(0,a.jsx)(t.code,{children:"userSelections"})," is."]}),"\n",(0,a.jsxs)(t.h3,{id:"using-breakpoints-to-verify-userselections-data-type",children:["Using Breakpoints To Verify ",(0,a.jsx)(t.code,{children:"userSelections"})," Data Type"]}),"\n",(0,a.jsxs)(t.p,{children:["To check the type of the ",(0,a.jsx)(t.code,{children:"userSelections"})," variable, we should add a breakpoint to the line right after it. This is actually the last line of the ",(0,a.jsx)(t.code,{children:"handleForm()"})," function."]}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{alt:"This images shows that we add a breakpoint after we create the userSelections variable.",src:n(75157).A+"",width:"506",height:"274"})}),"\n",(0,a.jsxs)(t.p,{children:["Then, let's submit the form. We'll see the \"Paused in debugger\" message, and we should be able to hover over the ",(0,a.jsx)(t.code,{children:"userSelections"})," variable to determine the type."]}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{alt:"This image shows that we can hover over the userSelections variable to determine that it is a NodeList object.",src:n(46951).A+"",width:"506",height:"498"})}),"\n",(0,a.jsxs)(t.p,{children:["As the image shows, we can tell we're dealing with a ",(0,a.jsx)(t.code,{children:"NodeList"})," object. Every element in the ",(0,a.jsx)(t.code,{children:"NodeList"})," object is an ",(0,a.jsx)(t.code,{children:"HTMLInputElement"})," object. The number of elements inside of the ",(0,a.jsx)(t.code,{children:"NodeList"})," object will vary based on how many checkbox inputs we've selected before submitting the form. In this case, I've selected two transportation options: carpooling and walking."]}),"\n",(0,a.jsxs)(t.p,{children:["Instead of hovering over the ",(0,a.jsx)(t.code,{children:"userSelections"}),' variable in the Sources tab, we could also just review the list of variables in the "Scope" window to the bottom right of the Sources tab. Either way works to verify the information we need!']}),"\n",(0,a.jsxs)(t.p,{children:["Now that we know that we're dealing with a ",(0,a.jsx)(t.code,{children:"NodeList"})," object, we know that we have to turn this object into an array if we want to call array methods on it. Let's do that next, and let's also add the code to loop through the checkbox selections and print each to the webpage."]}),"\n",(0,a.jsx)(t.h3,{id:"looping-through-checkbox-selections",children:"Looping through Checkbox Selections"}),"\n",(0,a.jsx)(t.div,{className:"filename",children:"transportation_survey/js/scripts.js"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-javascript",children:'// User Interface Logic\nfunction handleForm(event) {\n  event.preventDefault();\n  const userSelections = document.querySelectorAll("input[name=transportation-option]:checked");\n  const userSelectionsArray = Array.from(userSelections);\n  \n  userSelectionsArray.forEach(function(element) {\n    const paragraph = document.createElement("p");\n    paragraph.append(element.value);\n    document.body.append(paragraph);\n  });\n}\n\nwindow.addEventListener("load", function() {\n  document.querySelector("form#transportation_survey").addEventListener("submit", handleForm);\n});\n'})}),"\n",(0,a.jsxs)(t.p,{children:["Let's break down the new code we've added. First, I begin by changing the ",(0,a.jsx)(t.code,{children:"userSelections"})," variable into an array with the following code:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-js",children:"  const userSelectionsArray = Array.from(userSelections);\n"})}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.code,{children:"Array.from()"})," is a ",(0,a.jsx)(t.strong,{children:"static"})," array method. This is in contrast to ",(0,a.jsx)(t.strong,{children:"instance"})," methods, like ",(0,a.jsx)(t.code,{children:"Array.prototype.forEach()"}),"."]}),"\n",(0,a.jsxs)(t.p,{children:["Then, I loop through the ",(0,a.jsx)(t.code,{children:"userSelectionsArray"})," variable with the ",(0,a.jsx)(t.code,{children:"Array.prototype.forEach()"})," method:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-js",children:"userSelectionsArray.forEach(/*argument goes here*/);\n"})}),"\n",(0,a.jsx)(t.p,{children:"As the argument to this method, I pass in the following callback function (specifically an anonymous function expression that is being used as a callback):"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-js",children:'function(element) {\n  const paragraph = document.createElement("p");\n  paragraph.append(element.value);\n  document.body.append(paragraph);\n}\n'})}),"\n",(0,a.jsxs)(t.p,{children:["The above callback function will be run for every element in the array. The ",(0,a.jsx)(t.code,{children:"element"})," parameter is the placeholder for the actual array element. Each element in our array is an ",(0,a.jsx)(t.code,{children:"HTMLInputElement"})," with a ",(0,a.jsx)(t.code,{children:"value"})," property that gets the value of the input. So, for every element in our array, we:"]}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["Create a new HTML paragraph element, with ",(0,a.jsx)(t.code,{children:'const paragraph = document.createElement("p");'}),"."]}),"\n",(0,a.jsxs)(t.li,{children:["Add the input's value (",(0,a.jsx)(t.code,{children:"element.value"}),") as the text to that paragraph element, with ",(0,a.jsx)(t.code,{children:"paragraph.append(element.value);"}),"."]}),"\n",(0,a.jsxs)(t.li,{children:["Add the new paragraph to the inside/end of our document's body tag with ",(0,a.jsx)(t.code,{children:"document.body.append(paragraph);"}),"."]}),"\n"]}),"\n",(0,a.jsx)(t.p,{children:"If we now save our project, refresh the browser, and resubmit the form, we'll see our selections at the bottom of the page! Cool!"}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{alt:"This image shows the working project: we&#39;ve selected checkbox options, submitted the form, and we see the results printed to the page.",src:n(51843).A+"",width:"626",height:"489"})}),"\n",(0,a.jsx)(t.h3,{id:"why-use-a-loop",children:"Why Use a Loop?"}),"\n",(0,a.jsxs)(t.p,{children:["You may be wondering why we don't just access the ",(0,a.jsx)(t.code,{children:"NodeList"})," object with bracket notation to print to the screen. Something like this:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-js",children:'function handleForm(event) {\n  event.preventDefault();\n  const userSelections = document.querySelectorAll("input[name=transportation-option]:checked");\n  \n  const paragraph = document.createElement("p");\n  // using bracket notation to access the first element in userSelections\n  paragraph.append(userSelections[0].value);\n  document.body.append(paragraph);\n\n  const paragraph2 = document.createElement("p");\n  // using bracket notation to access the second element in userSelections\n  paragraph.append(userSelections[1].value);\n  document.body.append(paragraph2);\n}\n'})}),"\n",(0,a.jsxs)(t.p,{children:["Well, we don't know how many selections a user will make. Right now the ",(0,a.jsx)(t.code,{children:"handleForm()"})," function is set up to handle 2 checkbox selections. What if the user makes just one selection? We'll get an error! Anytime we try to access the ",(0,a.jsx)(t.code,{children:"userSelections"})," object with bracket notation to access a property that doesn't exist, we'll get an error."]}),"\n",(0,a.jsxs)(t.p,{children:["This is where looping comes in handy! A loop like ",(0,a.jsx)(t.code,{children:"Array.prototype.forEach()"})," will only run as long as the length of the array it is called on. This means there's no chance of error \u2014 the length loop will grow and shrink with the length of the array."]}),"\n",(0,a.jsx)(t.h3,{id:"adding-a-heading-to-the-survey-results",children:"Adding a Heading to the Survey Results"}),"\n",(0,a.jsx)(t.p,{children:"Let's polish up our webpage a bit and add an H2 heading element to identify the survey results section. There's a few ways we could organize this code. We'll do it by creating the heading before printing the user selections to the page:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-js",children:'function handleForm(event) {\n  event.preventDefault();\n  const userSelections = document.querySelectorAll("input:checked");\n  const userSelectionsArray = Array.from(userSelections);\n\n  // create results heading\n  const resultsHeading = document.createElement("h2");\n  resultsHeading.append("You use the following methods of transportation to travel to work or school:");\n  document.body.append(resultsHeading);\n  \n  userSelectionsArray.forEach(function(element) {\n    const paragraph = document.createElement("p");\n    paragraph.append(element.value);\n    document.body.append(paragraph);\n  });\n}\n\nwindow.addEventListener("load", function() {\n  document.querySelector("form#transportation_survey").addEventListener("submit", handleForm);\n});\n'})})]})}function d(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},46951:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/checkboxes-finding-nodelist-type-1035e57c387fdef605d3d678f6835808.png"},51843:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/working-transportation-survey-32cc9e8db0dbd3ed52eb1de0b474801f.png"},75157:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/checkboxes-using-breakpoints-6099824c7962b8987ff61ecae423b98b.png"}}]);