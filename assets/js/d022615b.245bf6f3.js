"use strict";(self.webpackChunklhtp=self.webpackChunklhtp||[]).push([[54649],{28453:(e,i,n)=>{n.d(i,{R:()=>a,x:()=>o});var t=n(96540);const s={},r=t.createContext(s);function a(e){const i=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(r.Provider,{value:i},e.children)}},48577:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"react/react-with-nosql/4-4-0-11-adding-firebase-to-react","title":"\ud83d\udcd3 4.4.0.11 Adding Firebase to React","description":"We\'re ready to connect our Help Queue application to Firebase! To do this, we\'ll need to complete three steps:","source":"@site/versioned_docs/version-v1_3/4_react/4_react-with-nosql/4-4-0-11-adding-firebase-to-react.md","sourceDirName":"4_react/4_react-with-nosql","slug":"/react/react-with-nosql/4-4-0-11-adding-firebase-to-react","permalink":"/v1.3/react/react-with-nosql/4-4-0-11-adding-firebase-to-react","draft":false,"unlisted":false,"tags":[],"version":"v1_3","frontMatter":{"title":"\ud83d\udcd3 4.4.0.11 Adding Firebase to React","day":"weekend","id":"4-4-0-11-adding-firebase-to-react","hide_table_of_contents":true},"sidebar":"react","previous":{"title":"\ud83d\udcd3 4.4.0.10 Firebase Documentation","permalink":"/v1.3/react/react-with-nosql/4-4-0-10-firebase-documentation"},"next":{"title":"\ud83d\udcd3 4.4.0.12 Adding Tickets to Firestore","permalink":"/v1.3/react/react-with-nosql/4-4-0-12-adding-tickets-to-firestore"}}');var s=n(74848),r=n(28453);const a={title:"\ud83d\udcd3 4.4.0.11 Adding Firebase to React",day:"weekend",id:"4-4-0-11-adding-firebase-to-react",hide_table_of_contents:!0},o=void 0,c={},l=[{value:"Step 1: Install Firebase",id:"step-1-install-firebase",level:2},{value:"Step 2: Add <code>.env</code> File",id:"step-2-add-env-file",level:2},{value:"Step 3: Create Configuration File and Initialize Firebase",id:"step-3-create-configuration-file-and-initialize-firebase",level:2},{value:"Binding Libraries",id:"binding-libraries",level:2}];function d(e){const i={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.p,{children:"We're ready to connect our Help Queue application to Firebase! To do this, we'll need to complete three steps:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Install ",(0,s.jsx)(i.code,{children:"firebase"}),"."]}),"\n",(0,s.jsxs)(i.li,{children:["Hide sensitive Firebase configuration data in a ",(0,s.jsx)(i.code,{children:".env"})," file."]}),"\n",(0,s.jsx)(i.li,{children:"Create a Firebase configuration file."}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"And that's it!"}),"\n",(0,s.jsxs)(i.p,{children:["At the end of this lesson, we'll briefly talk about the possibility of using a ",(0,s.jsx)(i.strong,{children:"binding library"})," that offers tooling specifically for React applications that implement Firebase."]}),"\n",(0,s.jsx)(i.p,{children:"Go ahead and get started by opening up your Help Queue repo from React Fundamentals."}),"\n",(0,s.jsx)(i.h2,{id:"step-1-install-firebase",children:"Step 1: Install Firebase"}),"\n",(0,s.jsx)(i.hr,{}),"\n",(0,s.jsx)(i.p,{children:"First, we'll need to install Firebase in our project:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-javascript",children:"npm install firebase@9\n"})}),"\n",(0,s.jsx)(i.p,{children:"Note that it's important to use the version pinned in this lesson. Because Firebase changes frequently, using a different version may mean different steps to setting up your application's configuration."}),"\n",(0,s.jsxs)(i.h2,{id:"step-2-add-env-file",children:["Step 2: Add ",(0,s.jsx)(i.code,{children:".env"})," File"]}),"\n",(0,s.jsxs)(i.p,{children:["First, head on over to your Help Queue project settings in Firebase to get the Firebase configuration settings. From the project homepage, select the cog icon at the top-left of the screen, select ",(0,s.jsx)(i.em,{children:"General"}),", and scroll down until you find the help-queue-web app that we created in the last lesson. In this section, you'll find a code snippet that has a ",(0,s.jsx)(i.code,{children:"firebaseConfig"})," variable that looks something like this:"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-js",children:'const firebaseConfig = {\n  apiKey: "YOUR-UNIQUE-CREDENTIALS",\n  authDomain: "YOUR-PROJECT-NAME.firebaseapp.com",\n  projectId: "YOUR-UNIQUE-PROJECT-NAME",\n  storageBucket: "YOUR-UNIQUE-URL",\n  messagingSenderId: "YOUR-UNIQUE-CREDENTIALS",\n  appId: "YOUR-UNIQUE-APPID"\n};\n'})}),"\n",(0,s.jsxs)(i.p,{children:["Note that we have replaced all the values of the key-value pairs with generic placeholders. That's because the values for each Firebase application will be different; more importantly, it's sensitive data that we don't want to expose to the internet for anyone to access and use, including potentially malicious users. To conceal this information, we need to set up a ",(0,s.jsx)(i.code,{children:".env"})," file and an environment variable for each unique key in the ",(0,s.jsx)(i.code,{children:"firebaseConfig"})," object."]}),"\n",(0,s.jsxs)(i.p,{children:["Fortunately, ",(0,s.jsx)(i.code,{children:"create-react-app"})," automatically comes with ",(0,s.jsx)(i.code,{children:"dotenv"}),", the npm package we used in Intermediate JavaScript to store sensitive API keys in an ",(0,s.jsx)(i.code,{children:".env"})," file."]}),"\n",(0,s.jsxs)(i.p,{children:["Before creating the ",(0,s.jsx)(i.code,{children:".env"})," file, open ",(0,s.jsx)(i.code,{children:".gitignore"})," in the root of your project and add ",(0,s.jsx)(i.code,{children:".env"})," on its own line:"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{children:".env\n"})}),"\n",(0,s.jsxs)(i.p,{children:["Note that ",(0,s.jsx)(i.code,{children:"create-react-app"})," automatically ignores ",(0,s.jsx)(i.code,{children:".env.local"}),", ",(0,s.jsx)(i.code,{children:".env.development.local"}),", and similar variants, but not the plain ",(0,s.jsx)(i.code,{children:".env"})," file \u2014 so you need to add it yourself. Make sure this is done before staging and committing your changes."]}),"\n",(0,s.jsxs)(i.p,{children:["Next, create a ",(0,s.jsx)(i.code,{children:".env"})," file in the root directory of the project. Environment variables can only be set up for strings, not objects. For that reason, each key-value pair in the ",(0,s.jsx)(i.code,{children:"firebaseConfig"})," object needs to be broken down into its own line like this:"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-js",metastring:'title=".env"',children:'REACT_APP_FIREBASE_API_KEY = "YOUR-UNIQUE-CREDENTIALS"\nREACT_APP_FIREBASE_AUTH_DOMAIN = "YOUR-PROJECT-NAME.firebaseapp.com"\nREACT_APP_FIREBASE_PROJECT_ID = "YOUR-PROJECT-FIREBASE-PROJECT-ID"\nREACT_APP_FIREBASE_STORAGE_BUCKET = "YOUR-PROJECT-NAME.appspot.com"\nREACT_APP_FIREBASE_MESSAGING_SENDER_ID = "YOUR-PROJECT-SENDER-ID"\nREACT_APP_FIREBASE_APP_ID = "YOUR-PROJECT-APP-ID"\n'})}),"\n",(0,s.jsx)(i.p,{children:"Replace the placeholder string values above with the value of each key from your own Firebase application."}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Note:"})," It is very important that every environment variable in your application is prefaced by ",(0,s.jsx)(i.code,{children:"REACT_APP"}),". Otherwise, the environment variable ",(0,s.jsx)(i.strong,{children:"won't work"}),". This is a safeguard put in place by ",(0,s.jsx)(i.code,{children:"create-react-app"})," to ensure that sensitive environment variables aren't accidentally exposed in our applications."]}),"\n",(0,s.jsx)(i.admonition,{title:"A note on security",type:"caution",children:(0,s.jsxs)(i.p,{children:["These values aren't truly secret \u2014 they'll end up in your app's compiled JavaScript bundle and are visible to anyone who inspects it. What the ",(0,s.jsx)(i.code,{children:".env"})," file does is keep them out of your source code repository, so they don't get committed to GitHub. This is why, for a real production app, you'd want proper Firestore security rules in place \u2014 the config keys alone don't protect your data."]})}),"\n",(0,s.jsx)(i.h2,{id:"step-3-create-configuration-file-and-initialize-firebase",children:"Step 3: Create Configuration File and Initialize Firebase"}),"\n",(0,s.jsxs)(i.p,{children:["Next, we'll create a file in our ",(0,s.jsx)(i.code,{children:"src"})," directory called ",(0,s.jsx)(i.code,{children:"firebase.js"}),". This is where we'll initialize Firebase in our application and create a database reference. Note that Firebase is not prescriptive about what we name our configuration file or where it is located, so it's up to us to pick a name and location that is sensible and intuitive."]}),"\n",(0,s.jsx)(i.p,{children:"Add the following code to the file:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-js",metastring:'title="src/firebase.js"',children:"import { initializeApp } from \"firebase/app\";\nimport { getFirestore } from 'firebase/firestore';\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APP_ID \n}\n\nconst app = initializeApp(firebaseConfig);\nconst db = getFirestore(app);\n\nexport default db;\n"})}),"\n",(0,s.jsx)(i.p,{children:"This file mirrors the Firebase configuration from your project settings, with two differences:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["First, all the values in our ",(0,s.jsx)(i.code,{children:"firebaseConfig"})," are environment variables. We aren't exposing our sensitive data."]}),"\n",(0,s.jsxs)(i.li,{children:["Second, we import the ",(0,s.jsx)(i.code,{children:"getFirestore"})," function from ",(0,s.jsx)(i.code,{children:"firebase/firestore"})," to use at the bottom of the file to get access to our Firestore database."]}),"\n"]}),"\n",(0,s.jsxs)(i.p,{children:["Now, let's work through ",(0,s.jsx)(i.code,{children:"firebase.js"})," from top to bottom:"]}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:["We start by importing ",(0,s.jsx)(i.code,{children:"firebase/app"})," and ",(0,s.jsx)(i.code,{children:"firebase/firestore"}),"."]}),"\n",(0,s.jsxs)(i.li,{children:["Then we define our firebase config in ",(0,s.jsx)(i.code,{children:"firebaseConfig"}),". This information points to the exact web application that we created within the Firebase Help Queue project."]}),"\n",(0,s.jsxs)(i.li,{children:["Next, we call the ",(0,s.jsx)(i.code,{children:"initializeApp"})," function, passing in our ",(0,s.jsx)(i.code,{children:"firebaseConfig"})," as the argument. The ",(0,s.jsx)(i.code,{children:"initializeApp"})," function creates and initializes an instance of our Firebase web app, which we save in the variable ",(0,s.jsx)(i.code,{children:"app"}),". We can then use ",(0,s.jsx)(i.code,{children:"app"})," to access a variety of services that are connected to our web app, like our Firestore database."]}),"\n",(0,s.jsxs)(i.li,{children:["Next, we call the ",(0,s.jsx)(i.code,{children:"getFirestore"})," function, passing in ",(0,s.jsx)(i.code,{children:"app"}),". This function returns the Firestore database instance that's associated with our ",(0,s.jsx)(i.code,{children:"app"}),". We store our firestore database instance in the variable ",(0,s.jsx)(i.code,{children:"db"}),"."]}),"\n",(0,s.jsxs)(i.li,{children:["Finally, we export the ",(0,s.jsx)(i.code,{children:"db"})," variable, as our only and default export. We'll use this variable when we make requests to our database to read and update data."]}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"At this point, we've successfully added Firebase and Firestore to our application. Woo-hoo!"}),"\n",(0,s.jsx)(i.h2,{id:"binding-libraries",children:"Binding Libraries"}),"\n",(0,s.jsx)(i.hr,{}),"\n",(0,s.jsx)(i.p,{children:"Our next step is to actually start communicating with our database. For this, we have two options:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Use Firebase's built-in functions and tools to communicate with our database."}),"\n",(0,s.jsxs)(i.li,{children:["Use ",(0,s.jsx)(i.a,{href:"https://firebaseopensource.com/platform/web/",children:"an external library"})," that provides tools for using Firebase that are meant to work specifically with React. These libraries are often called ",(0,s.jsx)(i.strong,{children:"binding libraries"}),", as they help two separate libraries work together."]}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"Binding libraries can provide some abstractions that can be confusing to folks who are new to React. Some of these abstractions are based on using React context, which we won't work with until the next course section. What's more, binding libraries can cause confusion about what tooling or helper function comes from where."}),"\n",(0,s.jsxs)(i.p,{children:["For these reasons, we're going to stick to learning how to use Firebase's built-in functions and tools. We'll also learn how to reference the firebase docs and we'll get continued practice using React's built-in tools, like the ",(0,s.jsx)(i.code,{children:"useEffect"})," hook."]}),"\n",(0,s.jsx)(i.p,{children:"However, if you plan on using React and Firebase in your capstone project, we recommend exploring the available binding libraries for React and Firebase to see if they can improve your development experience, or move you past any issues that you run into when implementing a feature from Firebase."})]})}function h(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);