"use strict";(self.webpackChunklhtp=self.webpackChunklhtp||[]).push([[10548],{24299:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>r});const s=JSON.parse('{"id":"intermediate-javascript/object-oriented-javascript/2-1-1-6-address-book-delete-functionality-and-polish","title":"\ud83d\udcd3 2.1.1.6 Address Book: Delete Functionality and Polish","description":"In this lesson, we\'ll add a user interface for our Address Book\'s delete functionality. We\'ll need to add a delete button to our HTML, an event listener for the new button, as well as a user interface function to handle actually calling AddressBook.prototype.deleteContact() to delete the contact.","source":"@site/versioned_docs/version-WIP/2_intermediate-javascript/1_object-oriented-javascript/2-1-1-06-address-book-delete-functionality-and-polish.md","sourceDirName":"2_intermediate-javascript/1_object-oriented-javascript","slug":"/intermediate-javascript/object-oriented-javascript/2-1-1-6-address-book-delete-functionality-and-polish","permalink":"/WIP/intermediate-javascript/object-oriented-javascript/2-1-1-6-address-book-delete-functionality-and-polish","draft":false,"unlisted":false,"tags":[],"version":"WIP","frontMatter":{"title":"\ud83d\udcd3 2.1.1.6 Address Book: Delete Functionality and Polish","day":"monday","id":"2-1-1-6-address-book-delete-functionality-and-polish","hide_table_of_contents":true},"sidebar":"intermediate-javascript","previous":{"title":"\ud83d\udcd3 2.1.1.5 Address Book: Event Bubbling, Event Delegation, and the Event Object","permalink":"/WIP/intermediate-javascript/object-oriented-javascript/2-1-1-5-address-book-event-bubbling-event-delegation-and-the-event-object"},"next":{"title":"\ud83d\udcd3 2.1.1.7 Imposter Syndrome","permalink":"/WIP/intermediate-javascript/object-oriented-javascript/2-1-1-7-imposter-syndrome"}}');var o=n(74848),i=n(28453);const a={title:"\ud83d\udcd3 2.1.1.6 Address Book: Delete Functionality and Polish",day:"monday",id:"2-1-1-6-address-book-delete-functionality-and-polish",hide_table_of_contents:!0},l=void 0,d={},r=[{value:"Delete Functionality",id:"delete-functionality",level:2},{value:"More Improvements",id:"more-improvements",level:2},{value:"Bootstrap Styles",id:"bootstrap-styles",level:3},{value:"Empty Form Fields",id:"empty-form-fields",level:3}];function c(e){const t={a:"a",code:"code",div:"div",h2:"h2",h3:"h3",hr:"hr",i:"i",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(t.p,{children:["In this lesson, we'll add a user interface for our Address Book's delete functionality. We'll need to add a delete button to our HTML, an event listener for the new button, as well as a user interface function to handle actually calling ",(0,o.jsx)(t.code,{children:"AddressBook.prototype.deleteContact()"})," to delete the contact."]}),"\n",(0,o.jsx)(t.p,{children:"At the end of this lesson, we'll also add some bootstrap classes that will make our Address Book application look more polished."}),"\n",(0,o.jsx)(t.h2,{id:"delete-functionality",children:"Delete Functionality"}),"\n",(0,o.jsx)(t.hr,{}),"\n",(0,o.jsxs)(t.p,{children:["First, let's add a button to our HTML. We'll add this button to our contact details section. This will allow us to connect delete functionality to a specific ",(0,o.jsx)(t.code,{children:"Contact"})," object."]}),"\n",(0,o.jsx)(t.div,{className:"filename",children:"index.html"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-html",children:'<div id="contact-details" class="hidden">\n  <h2>Contact Details:</h2>\n  <p>First Name: <span class="first-name"></span></p>\n  <p>Last Name: <span class="last-name"></span></p>\n  <p>Phone Number: <span class="phone-number"></span></p>\n  <button class="delete" type="button">Delete</button>\n</div>\n'})}),"\n",(0,o.jsxs)(t.p,{children:["Next, let's turn to our scripts. First, we'll create a new event listener attached to our delete button that listens for a 'click' event. Then we'll create the beginning of a handler function called ",(0,o.jsx)(t.code,{children:"handleDelete()"}),"."]}),"\n",(0,o.jsx)(t.div,{className:"filename",children:"js/scripts.js"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-js",children:'...\n\nfunction handleDelete(event) {\n  \n}\n\n...\n\nwindow.addEventListener("load", function (){\n  document.querySelector("form#new-contact").addEventListener("submit", handleFormSubmission);\n  document.querySelector("div#contacts").addEventListener("click", displayContactDetails);\n  // The line below this one is new!\n  document.querySelector("button.delete").addEventListener("click", handleDelete);\n});\n'})}),"\n",(0,o.jsxs)(t.p,{children:["Next, we'll need to create the actual delete functionality. Our functionality relies on the ",(0,o.jsx)(t.code,{children:"AddressBook.prototype.deleteContact()"})," method, which takes a ",(0,o.jsx)(t.code,{children:"Contact"})," object id as an argument. This means that our button will need access to the id of the current contact that's being displayed."]}),"\n",(0,o.jsxs)(t.p,{children:["The ",(0,o.jsx)(t.code,{children:"displayContactDetails()"})," function already has access to the ",(0,o.jsx)(t.code,{children:"Contact"})," object's details, so let's update that function to also update our new delete button with an ",(0,o.jsx)(t.code,{children:"id"})," attribute set to the id of the contact."]}),"\n",(0,o.jsx)(t.div,{className:"filename",children:"js/scripts.js"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-js",children:'function displayContactDetails(event) {\n  const contact = addressBook.findContact(event.target.id);\n  document.querySelector(".first-name").innerText = contact.firstName;\n  document.querySelector(".last-name").innerText = contact.lastName;\n  document.querySelector(".phone-number").innerText = contact.phoneNumber;\n  // The line below this one is new!\n  document.querySelector("button.delete").setAttribute("id", contact.id);\n  document.querySelector("div#contact-details").removeAttribute("class");\n}\n'})}),"\n",(0,o.jsxs)(t.p,{children:["With ",(0,o.jsx)(t.code,{children:'document.querySelector("button.delete").setAttribute("id", contact.id);'}),", we are accessing our delete button and then giving it an ",(0,o.jsx)(t.code,{children:"id"})," attribute set to the ",(0,o.jsx)(t.code,{children:"Contact"})," object's id. We'll do this every time we display the details of a ",(0,o.jsx)(t.code,{children:"Contact"})," object, so our button will always have the value of the currently displayed ",(0,o.jsx)(t.code,{children:"Contact"}),"."]}),"\n",(0,o.jsxs)(t.p,{children:["Now it's time to add code to the ",(0,o.jsx)(t.code,{children:"handleDelete()"})," function:"]}),"\n",(0,o.jsx)(t.div,{className:"filename",children:"js/scripts.js"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-js",children:'function handleDelete(event) {\n  addressBook.deleteContact(event.target.id);\n  document.querySelector("button.delete").removeAttribute("id");\n  document.querySelector("div#contact-details").setAttribute("class", "hidden");\n  listContacts(addressBook);\n}\n'})}),"\n",(0,o.jsx)(t.p,{children:"Let's break down this new code line by line:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsxs)(t.p,{children:["First we call ",(0,o.jsx)(t.code,{children:"AddressBook.prototype.deleteContact()"})," to delete the ",(0,o.jsx)(t.code,{children:"Contact"})," object. Since ",(0,o.jsx)(t.code,{children:"addressBook"})," is a global variable, we can call on it from within the ",(0,o.jsx)(t.code,{children:"handleDelete()"})," function. Remember that we're using the global ",(0,o.jsx)(t.code,{children:"addressBook"})," variable as a mock database and that we typically should avoid global variables."]}),"\n"]}),"\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsxs)(t.p,{children:["Then, we remove the ",(0,o.jsx)(t.code,{children:"id"})," attribute from the delete button, thereby resetting it. This line of code is actually optional, because any time we use the ",(0,o.jsx)(t.code,{children:"Element.setAttribute()"})," method to create an ",(0,o.jsx)(t.code,{children:"id"})," for an element, it will overwrite the existing id attribute, if there is one. This means that when we call ",(0,o.jsx)(t.code,{children:"Element.setAttribute()"})," in the ",(0,o.jsx)(t.code,{children:"displayContactDetails()"})," function, it will overwrite the existing ",(0,o.jsx)(t.code,{children:"id"})," attribute. Whether or not we include this line of code depends on  the needs of our application. It may turn out to be better to ensure that our ",(0,o.jsx)(t.code,{children:"handleDelete()"})," function clears the id for the delete button so it can't be incorrectly used elsewhere."]}),"\n"]}),"\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsx)(t.p,{children:"In the next line of code, we are hiding the contact details div once more."}),"\n"]}),"\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsxs)(t.p,{children:["Finally, we call the ",(0,o.jsx)(t.code,{children:"listContacts"})," function again to refresh the list of contacts, this time without the contact that we've deleted."]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(t.h2,{id:"more-improvements",children:"More Improvements"}),"\n",(0,o.jsx)(t.hr,{}),"\n",(0,o.jsx)(t.p,{children:"Our address book is now fully functional. Let's add a few more user experience improvements before wrapping up."}),"\n",(0,o.jsx)(t.h3,{id:"bootstrap-styles",children:"Bootstrap Styles"}),"\n",(0,o.jsx)(t.p,{children:"First, let's utilize Bootstrap classes to add styling and a more organized layout to our page."}),"\n",(0,o.jsx)(t.div,{className:"filename",children:"index.html"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-html",children:'<!DOCTYPE html>\n<html>\n  <head>\n  <link \n    href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" \n    rel="stylesheet" \n    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" \n    crossorigin="anonymous">\n    <link href="css/styles.css" rel="stylesheet" type="text/css">\n    <script src="js/scripts.js"><\/script>\n    <title>Address Book</title>\n  </head>\n  <body>\n    <div class="container">\n      <h1>Address Book</h1>\n      <div class="row">\n        <div class="col-md-6">\n          <hr />\n          <h2>Add a Contact:</h2>\n          <form id="new-contact">\n            <div class="form-group">\n              <label for="new-first-name">First Name</label>\n              <input type="text"  class="form-control" id="new-first-name" name="new-first-name">\n            </div>\n            <div class="form-group">\n              <label for="new-last-name">Last Name</label>\n              <input type="text"  class="form-control" id="new-last-name" name="new-last-name">\n            </div>\n            <div class="form-group">\n              <label for="new-phone-number">Phone Number</label>\n              <input type="text"  class="form-control" id="new-phone-number" name="new-phone-number">\n            </div>\n            <button type="submit" class="btn-primary">Add</button>\n          </form>\n          <hr />\n          <h2>Contacts:</h2>\n          <div id="contacts">\n          </div>\n        </div>\n        <div class="col-md-6">\n          <div id="contact-details" class="hidden">\n            <h2>Contact Details:</h2>\n            <p>First Name: <span class="first-name"></span></p>\n            <p>Last Name: <span class="last-name"></span></p>\n            <p>Phone Number: <span class="phone-number"></span></p>\n            <button class="btn-primary delete" type="button">Delete</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </body>\n</html>\n'})}),"\n",(0,o.jsx)(t.p,{children:"Now our webpage will look a little nicer!"}),"\n",(0,o.jsx)(t.h3,{id:"empty-form-fields",children:"Empty Form Fields"}),"\n",(0,o.jsx)(t.p,{children:"Let's also make sure to empty out our form fields after submission:"}),"\n",(0,o.jsx)(t.div,{className:"filename",children:"js/scripts.js"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-javascript",children:'...\n\nfunction handleFormSubmission(event) {\n  event.preventDefault();\n  const inputtedFirstName = document.querySelector("input#new-first-name").value;\n  const inputtedLastName = document.querySelector("input#new-last-name").value;\n  const inputtedPhoneNumber = document.querySelector("input#new-phone-number").value;\n  let newContact = new Contact(inputtedFirstName, inputtedLastName, inputtedPhoneNumber);\n  addressBook.addContact(newContact);\n  listContacts(addressBook);\n  document.querySelector("input#new-first-name").value = null;\n  document.querySelector("input#new-last-name").value = null;\n  document.querySelector("input#new-phone-number").value = null;\n}\n\n...\n'})}),"\n",(0,o.jsx)(t.p,{children:"If you want to see all the updated code, check the branch in the repository below."}),"\n",(0,o.jsx)(t.hr,{}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.strong,{children:(0,o.jsxs)(t.a,{href:"https://github.com/epicodus-lessons/oop-address-book-v2/tree/8_adding_delete_functionality_and_polish",children:[(0,o.jsx)(t.i,{className:"glyphicon glyphicon-folder-open"}),"  Example GitHub Repo for the Address Book"]})})})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>l});var s=n(96540);const o={},i=s.createContext(o);function a(e){const t=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);